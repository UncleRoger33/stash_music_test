(this.webpackJsonpstash=this.webpackJsonpstash||[]).push([[2],{390:function(vt){vt.exports=JSON.parse(`{"actions":{"add":"Hinzuf\xFCgen","add_directory":"Ordner hinzuf\xFCgen","add_entity":"F\xFCge {entityType} hinzu","add_to_entity":"Hinzuf\xFCgen zu {entityType}","allow":"Erlauben","allow_temporarily":"Vor\xFCbergehend erlauben","apply":"\xDCbernehmen","auto_tag":"Auto Tag","backup":"Backup","cancel":"Abbrechen","clean":"Aufr\xE4umen","clear_back_image":"R\xFCckseite entfernen","clear_front_image":"Vorderseite entfernen","clear_image":"Bild entfernen","close":"Schlie\xDFen","create":"Erstellen","create_entity":"Erstelle {entityType}","create_marker":"Erstelle Marke","created_entity":"{entity_type} erstellt: {entity_name}","delete":"L\xF6schen","delete_entity":"L\xF6sche {entityType}","delete_file":"L\xF6sche Datei","delete_generated_supporting_files":"L\xF6sche generierte Hilfsdaten","disallow":"Nicht erlauben","download":"Herunterladen","download_backup":"Lade Backup herunter","edit":"Bearbeiten","export":"Exportieren\u2026","export_all":"Alles exportieren\u2026","find":"Suchen","from_file":"Aus Datei\u2026","from_url":"Von URL\u2026","full_export":"Vollst\xE4ndiger Export","full_import":"Vollst\xE4ndiger Import","generate":"Generieren","generate_thumb_default":"Erstelle voreingestelltes Vorschaubild","generate_thumb_from_current":"Erstelle Vorschaubild vom Gegenw\xE4rtigen","hash_migration":"Hash Umwandlung","hide":"Verstecken","import":"Importieren\u2026","import_from_file":"Importieren aus Datei","merge":"Zusammenf\xFChren","merge_from":"Zusammenf\xFChren aus","merge_into":"Zusammenf\xFChren in","not_running":"wird nicht ausgef\xFChrt","overwrite":"\xDCberschreiben","play_random":"Spiele zuf\xE4llig ab","play_selected":"Spiele ausgew\xE4hlte","preview":"Vorschau","refresh":"Aktualisieren","reload_plugins":"Plugins neu laden","reload_scrapers":"Scraper neu laden","remove":"Entfernen","rename_gen_files":"Hilfsdaten umbenennen","rescan":"Erneut scannen","reshuffle":"Neu mischen","running":"wird ausgef\xFChrt","save":"Speichern","save_filter":"Filter speichern","scan":"Scannen","scrape_with":"Scrape mit\u2026","search":"Suchen","select_all":"Alle ausw\xE4hlen","select_none":"Nichts ausw\xE4hlen","selective_auto_tag":"Selektives Auto Tag","selective_scan":"Selektives Scannen","set_as_default":"Als Voreinstellung festlegen","set_back_image":"R\xFCckseite\u2026","set_front_image":"Vorderseite\u2026","set_image":"Bild festlegen\u2026","show":"Anzeigen","skip":"\xDCberspringen","tasks":{"clean_confirm_message":"Wollen Sie wirklich die Datenbank aufr\xE4umen? Dies wird alle Informationen und Hilfsdaten f\xFCr Szenen und Galerien l\xF6schen, die nicht mehr auf dem Dateisystem vorhanden sind.","dry_mode_selected":"Trockenmodus ausgew\xE4hlt. Es findet keine L\xF6schung der Daten statt, lediglich Protokollierung.","import_warning":"Wollen Sie wirklich die Datenbank importieren? Dies wird die aktuelle Datenbank mit der importierten Datenbank \xFCberschreiben."},"temp_disable":"Vor\xFCbergehend deaktivieren\u2026","temp_enable":"V\xF6r\xFCbergehend aktivieren\u2026","view_random":"Zeige Zuf\xE4llige"},"actions_name":"Aktionen","age":"Alter","aliases":"Aliase","also_known_as":"Auch bekannt unter","ascending":"Aufsteigend","average_resolution":"Durchschnittliche Aufl\xF6sung","birth_year":"Geburtsjahr","birthdate":"Geburtsdatum","bitrate":"Bitrate","career_length":"L\xE4nge der Karriere","subsidiary_studios":"Tochterstudios","component_tagger":{"config":{"active_instance":"Aktive stash-box Instanz:","blacklist_desc":"Auf der Blacklist befindliche Objekte sind von Anfragen ausgenommen. Objekte sind regul\xE4re Ausdr\xFCcke und Gro\xDF-/Kleinschreibung wird nicht beachtet. Manchen Zeichen muss ein Fluchtsymbol (Backslash) vorangestellt werden: {chars_require_escape}","blacklist_label":"Blacklist","query_mode_auto":"Automatisch","query_mode_auto_desc":"Nutzt Metadaten sofern verf\xFCgbar bzw. Dateinamen","query_mode_dir":"Verzeichnis","query_mode_dir_desc":"Nutzt nur den \xFCbergeordneten Ornder ","query_mode_filename":"Dateiname","query_mode_filename_desc":"Nutzt nur den Dateinamen","query_mode_label":"Anfragemodus","query_mode_metadata":"Metadaten","query_mode_metadata_desc":"Nutzt nur Metadaten","query_mode_path":"Pfad  ","query_mode_path_desc":"Nutzt vollst\xE4ndigen Dateipfad","set_cover_desc":"\xDCberschreibe Cover-Bild, sofern verf\xFCgbar","set_cover_label":"Setze Cover-Bild","set_tag_desc":"H\xE4nge Tags der Szene an, entweder durch \xDCberschreiben oder Zusammenf\xFChren mit bereits angeh\xE4ngten Tags.","set_tag_label":"Tags anh\xE4ngen","show_male_desc":"Auswahl ob m\xE4nnliche Darsteller der Szene hinzugef\xFCgt werden k\xF6nnen.","show_male_label":"M\xE4nnliche Darsteller anzeigen"},"noun_query":"Anfrage","results":{"fp_found":"{fpCount, plural, =0 {Keine neuen Fingerabdruck\xFCbereinstimmungen gefunden} other {# neue Fingerabdruck\xFCbereinstimmungen gefunden}}","fp_matches":"\xDCbereinstimmung der Laufzeit","fp_matches_multi":"Laufzeit stimmt mit {matchCount}/{durationsLength} Fingerabdr\xFCcken \xFCberein","hash_matches":"\xDCbereinstimmung bei {hash_type}","match_failed_already_tagged":"Szene bereits getagged","match_failed_no_result":"Keine \xDCbereinstimmungen gefunden","match_success":"Szene erfolgreich getagged","duration_off":"Laufzeitunterschied bei mindestens {number}sek","duration_unknown":"Laufzeit unbekannt"},"verb_match_fp":"Fingerabdr\xFCcke zuordnen","verb_matched":"zugeordnet","verb_submit_fp":"\xDCbermittele {fpCount, plural, one{# Fingerabdruck} other{# Fingerabdr\xFCcke}}","verb_toggle_config":"{toggle} {configuration}","verb_toggle_unmatched":"{toggle} nicht zugeordnete Szenen"},"config":{"about":{"build_hash":"Hash des Builds:","build_time":"Zeitpunkt des Builds:","check_for_new_version":"Suche nach Updates","latest_version_build_hash":"Neuester Build Hash:","new_version_notice":"[NEU]","stash_discord":"Komm in unseren {url} Kanal","stash_home":"Stash ist beheimatet auf {url}","stash_open_collective":"Unterst\xFCtze uns \xFCber {url}","stash_wiki":"Stash {url} Seite","version":"Version"},"categories":{"about":"\xDCber","interface":"Oberfl\xE4che","logs":"Protokoll","plugins":"Plugins","scraping":"Scraping","tasks":"Aufgaben","tools":"Werkzeuge"},"dlna":{"allow_temp_ip":"Erlaube {tempIP}","allowed_ip_addresses":"Erlaubte IP Adressen","default_ip_whitelist":"Standard IP Whitelist","default_ip_whitelist_desc":"Standard IP Adressen, welche DLNA nutzen d\xFCrfen. Nutze {wildcard} um alle IP Adressen zu erlauben.","enabled_by_default":"Standardm\xE4\xDFig aktiviert","network_interfaces":"Netzwerkoberfl\xE4chen","network_interfaces_desc":"Netzwerkoberfl\xE4chen auf denen DLNA sichtbar ist. Eine leere Liste f\xFChrt dazu, dass DLNA auf allen Oberfl\xE4chen ausgef\xFChrt wird. Ben\xF6tigt Neustart des DLNA nach \xC4nderungen.","recent_ip_addresses":"Letzte IP Adressen","server_display_name":"Server Anzeigename","server_display_name_desc":"Anzeigename des DLNA-Servers. Standardm\xE4\xDFig {server_name} bei leerem Feld.","until_restart":"bis Neustart"},"general":{"auth":{"api_key":"API-Schl\xFCssel","api_key_desc":"API-Schl\xFCssel f\xFCr externe Systeme. Nur n\xF6tig, falls Benutzer/Password konfiguriert. Benutzername muss vor Erzeugung des API Schl\xFCssels gespeichert worden sein.","authentication":"Authentifizierung","clear_api_key":"API-Schl\xFCssel l\xF6schen","generate_api_key":"API-Schl\xFCssel erzeugen","log_file":"Protokolldatei","log_file_desc":"Pfad zur Protokolldatei. Feld leer lassen, um Protokollierung zu deaktivieren. Ben\xF6tigt Neustart.","log_http":"Protokolliere HTTP Zugriffe","log_http_desc":"Protokolliert HTTP Zugriffe im Terminal. Ben\xF6tigt Neustart.","log_to_terminal":"Protokolliere zu Terminal","log_to_terminal_desc":"Protokolliert zus\xE4tzlich zur Protokolldatei auch zum Terminal. Gilt automatisch, sofern Protokolldatei deaktiviert. Ben\xF6tigt Neustart.","maximum_session_age":"Maximale Sitzungsdauer","maximum_session_age_desc":"Maximale Wartezeit bis eine Login-Sitzung ausl\xE4uft, in Sekunden.","password":"Passwort","password_desc":"Passwort f\xFCr den Zugriff auf Stash. Feld leer lassen, um Benutzerauthentifizierung zu deaktivieren.","stash-box_integration":"Stash-box Einbindung","username":"Benutzername","username_desc":"Benutzername f\xFCr den Zugriff auf Stash. Feld leer lassen, um Benutzerauthentifizierung zu deaktivieren."},"cache_location":"Verzeichnis f\xFCr den Cache.","cache_path_head":"Cache Pfad","calculate_md5_and_ohash_desc":"Berechne MD5 Pr\xFCfsumme zus\xE4tzlich zu oshash. Aktivierung f\xFChrt dazu, dass erstmalige Scans mehr Zeit ben\xF6tigen. Dateibenennungshash muss auf oshash gesetzt sein, um Berechnung des MD5 zu unterbinden.","calculate_md5_and_ohash_label":"Berechne MD5 f\xFCr Videodateien","check_for_insecure_certificates":"\xDCberpr\xFCfe auf unsichere Zertifikate","check_for_insecure_certificates_desc":"Manche Seiten nutzen unsichere SSL Zertifikate. Wenn diese Option nicht ausgew\xE4hlt ist, \xFCberspringt der Scraper die \xDCberpr\xFCfung und erlaubt das Scrapen dieser Seiten. Entfernen Sie das H\xE4kchen, falls Sie Zertifikatsfehler beim Scrapen erhalten.","chrome_cdp_path":"Chrome CDP Pfad","chrome_cdp_path_desc":"Dateipfad zur Chrome Executable oder einer externen Adresse (beginnend mit http:// oder https://, bspw. http://localhost:9222/json/version) die auf eine Chrome Instanz zeigt.","create_galleries_from_folders_desc":"Wenn ausgew\xE4hlt, erzeuge Galerien aus Verzeichnissen, welche Bilder enthalten.","create_galleries_from_folders_label":"Erzeuge Galerien aus Verzeichnissen mit Bilder darin","db_path_head":"Datenbank Pfad","directory_locations_to_your_content":"Verzeichnis zu Ihren Inhalten","exclude_image":"Bilder ausschlie\xDFen","exclude_video":"Videos ausschlie\xDFen","excluded_image_gallery_patterns_desc":"Regul\xE4re Ausdr\xFCcke f\xFCr Dateinamen/Pfade von Bildern/Galerien, welche von Scans ausgeschlossen werden und beim Aufr\xE4umen der Datenbank ber\xFCcksichtigt werden sollen.","excluded_image_gallery_patterns_head":"Schema f\xFCr ausgeschlossene Bilder/Galerien","excluded_video_patterns_desc":"Regul\xE4re Ausdr\xFCcke f\xFCr Dateinamen/Pfade von Videos, welche von Scans ausgeschlossen werden und beim Aufr\xE4umen der Datenbank ber\xFCcksichtigt werden sollen.","excluded_video_patterns_head":"Schema f\xFCr ausgeschlossene Videos","gallery_ext_desc":"Durch Kommas getrennte Liste von Dateiformaten, welche als Galeriecontainer gelesen werden sollen.","gallery_ext_head":"Galeriecontainer Dateiformate","generated_file_naming_hash_desc":"Verwende MD5 oder oshash f\xFCr die Benennung der generierten Dateien. Um dies zu \xE4ndern, m\xFCssen f\xFCr alle Szenen der entsprechende MD5/oshash berechnet werden. Nachdem dieser Wert ge\xE4ndert wurde, m\xFCssen vorhandene generierte Dateien migriert oder neu generiert werden. Siehe Aufgabenseite f\xFCr die Migration.","generated_file_naming_hash_head":"Dateinamen-Hash f\xFCr generierte Dateien","generated_files_location":"Verzeichnisspeicherort f\xFCr die generierten Dateien (Szenenmarkierungen, Szenenvorschauen, Sprites usw.)","generated_path_head":"Pfad f\xFCr generierte Dateien","hashing":"Hashing","image_ext_desc":"Durch Kommas getrennte Liste von Dateierweiterungen, die als Bilder identifiziert werden.","image_ext_head":"Bilderweiterungen","logging":"Protokollierung","maximum_streaming_transcode_size_desc":"Maximale Gr\xF6\xDFe f\xFCr transcodierte Streams","maximum_streaming_transcode_size_head":"Maximale Streaming-Transcode-Gr\xF6\xDFe","maximum_transcode_size_desc":"Maximale Gr\xF6\xDFe f\xFCr generierte Transcodes","maximum_transcode_size_head":"Maximale Transcodierungsgr\xF6\xDFe","number_of_parallel_task_for_scan_generation_desc":"F\xFCr die automatische Erkennung auf 0 setzen. Warnung: Mehr Aufgaben auszuf\xFChren, als erforderlich ist, um eine CPU-Auslastung von 100 % zu erreichen, verringert die Leistung und verursacht m\xF6glicherweise andere Probleme.","number_of_parallel_task_for_scan_generation_head":"Anzahl paralleler Tasks f\xFCr Scan/Generierung","parallel_scan_head":"Paralleler Scan/Generierung","preview_generation":"Vorschau-Generierung","scraper_user_agent":"Scraper-Benutzeragent","scraper_user_agent_desc":"User-Agent-String, der w\xE4hrend Scrape-HTTP-Anfragen verwendet wird","scraping":"Scraping","sqlite_location":"Dateispeicherort f\xFCr die SQLite-Datenbank (erfordert Neustart)","video_ext_desc":"Durch Kommas getrennte Liste von Dateierweiterungen, die als Videos identifiziert werden.","video_ext_head":"Videodateiformate","video_head":"Video"},"logs":{"log_level":"Protokolllevel"},"plugins":{"hooks":"Hooks","triggers_on":"Ausl\xF6sen bei"},"scraping":{"entity_metadata":"{entityType} Metadaten","entity_scrapers":"{entityType} Scraper","scrapers":"Scraper","search_by_name":"Suche nach Name","supported_types":"Unterst\xFCtzte Typen","supported_urls":"URLs"},"stashbox":{"add_instance":"Stash-Box-Instanz hinzuf\xFCgen","api_key":"API-Schl\xFCssel","description":"Stash-Box erleichtert das automatisierte Tagging von Szenen und Darstellern basierend auf Fingerabdr\xFCcken und Dateinamen.\\nEndpunkt und API-Schl\xFCssel finden Sie auf Ihrer Kontoseite in der stash-box-Instanz. Ein Name ist erforderlich, wenn mehr als eine Instanz hinzugef\xFCgt wird.","endpoint":"Endpunkt","graphql_endpoint":"GraphQL-Endpunkt","name":"Name","title":"Stash-Box-Endpunkte"},"tasks":{"added_job_to_queue":"{operation_name} zur Auftragswarteschlange hinzugef\xFCgt","auto_tag_based_on_filenames":"Inhalte basierend auf Dateinamen automatisch taggen.","auto_tagging":"Automatisches Tagging","backing_up_database":"Datenbank sichern","backup_and_download":"F\xFChrt eine Sicherung der Datenbank durch und l\xE4dt die resultierende Datei herunter.","backup_database":"F\xFChrt eine Sicherung der Datenbank im selben Verzeichnis wie die Datenbank mit dem Dateinamenformat {filename_format} durch.","cleanup_desc":"Suche nach fehlenden Dateien und entfernen Sie diese aus der Datenbank. Dies ist eine destruktive Aktion.","dont_include_file_extension_as_part_of_the_title":"F\xFCge keine Dateierweiterung als Teil des Titels hinzu","export_to_json":"Exportiert den Datenbankinhalt in JSON-Format im Metadatenverzeichnis.","generate_desc":"Generiere unterst\xFCtzende Bild-, Sprite-, Video-, VTT- und andere Dateien.","generate_phashes_during_scan":"Generiere phashes w\xE4hrend des Scans (zur Deduplizierung und Szenenidentifikation)","generate_previews_during_scan":"Generiere Bildervorschauen w\xE4hrend des Scans (animierte WebP-Vorschauen, nur erforderlich, wenn Vorschautyp auf Animiertes Bild eingestellt ist)","generate_sprites_during_scan":"Generiere Sprites w\xE4hrend des Scans (f\xFCr den Szenen-Scrubber)","generate_video_previews_during_scan":"Generiere Vorschauen w\xE4hrend des Scans (Videovorschauen, die abgespielt werden, wenn der Mauszeiger \xFCber eine Szene f\xE4hrt)","generated_content":"Generierter Inhalt","import_from_exported_json":"Import aus exportiertem JSON im Metadatenverzeichnis. L\xF6scht die vorhandene Datenbank.","incremental_import":"Inkrementeller Import aus einer Export-ZIP-Datei.","job_queue":"Job-Warteschlange","maintenance":"Instandhaltung","migrate_hash_files":"Wird nach dem \xC4ndern des Dateinamen-Hashs f\xFCr generierte Dateien verwendet, um vorhandene generierte Dateien in das neue Hash-Format umzubenennen.","migrations":"Migrationen","only_dry_run":"F\xFChre nur einen Probelauf durch. Es wird noch nichts entfernt.","plugin_tasks":"Plugin-Aufgaben","scan_for_content_desc":"Suchen nach neuen Inhalten und f\xFCge sie der Datenbank hinzu.","set_name_date_details_from_metadata_if_present":"Name, Datum, Details aus Metadaten festlegen (falls vorhanden)"},"tools":{"scene_duplicate_checker":"Duplikatspr\xFCfung f\xFCr Szenen","scene_filename_parser":{"add_field":"Feld hinzuf\xFCgen","capitalize_title":"Titel gro\xDF schreiben","display_fields":"Anzeigefelder","escape_chars":"Verwenden Sie \\\\, um Literale zu maskieren","filename":"Dateiname","filename_pattern":"Dateinamenmuster","ignored_words":"Ignorierte W\xF6rter","matches_with":"Stimmt mit {i} \xFCberein","select_parser_recipe":"Parser-Rezept ausw\xE4hlen","title":"Szenendateinamen-Parser","whitespace_chars":"Zwischenraumzeichen","whitespace_chars_desc":"Diese Zeichen werden im Titel durch Zwischenraumzeichen ersetzt"},"scene_tools":"Szenen-Tools"},"ui":{"custom_css":{"description":"Die Seite muss neu geladen werden, damit die \xC4nderungen wirksam werden.","heading":"Benutzerdefinierte CSS","option_label":"Benutzerdefiniertes CSS aktiviert"},"handy_connection_key":{"description":"Handy Verbindungsschl\xFCssel f\xFCr interaktive Szenen.","heading":"Handy Verbindungsschl\xFCssel"},"language":{"heading":"Sprache"},"max_loop_duration":{"description":"Maximale Szenendauer, bei der der Szenenplayer das Video wiederholt - 0 zum Deaktivieren","heading":"Maximale Schleifendauer"},"menu_items":{"description":"Anzeigen oder Ausblenden verschiedener Inhaltstypen in der Navigationsleiste","heading":"Men\xFCpunkte"},"preview_type":{"description":"Konfiguration f\xFCr Szenenwand","heading":"Vorschautyp","options":{"animated":"Animiertes Bild","static":"Statisches Bild","video":"Video"}},"scene_list":{"heading":"Szenenliste","options":{"show_studio_as_text":"Studios als Text anzeigen"}},"scene_player":{"heading":"Szenenplayer","options":{"auto_start_video":"Video automatisch starten"}},"scene_wall":{"heading":"Szenen-/Markierungswand","options":{"display_title":"Titel und Tags anzeigen","toggle_sound":"Sound einschalten"}},"slideshow_delay":{"description":"Die Diashow ist in Galerien in der Wandansicht verf\xFCgbar","heading":"Verz\xF6gerung der Diashow"},"title":"Benutzeroberfl\xE4che"}},"configuration":"Konfiguration","countables":{"galleries":"{count, plural, one {Galerie} other {Galerien}}","images":"{count, plural, one {Bild} other {Bilder}}","markers":"{count, plural, one {Markierung} other {Markierungen}}","movies":"{count, plural, one {Film} other {Filme}}","performers":"{count, plural, one {Darsteller} other {Darsteller}}","scenes":"{count, plural, one {Szene} other {Szenen}}","studios":"{count, plural, one {Studio} other {Studios}}","tags":"{count, plural, one {Tag} other {Tags}}"},"country":"Land","cover_image":"Titelbild","created_at":"Erstellt am","criterion_modifier":{"equals":"ist","excludes":"schlie\xDFt aus","format_string":"{criterion} {modifierString} {valueString}","greater_than":"ist gr\xF6\xDFer als","includes":"beinhaltet","includes_all":"beinhaltet alles","is_null":"ist nichts","less_than":"ist weniger als","matches_regex":"stimmt mit Regex \xFCberein","not_equals":"ist nicht","not_matches_regex":"stimmt nicht mit Regex \xFCberein","not_null":"ist nicht nichts"},"date":"Datum","death_date":"Todesdatum","death_year":"Todesjahr","descending":"Absteigend","detail":"Detail","details":"Details","developmentVersion":"Entwicklungsversion","dialogs":{"delete_confirm":"M\xF6chten Sie {entityName} wirklich l\xF6schen?","delete_entity_desc":"{count, plural, one {M\xF6chten Sie {singularEntity} wirklich l\xF6schen? Sofern die Datei nicht ebenfalls gel\xF6scht wird, wird diese {singularEntity} beim Scannen wieder hinzugef\xFCgt.} other {M\xF6chten Sie diese {pluralEntity} wirklich l\xF6schen? Sofern die Dateien nicht ebenfalls gel\xF6scht werden, werden diese {pluralEntity} beim Scannen wieder hinzugef\xFCgt.}}","delete_entity_title":"{count, plural, one {L\xF6sche {singularEntity}} other {L\xF6sche {pluralEntity}}}","delete_object_desc":"M\xF6chten Sie {count, plural, one {diese {singularEntity}} other {diese {pluralEntity}}} wirklich l\xF6schen?","delete_object_overflow":"\u2026und {count} other {count, plural, one {{singularEntity}} other {{pluralEntity}}}.","delete_object_title":"{count, plural, one {{singularEntity}} other {{pluralEntity}}} l\xF6schen","edit_entity_title":"Bearbeiten von {count, plural, one {{singularEntity}} other {{pluralEntity}}}","export_include_related_objects":"Zugeh\xF6rige Objekte in den Export einbeziehen","export_title":"Export","merge_tags":{"destination":"Ziel","source":"Quelle"},"overwrite_filter_confirm":"M\xF6chten Sie die vorhandene gespeicherte Anfrage {entityName} wirklich \xFCberschreiben?","scene_gen":{"image_previews":"Bildvorschauen (animierte WebP-Vorschauen, nur erforderlich, wenn Vorschautyp auf Animiertes Bild eingestellt ist)","markers":"Markierungen (20-Sekunden-Videos, die mit dem angegebenen Timecode beginnen)","overwrite":"Vorhandene generierte Dateien \xFCberschreiben","phash":"Perzeptuelle Hashes (zur Deduplizierung)","preview_exclude_end_time_desc":"Schlie\xDFen Sie die letzten x Sekunden von der Szenenvorschau aus. Dies kann ein Wert in Sekunden oder ein Prozentsatz (zB 2%) der gesamten Szenendauer sein.","preview_exclude_end_time_head":"Endzeit ausschlie\xDFen","preview_exclude_start_time_desc":"Schlie\xDFen Sie die ersten x Sekunden von der Szenenvorschau aus. Dies kann ein Wert in Sekunden oder ein Prozentsatz (zB 2%) der gesamten Szenendauer sein.","preview_exclude_start_time_head":"Startzeit ausschlie\xDFen","preview_options":"Vorschauoptionen","preview_preset_desc":"Die Voreinstellung regelt Gr\xF6\xDFe, Qualit\xE4t und Encoding-Zeit der Vorschaugenerierung. Einstellungen jenseits von \u201Eslow\u201C haben vernachl\xE4ssigbare Vorteile und werden nicht empfohlen.","preview_preset_head":"Vorschau-Kodierungseinstellung","preview_seg_count_desc":"Anzahl der Segmente in Vorschaudateien.","preview_seg_count_head":"Anzahl der Segmente in der Vorschau","preview_seg_duration_desc":"Dauer jedes Vorschausegments in Sekunden.","preview_seg_duration_head":"Vorschau der Segmentdauer","sprites":"Sprites (f\xFCr den Szenen-Scrubber)","transcodes":"Transcodes (MP4-Konvertierungen von nicht unterst\xFCtzten Videoformaten)","video_previews":"Vorschauen (Videovorschauen, die abgespielt werden, wenn Sie mit der Maus \xFCber eine Szene fahren)"},"scrape_entity_title":"{entity_type} Scrape-Ergebnisse","scrape_results_existing":"Vorhanden","scrape_results_scraped":"Gescraped","set_image_url_title":"Bild URL","unsaved_changes":"Nicht gespeicherte \xC4nderungen. Bist du sicher dass du die Seite verlassen willst?"},"dimensions":"Ma\xDFe","director":"Direktor","display_mode":{"grid":"Gitter","list":"Liste","tagger":"Tagger","unknown":"Unbekannt","wall":"Wand"},"donate":"Spenden","dupe_check":{"description":"Bei Levels unterhalb von 'Exact' kann die Berechnung l\xE4nger dauern. Bei niedrigeren Genauigkeitsstufen k\xF6nnen auch falsch positive Ergebnisse zur\xFCckgegeben werden.","found_sets":"{setCount, plural, one{# Satz von Duplikaten gefunden.} andere {# S\xE4tze von Duplikaten gefunden.}}","options":{"exact":"Genau","high":"Hoch","low":"Niedrig","medium":"Mittel"},"search_accuracy_label":"Suchgenauigkeit","title":"Szenen-Duplikate"},"duration":"Dauer","effect_filters":{"aspect":"Aspekt","blue":"Blau","blur":"Blur","brightness":"Helligkeit","contrast":"Kontrast","gamma":"Gamma","green":"Gr\xFCn","hue":"Farbton","name":"Filter","name_transforms":"Transformierung","red":"Rot","reset_filters":"Filter zur\xFCcksetzen","reset_transforms":"Transformationen zur\xFCcksetzen","rotate":"Drehen","rotate_left_and_scale":"Nach links drehen und skalieren","rotate_right_and_scale":"Nach rechts drehen und skalieren","saturation":"S\xE4ttigung","scale":"Skalieren","warmth":"W\xE4rme"},"ethnicity":"Ethnizit\xE4t","eye_color":"Augenfarbe","fake_tits":"Gemachte Br\xFCste","favourite":"Favorit","file_info":"Datei","file_mod_time":"Datei\xE4nderungszeit","filesize":"Dateigr\xF6\xDFe","filter":"Filter","filter_name":"Filtername","filters":"Filter","framerate":"Bildrate","galleries":"Galerien","gallery":"Galerie","gallery_count":"Galerienanzahl","gender":"Geschlecht","hair_color":"Haarfarbe","hasMarkers":"Hat Markierungen","height":"Gr\xF6\xDFe","help":"Hilfe","image":"Bild","image_count":"Bilderanzahl","images":"Bilder","include_sub_studios":"Tochterstudios einbeziehen","instagram":"Instagram","interactive":"Interaktiv","isMissing":"Wird vermisst","library":"Bibliothek","loading":{"generic":"Wird geladen\u2026"},"marker_count":"Markierungsanzahl","markers":"Merker","measurements":"Ma\xDFe","media_info":{"audio_codec":"Audio-Codec","checksum":"Pr\xFCfsumme","downloaded_from":"Heruntergeladen von","hash":"Hash","performer_card":{"age":"{age} {years_old}","age_context":"{age} {years_old} in dieser Szene"},"phash":"PHash","stream":"Stream","video_codec":"Video-Codec"},"metadata":"Metadaten","movie":"Film","movie_scene_number":"Filmszenennummer","movies":"Filme","name":"Name","new":"Neu","none":"Keiner","o_counter":"O-Z\xE4hler","operations":"Operationen","organized":"Organisiert","pagination":{"first":"Erste","last":"Letzte","next":"N\xE4chster","previous":"Vorheriger"},"parent_studios":"Elternstudios","path":"Pfad","performer":"Darsteller","performer_count":"Darstelleranzahl","performer_image":"Darsteller-Bild","performers":"Darsteller","performerTags":"Darsteller-Tags","piercings":"Piercings","queue":"Playlist","random":"Zuf\xE4llig","rating":"Wertung","resolution":"Aufl\xF6sung","scene":"Szene","scene_count":"Szenenanzahl","scene_id":"Szenen-ID","scenes":"Szenen","scenes_updated_at":"Szene aktualisiert am","sceneTagger":"Szenen-Tagger","sceneTags":"Szenen-Tags","search_filter":{"add_filter":"Filter hinzuf\xFCgen","name":"Filter","saved_filters":"Gespeicherte Filter","update_filter":"Filter aktualisieren"},"seconds":"Sekunden","settings":"Einstellungen","stash_id":"Stash-ID","status":"Status: {statusText}","studio":"Studio","studio_depth":"Ebenen (leer f\xFCr alle)","studios":"Studios","synopsis":"Zusammenfassung","tag":"Tag","tag_count":"Tag-Anzahl","tags":"Tags","tattoos":"T\xE4towierungen","title":"Titel","toast":{"added_entity":"{entity} hinzugef\xFCgt","added_generation_job_to_queue":"Generierungsaufgabe zur Warteschlange hinzugef\xFCgt","create_entity":"{entity} erstellt","default_filter_set":"Standardfiltersatz","delete_entity":"{count, plural, one {{singularEntity}} other {{pluralEntity}}} l\xF6schen","delete_past_tense":"{count, plural, one {{singularEntity}} other {{pluralEntity}}} gel\xF6scht","generating_screenshot":"Screenshot wird erstellt\u2026","merged_tags":"Zusammengef\xFChrte Tags","rescanning_entity":"Erneutes Scannen von {count, plural, one {{singularEntity}} other {{pluralEntity}}}\u2026","started_auto_tagging":"Automatisches Tagging gestartet","saved_entity":"{entity} gespeichert","updated_entity":"{entity} aktualisiert"},"total":"Gesamt","twitter":"Twitter","up-dir":"Ein Verzeichnis hoch","updated_at":"Aktualisiert am","url":"URL","weight":"Gewicht","years_old":"Jahre alt","stats":{"image_size":"Bildgr\xF6\xDFe","scenes_size":"Szenengr\xF6\xDFe"}}`)},391:function(vt){vt.exports=JSON.parse(`{"actions":{"add":"Add","add_directory":"Add Directory","add_entity":"Add {entityType}","add_to_entity":"Add to {entityType}","allow":"Allow","allow_temporarily":"Allow temporarily","apply":"Apply","auto_tag":"Auto Tag","backup":"Backup","cancel":"Cancel","clean":"Clean","clear":"Clear","clear_back_image":"Clear back image","clear_front_image":"Clear front image","clear_image":"Clear Image","close":"Close","create":"Create","create_entity":"Create {entityType}","create_marker":"Create Marker","created_entity":"Created {entity_type}: {entity_name}","delete":"Delete","delete_entity":"Delete {entityType}","delete_file":"Delete file","delete_generated_supporting_files":"Delete generated supporting files","disallow":"Disallow","download":"Download","download_backup":"Download Backup","edit":"Edit","export":"Export\u2026","export_all":"Export all\u2026","find":"Find","from_file":"From file\u2026","from_url":"From URL\u2026","full_export":"Full Export","full_import":"Full Import","generate":"Generate","generate_thumb_default":"Generate default thumbnail","generate_thumb_from_current":"Generate thumbnail from current","hash_migration":"hash migration","hide":"Hide","identify":"Identify","import":"Import\u2026","import_from_file":"Import from file","merge":"Merge","merge_from":"Merge from","merge_into":"Merge into","not_running":"not running","overwrite":"Overwrite","play_random":"Play Random","play_selected":"Play selected","preview":"Preview","refresh":"Refresh","reload_plugins":"Reload plugins","reload_scrapers":"Reload scrapers","remove":"Remove","rename_gen_files":"Rename generated files","rescan":"Rescan","reshuffle":"Reshuffle","running":"running","save":"Save","save_delete_settings":"Use these options by default when deleting","save_filter":"Save filter","scan":"Scan","scrape":"Scrape","scrape_with":"Scrape with\u2026","scrape_query":"Scrape query","scrape_scene_fragment":"Scrape by fragment","search":"Search","select_all":"Select All","select_none":"Select None","selective_auto_tag":"Selective Auto Tag","selective_scan":"Selective Scan","set_as_default":"Set as default","set_back_image":"Back image\u2026","set_front_image":"Front image\u2026","set_image":"Set image\u2026","show":"Show","skip":"Skip","stop":"Stop","tasks":{"clean_confirm_message":"Are you sure you want to Clean? This will delete database information and generated content for all scenes and galleries that are no longer found in the filesystem.","dry_mode_selected":"Dry Mode selected. No actual deleting will take place, only logging.","import_warning":"Are you sure you want to import? This will delete the database and re-import from your exported metadata."},"temp_disable":"Disable temporarily\u2026","temp_enable":"Enable temporarily\u2026","view_random":"View Random","confirm":"Confirm","select_folders":"Select folders","browse_for_image":"Browse for image\u2026","open_random":"Open Random","next_action":"Next","previous_action":"Back","finish":"Finish","use_default":"Use default","ignore":"Ignore"},"actions_name":"Actions","age":"Age","aliases":"Aliases","all":"all","also_known_as":"Also known as","ascending":"Ascending","average_resolution":"Average Resolution","birth_year":"Birth Year","birthdate":"Birthdate","bitrate":"Bit Rate","career_length":"Career Length","subsidiary_studios":"Subsidiary Studios","sub_tags":"Sub-Tags","sub_tag_count":"Sub-Tag Count","component_tagger":{"config":{"active_instance":"Active stash-box instance:","blacklist_desc":"Blacklist items are excluded from queries. Note that they are regular expressions and also case-insensitive. Certain characters must be escaped with a backslash: {chars_require_escape}","blacklist_label":"Blacklist","query_mode_auto":"Auto","query_mode_auto_desc":"Uses metadata if present, or filename","query_mode_dir":"Dir","query_mode_dir_desc":"Only uses parent directory of video file","query_mode_filename":"Filename","query_mode_filename_desc":"Only uses filename","query_mode_label":"Query Mode","query_mode_metadata":"Metadata","query_mode_metadata_desc":"Only uses metadata","query_mode_path":"Path","query_mode_path_desc":"Uses entire file path","set_cover_desc":"Replace the scene cover if one is found.","set_cover_label":"Set scene cover image","set_tag_desc":"Attach tags to scene, either by overwriting or merging with existing tags on scene.","set_tag_label":"Set tags","source":"Source","show_male_desc":"Toggle whether male performers will be available to tag.","show_male_label":"Show male performers"},"noun_query":"Query","results":{"fp_found":"{fpCount, plural, =0 {No new fingerprint matches found} other {# new fingerprint matches found}}","fp_matches":"Duration is a match","fp_matches_multi":"Duration matches {matchCount}/{durationsLength} fingerprint(s)","hash_matches":"{hash_type} is a match","match_failed_already_tagged":"Scene already tagged","match_failed_no_result":"No results found","match_success":"Scene successfully tagged","unnamed":"Unnamed","duration_off":"Duration off by at least {number}s","duration_unknown":"Duration unknown","phash_matches":"{count} PHashes match"},"verb_match_fp":"Match Fingerprints","verb_matched":"Matched","verb_scrape_all":"Scrape All","verb_submit_fp":"Submit {fpCount, plural, one{# Fingerprint} other{# Fingerprints}}","verb_toggle_config":"{toggle} {configuration}","verb_toggle_unmatched":"{toggle} unmatched scenes"},"config":{"about":{"build_hash":"Build hash:","build_time":"Build time:","check_for_new_version":"Check for new version","latest_version_build_hash":"Latest Version Build Hash:","new_version_notice":"[NEW]","stash_discord":"Join our {url} channel","stash_home":"Stash home at {url}","stash_open_collective":"Support us through {url}","stash_wiki":"Stash {url} page","version":"Version"},"categories":{"about":"About","interface":"Interface","logs":"Logs","plugins":"Plugins","scraping":"Scraping","tasks":"Tasks","tools":"Tools"},"dlna":{"allow_temp_ip":"Allow {tempIP}","allowed_ip_addresses":"Allowed IP addresses","default_ip_whitelist":"Default IP Whitelist","default_ip_whitelist_desc":"Default IP addresses allow to access DLNA. Use {wildcard} to allow all IP addresses.","enabled_by_default":"Enabled by default","network_interfaces":"Interfaces","network_interfaces_desc":"Interfaces to expose DLNA server on. An empty list results in running on all interfaces. Requires DLNA restart after changing.","recent_ip_addresses":"Recent IP addresses","server_display_name":"Server Display Name","server_display_name_desc":"Display name for the DLNA server. Defaults to {server_name} if empty.","until_restart":"until restart"},"general":{"auth":{"api_key":"API Key","api_key_desc":"API key for external systems. Only required when username/password is configured. Username must be saved before generating API key.","authentication":"Authentication","clear_api_key":"Clear API key","generate_api_key":"Generate API key","log_file":"Log file","log_file_desc":"Path to the file to output logging to. Blank to disable file logging. Requires restart.","log_http":"Log http access","log_http_desc":"Logs http access to the terminal. Requires restart.","log_to_terminal":"Log to terminal","log_to_terminal_desc":"Logs to the terminal in addition to a file. Always true if file logging is disabled. Requires restart.","maximum_session_age":"Maximum Session Age","maximum_session_age_desc":"Maximum idle time before a login session is expired, in seconds.","password":"Password","password_desc":"Password to access Stash. Leave blank to disable user authentication","stash-box_integration":"Stash-box integration","trusted_proxies":"Trusted proxies","trusted_proxies_desc":"List of proxies that are allowed to proxy traffic into stash. Leave empty to allow from private network.","username":"Username","username_desc":"Username to access Stash. Leave blank to disable user authentication"},"cache_location":"Directory location of the cache","cache_path_head":"Cache Path","calculate_md5_and_ohash_desc":"Calculate MD5 checksum in addition to oshash. Enabling will cause initial scans to be slower. File naming hash must be set to oshash to disable MD5 calculation.","calculate_md5_and_ohash_label":"Calculate MD5 for videos","check_for_insecure_certificates":"Check for insecure certificates","check_for_insecure_certificates_desc":"Some sites use insecure ssl certificates. When unticked the scraper skips the insecure certificates check and allows scraping of those sites. If you get a certificate error when scraping untick this.","chrome_cdp_path":"Chrome CDP path","chrome_cdp_path_desc":"File path to the Chrome executable, or a remote address (starting with http:// or https://, for example http://localhost:9222/json/version) to a Chrome instance.","create_galleries_from_folders_desc":"If true, creates galleries from folders containing images.","create_galleries_from_folders_label":"Create galleries from folders containing images","db_path_head":"Database Path","directory_locations_to_your_content":"Directory locations to your content","exclude_image":"Exclude Image","exclude_video":"Exclude Video","excluded_image_gallery_patterns_desc":"Regexps of image and gallery files/paths to exclude from Scan and add to Clean","excluded_image_gallery_patterns_head":"Excluded Image/Gallery Patterns","excluded_video_patterns_desc":"Regexps of video files/paths to exclude from Scan and add to Clean","excluded_video_patterns_head":"Excluded Video Patterns","gallery_ext_desc":"Comma-delimited list of file extensions that will be identified as gallery zip files.","gallery_ext_head":"Gallery zip Extensions","generated_file_naming_hash_desc":"Use MD5 or oshash for generated file naming. Changing this requires that all scenes have the applicable MD5/oshash value populated. After changing this value, existing generated files will need to be migrated or regenerated. See Tasks page for migration.","generated_file_naming_hash_head":"Generated file naming hash","generated_files_location":"Directory location for the generated files (scene markers, scene previews, sprites, etc)","generated_path_head":"Generated Path","hashing":"Hashing","image_ext_desc":"Comma-delimited list of file extensions that will be identified as images.","image_ext_head":"Image Extensions","logging":"Logging","maximum_streaming_transcode_size_desc":"Maximum size for transcoded streams","maximum_streaming_transcode_size_head":"Maximum streaming transcode size","maximum_transcode_size_desc":"Maximum size for generated transcodes","maximum_transcode_size_head":"Maximum transcode size","metadata_path":{"heading":"Metadata Path","description":"Directory location used when performing a full export or import"},"number_of_parallel_task_for_scan_generation_desc":"Set to 0 for auto-detection. Warning running more tasks than is required to achieve 100% cpu utilisation will decrease performance and potentially cause other issues.","number_of_parallel_task_for_scan_generation_head":"Number of parallel task for scan/generation","parallel_scan_head":"Parallel Scan/Generation","preview_generation":"Preview Generation","scraper_user_agent":"Scraper User Agent","scraper_user_agent_desc":"User-Agent string used during scrape http requests","scraping":"Scraping","sqlite_location":"File location for the SQLite database (requires restart)","video_ext_desc":"Comma-delimited list of file extensions that will be identified as videos.","video_ext_head":"Video Extensions","video_head":"Video","include_audio_head":"Include audio","include_audio_desc":"Includes audio stream when generating previews."},"logs":{"log_level":"Log Level"},"plugins":{"hooks":"Hooks","triggers_on":"Triggers on"},"scraping":{"entity_metadata":"{entityType} Metadata","entity_scrapers":"{entityType} scrapers","excluded_tag_patterns_desc":"Regexps of tag names to exclude from scraping results","excluded_tag_patterns_head":"Excluded Tag Patterns","scraper":"Scraper","scrapers":"Scrapers","search_by_name":"Search by name","supported_types":"Supported types","supported_urls":"URLs"},"stashbox":{"add_instance":"Add stash-box instance","api_key":"API key","description":"Stash-box facilitates automated tagging of scenes and performers based on fingerprints and filenames.\\nEndpoint and API key can be found on your account page on the stash-box instance. Names are required when more than one instance is added.","endpoint":"Endpoint","graphql_endpoint":"GraphQL endpoint","name":"Name","title":"Stash-box Endpoints"},"tasks":{"added_job_to_queue":"Added {operation_name} to job queue","auto_tag_based_on_filenames":"Auto-tag content based on filenames.","auto_tagging":"Auto Tagging","backing_up_database":"Backing up database","backup_and_download":"Performs a backup of the database and downloads the resulting file.","backup_database":"Performs a backup of the database to the same directory as the database, with the filename format {filename_format}","cleanup_desc":"Check for missing files and remove them from the database. This is a destructive action.","dont_include_file_extension_as_part_of_the_title":"Don't include file extension as part of the title","export_to_json":"Exports the database content into JSON format in the metadata directory.","generate_desc":"Generate supporting image, sprite, video, vtt and other files.","generate_phashes_during_scan":"Generate phashes during scan (for deduplication and scene identification)","generate_previews_during_scan":"Generate image previews during scan (animated WebP previews, only required if Preview Type is set to Animated Image)","generate_sprites_during_scan":"Generate sprites during scan (for the scene scrubber)","generate_video_previews_during_scan":"Generate previews during scan (video previews which play when hovering over a scene)","generate_thumbnails_during_scan":"Generate thumbnails for images during scan.","generated_content":"Generated Content","identify":{"and_create_missing":"and create missing","create_missing":"Create missing","heading":"Identify","description":"Automatically set scene metadata using stash-box and scraper sources.","default_options":"Default Options","explicit_set_description":"The following options will be used where not overridden in the source-specific options.","field_behaviour":"{strategy} {field}","field_options":"Field Options","identifying_scenes":"Identifying {num} {scene}","identifying_from_paths":"Identifying scenes from the following paths","include_male_performers":"Include male performers","set_cover_images":"Set cover images","set_organized":"Set organised flag","source_options":"{source} Options","source":"Source","sources":"Sources","field":"Field","strategy":"Strategy"},"import_from_exported_json":"Import from exported JSON in the metadata directory. Wipes the existing database.","incremental_import":"Incremental import from a supplied export zip file.","job_queue":"Job Queue","maintenance":"Maintenance","migrate_hash_files":"Used after changing the Generated file naming hash to rename existing generated files to the new hash format.","migrations":"Migrations","only_dry_run":"Only perform a dry run. Don't remove anything","plugin_tasks":"Plugin Tasks","scan_for_content_desc":"Scan for new content and add it to the database.","set_name_date_details_from_metadata_if_present":"Set name, date, details from metadata (if present)"},"tools":{"scene_duplicate_checker":"Scene Duplicate Checker","scene_filename_parser":{"add_field":"Add Field","capitalize_title":"Capitalize title","display_fields":"Display fields","escape_chars":"Use \\\\ to escape literal characters","filename":"Filename","filename_pattern":"Filename Pattern","ignore_organized":"Ignore organised scenes","ignored_words":"Ignored words","matches_with":"Matches with {i}","select_parser_recipe":"Select Parser Recipe","title":"Scene Filename Parser","whitespace_chars":"Whitespace characters","whitespace_chars_desc":"These characters will be replaced with whitespace in the title"},"scene_tools":"Scene Tools"},"ui":{"custom_css":{"description":"Page must be reloaded for changes to take effect.","heading":"Custom CSS","option_label":"Custom CSS enabled"},"delete_options":{"description":"Default settings when deleting images, galleries, and scenes.","heading":"Delete Options","options":{"delete_file":"Delete file by default","delete_generated_supporting_files":"Delete generated supporting files by default"}},"desktop_integration":{"desktop_integration":"Desktop Integration","skip_opening_browser":"Skip Opening Browser","skip_opening_browser_on_startup":"Skip auto-opening browser during startup"},"editing":{"disable_dropdown_create":{"heading":"Disable dropdown create","description":"Remove the ability to create new objects from the dropdown selectors"},"heading":"Editing"},"handy_connection_key":{"description":"Handy connection key to use for interactive scenes.","heading":"Handy Connection Key"},"funscript_offset":{"description":"Time offset in milliseconds for interactive scripts playback.","heading":"Funscript Offset (ms)"},"images":{"options":{"write_image_thumbnails":{"heading":"Write image thumbnails","description":"Write image thumbnails to disk when generated on-the-fly"}}},"language":{"heading":"Language"},"max_loop_duration":{"description":"Maximum scene duration where scene player will loop the video - 0 to disable","heading":"Maximum loop duration"},"menu_items":{"description":"Show or hide different types of content on the navigation bar","heading":"Menu Items"},"performers":{"options":{"image_location":{"heading":"Custom Performer Image Path","description":"Custom path for default performer images. Leave empty to use in-built defaults"}}},"preview_type":{"description":"Configuration for wall items","heading":"Preview Type","options":{"animated":"Animated Image","static":"Static Image","video":"Video"}},"scene_list":{"heading":"Scene List","options":{"show_studio_as_text":"Show Studios as text"}},"scene_player":{"heading":"Scene Player","options":{"auto_start_video":"Auto-start video","auto_start_video_on_play_selected":{"heading":"Auto-start video when playing selected","description":"Auto-start scene videos when playing selected or random from Scenes page"},"continue_playlist_default":{"heading":"Continue playlist by default","description":"Play next scene in queue when video finishes"}}},"scene_wall":{"heading":"Scene / Marker Wall","options":{"display_title":"Display title and tags","toggle_sound":"Enable sound"}},"slideshow_delay":{"description":"Slideshow is available in galleries when in wall view mode","heading":"Slideshow Delay"},"title":"User Interface"}},"configuration":"Configuration","continue":"Continue","countables":{"galleries":"{count, plural, one {Gallery} other {Galleries}}","images":"{count, plural, one {Image} other {Images}}","markers":"{count, plural, one {Marker} other {Markers}}","movies":"{count, plural, one {Movie} other {Movies}}","performers":"{count, plural, one {Performer} other {Performers}}","scenes":"{count, plural, one {Scene} other {Scenes}}","studios":"{count, plural, one {Studio} other {Studios}}","tags":"{count, plural, one {Tag} other {Tags}}","files":"{count, plural, one {File} other {Files}}"},"country":"Country","cover_image":"Cover Image","created_at":"Created At","criterion":{"greater_than":"Greater than","less_than":"Less than","value":"Value"},"criterion_modifier":{"equals":"is","excludes":"excludes","format_string":"{criterion} {modifierString} {valueString}","greater_than":"is greater than","includes":"includes","includes_all":"includes all","is_null":"is null","less_than":"is less than","matches_regex":"matches regex","not_equals":"is not","not_matches_regex":"not matches regex","not_null":"is not null","between":"between","not_between":"not between"},"custom":"Custom","date":"Date","death_date":"Death Date","death_year":"Death Year","descending":"Descending","detail":"Detail","details":"Details","developmentVersion":"Development Version","dialogs":{"delete_alert":"The following {count, plural, one {{singularEntity}} other {{pluralEntity}}} will be deleted permanently:","delete_confirm":"Are you sure you want to delete {entityName}?","delete_entity_desc":"{count, plural, one {Are you sure you want to delete this {singularEntity}? Unless the file is also deleted, this {singularEntity} will be re-added when scan is performed.} other {Are you sure you want to delete these {pluralEntity}? Unless the files are also deleted, these {pluralEntity} will be re-added when scan is performed.}}","delete_entity_title":"{count, plural, one {Delete {singularEntity}} other {Delete {pluralEntity}}}","delete_object_desc":"Are you sure you want to delete {count, plural, one {this {singularEntity}} other {these {pluralEntity}}}?","delete_object_overflow":"\u2026and {count} other {count, plural, one {{singularEntity}} other {{pluralEntity}}}.","delete_object_title":"Delete {count, plural, one {{singularEntity}} other {{pluralEntity}}}","delete_galleries_extra":"\u2026plus any image files not attached to any other gallery.","edit_entity_title":"Edit {count, plural, one {{singularEntity}} other {{pluralEntity}}}","export_include_related_objects":"Include related objects in export","export_title":"Export","lightbox":{"delay":"Delay (Sec)","display_mode":{"label":"Display Mode","original":"Original","fit_to_screen":"Fit to screen","fit_horizontally":"Fit horizontally"},"options":"Options","reset_zoom_on_nav":"Reset zoom level when changing image","scale_up":{"label":"Scale up to fit","description":"Scale smaller images up to fill screen"},"scroll_mode":{"label":"Scroll Mode","zoom":"Zoom","pan_y":"Pan Y","description":"Hold shift to temporarily use other mode."}},"merge_tags":{"destination":"Destination","source":"Source"},"overwrite_filter_confirm":"Are you sure you want to overwrite existing saved query {entityName}?","scene_gen":{"image_previews":"Image Previews (animated WebP previews, only required if Preview Type is set to Animated Image)","markers":"Markers (20 second videos which begin at the given timecode)","marker_image_previews":"Marker Previews (animated WebP previews, only required if Preview Type is set to Animated Image)","marker_screenshots":"Marker Screenshots (static JPG image, only required if Preview Type is set to Static Image)","overwrite":"Overwrite existing generated files","phash":"Perceptual hashes (for deduplication)","preview_exclude_end_time_desc":"Exclude the last x seconds from scene previews. This can be a value in seconds, or a percentage (eg 2%) of the total scene duration.","preview_exclude_end_time_head":"Exclude end time","preview_exclude_start_time_desc":"Exclude the first x seconds from scene previews. This can be a value in seconds, or a percentage (eg 2%) of the total scene duration.","preview_exclude_start_time_head":"Exclude start time","preview_options":"Preview Options","preview_preset_desc":"The preset regulates size, quality and encoding time of preview generation. Presets beyond \u201Cslow\u201D have diminishing returns and are not recommended.","preview_preset_head":"Preview encoding preset","preview_seg_count_desc":"Number of segments in preview files.","preview_seg_count_head":"Number of segments in preview","preview_seg_duration_desc":"Duration of each preview segment, in seconds.","preview_seg_duration_head":"Preview segment duration","sprites":"Sprites (for the scene scrubber)","transcodes":"Transcodes (MP4 conversions of unsupported video formats)","video_previews":"Previews (video previews which play when hovering over a scene)"},"scenes_found":"{count} scenes found","scrape_entity_query":"{entity_type} Scrape Query","scrape_entity_title":"{entity_type} Scrape Results","scrape_results_existing":"Existing","scrape_results_scraped":"Scraped","set_image_url_title":"Image URL","unsaved_changes":"Unsaved changes. Are you sure you want to leave?","aliases_must_be_unique":"aliases must be unique","delete_gallery_files":"Delete gallery folder/zip file and any images not attached to any other gallery."},"dimensions":"Dimensions","director":"Director","display_mode":{"grid":"Grid","list":"List","tagger":"Tagger","unknown":"Unknown","wall":"Wall"},"donate":"Donate","dupe_check":{"description":"Levels below 'Exact' can take longer to calculate. False positives might also be returned on lower accuracy levels.","found_sets":"{setCount, plural, one{# set of duplicates found.} other {# sets of duplicates found.}}","options":{"exact":"Exact","high":"High","low":"Low","medium":"Medium"},"search_accuracy_label":"Search Accuracy","title":"Duplicate Scenes"},"duration":"Duration","effect_filters":{"aspect":"Aspect","blue":"Blue","blur":"Blur","brightness":"Brightness","contrast":"Contrast","gamma":"Gamma","green":"Green","hue":"Hue","name":"Filters","name_transforms":"Transforms","red":"Red","reset_filters":"Reset Filters","reset_transforms":"Reset Transforms","rotate":"Rotate","rotate_left_and_scale":"Rotate Left & Scale","rotate_right_and_scale":"Rotate Right & Scale","saturation":"Saturation","scale":"Scale","warmth":"Warmth"},"ethnicity":"Ethnicity","eye_color":"Eye Colour","fake_tits":"Fake Tits","false":"False","favourite":"Favourite","file":"file","files":"files","file_info":"File Info","file_mod_time":"File Modification Time","filesize":"File Size","filter":"Filter","filter_name":"Filter name","filters":"Filters","framerate":"Frame Rate","frames_per_second":"{value} frames per second","galleries":"Galleries","gallery":"Gallery","gallery_count":"Gallery Count","gender":"Gender","hair_color":"Hair Colour","hasMarkers":"Has Markers","height":"Height","help":"Help","image":"Image","image_count":"Image Count","images":"Images","include_parent_tags":"Include parent tags","include_sub_studios":"Include subsidiary studios","include_sub_tags":"Include sub-tags","instagram":"Instagram","interactive":"Interactive","isMissing":"Is Missing","library":"Library","loading":{"generic":"Loading\u2026"},"marker_count":"Marker Count","markers":"Markers","measurements":"Measurements","media_info":{"audio_codec":"Audio Codec","checksum":"Checksum","downloaded_from":"Downloaded From","hash":"Hash","performer_card":{"age":"{age} {years_old}","age_context":"{age} {years_old} in this scene"},"phash":"PHash","stream":"Stream","video_codec":"Video Codec"},"megabits_per_second":"{value} megabits per second","metadata":"Metadata","movie":"Movie","movie_scene_number":"Movie Scene Number","movies":"Movies","name":"Name","new":"New","none":"None","o_counter":"O-Counter","operations":"Operations","organized":"Organised","pagination":{"first":"First","last":"Last","next":"Next","previous":"Previous"},"parent_of":"Parent of {children}","parent_studios":"Parent Studios","parent_tags":"Parent Tags","parent_tag_count":"Parent Tag Count","part_of":"Part of {parent}","path":"Path","performer":"Performer","performer_count":"Performer Count","performer_image":"Performer Image","performers":"Performers","performerTags":"Performer Tags","piercings":"Piercings","queue":"Queue","random":"Random","rating":"Rating","resolution":"Resolution","scene":"Scene","scene_count":"Scene Count","scene_id":"Scene ID","scenes":"Scenes","scenes_updated_at":"Scene Updated At","sceneTagger":"Scene Tagger","sceneTags":"Scene Tags","search_filter":{"add_filter":"Add Filter","name":"Filter","saved_filters":"Saved filters","update_filter":"Update Filter"},"seconds":"Seconds","settings":"Settings","sub_tag_of":"Sub-tag of {parent}","stash_id":"Stash ID","stash_ids":"Stash IDs","status":"Status: {statusText}","studio":"Studio","studio_depth":"Levels (empty for all)","studios":"Studios","synopsis":"Synopsis","tag":"Tag","tag_count":"Tag Count","tags":"Tags","tattoos":"Tattoos","title":"Title","toast":{"added_entity":"Added {entity}","added_generation_job_to_queue":"Added generation job to queue","create_entity":"Created {entity}","default_filter_set":"Default filter set","delete_entity":"Delete {count, plural, one {{singularEntity}} other {{pluralEntity}}}","delete_past_tense":"Deleted {count, plural, one {{singularEntity}} other {{pluralEntity}}}","generating_screenshot":"Generating screenshot\u2026","merged_tags":"Merged tags","rescanning_entity":"Rescanning {count, plural, one {{singularEntity}} other {{pluralEntity}}}\u2026","started_auto_tagging":"Started auto tagging","saved_entity":"Saved {entity}","updated_entity":"Updated {entity}"},"total":"Total","true":"True","twitter":"Twitter","up-dir":"Up a directory","updated_at":"Updated At","url":"URL","weight":"Weight","years_old":"years old","stats":{"image_size":"Images size","scenes_size":"Scenes size","scenes_duration":"Scenes duration"},"setup":{"github_repository":"Github repository","welcome_to_stash":"Welcome to Stash","welcome_specific_config":{"unable_to_locate_specified_config":"If you're reading this, then Stash couldn't find the configuration file specified at the command line or the environment. This wizard will guide you through the process of setting up a new configuration.","config_path":"Stash will use the following configuration file path: <code>{path}</code>","next_step":"When you're ready to proceed with setting up a new system, click Next."},"welcome":{"unable_to_locate_config":"If you're reading this, then Stash couldn't find an existing configuration. This wizard will guide you through the process of setting up a new configuration.","config_path_logic_explained":"Stash tries to find its configuration file (<code>config.yml</code>) from the current working directory first, and if it does not find it there, it falls back to <code>$HOME/.stash/config.yml</code> (on Windows, this will be <code>%USERPROFILE%\\\\.stash\\\\config.yml</code>). You can also make Stash read from a specific configuration file by running it with the <code>-c <path to config file></code> or <code>--config <path to config file></code> options.","unexpected_explained":"If you're getting this screen unexpectedly, please try restarting Stash in the correct working directory or with the <code>-c</code> flag.","next_step":"With all of that out of the way, if you're ready to proceed with setting up a new system, choose where you'd like to store your configuration file and click Next.","store_stash_config":"Where do you want to store your Stash configuration?","in_the_current_working_directory":"In the current working directory","in_current_stash_directory":"In the <code>$HOME/.stash</code> directory"},"paths":{"set_up_your_paths":"Set up your paths","description":"Next up, we need to determine where to find your porn collection, where to store the stash database and generated files. These settings can be changed later if needed.","where_is_your_porn_located":"Where is your porn located?","where_is_your_porn_located_description":"Add directories containing your porn videos and images. Stash will use these directories to find videos and images during scanning.","where_can_stash_store_its_database":"Where can Stash store its database?","where_can_stash_store_its_database_description":"Stash uses an sqlite database to store your porn metadata. By default, this will be created as <code>stash-go.sqlite</code> in the directory containing your config file. If you want to change this, please enter an absolute or relative (to the current working directory) filename.","database_filename_empty_for_default":"database filename (empty for default)","where_can_stash_store_its_generated_content":"Where can Stash store its generated content?","where_can_stash_store_its_generated_content_description":"In order to provide thumbnails, previews and sprites, Stash generates images and videos. This also includes transcodes for unsupported file formats. By default, Stash will create a <code>generated</code> directory within the directory containing your config file. If you want to change where this generated media will be stored, please enter an absolute or relative (to the current working directory) path. Stash will create this directory if it does not already exist.","path_to_generated_directory_empty_for_default":"path to generated directory (empty for default)","stash_alert":"No library paths have been selected. No media will be able to be scanned into Stash. Are you sure?"},"confirm":{"almost_ready":"We're almost ready to complete the configuration. Please confirm the following settings. You can click back to change anything incorrect. If everything looks good, click Confirm to create your system.","nearly_there":"Nearly there!","generated_directory":"Generated directory","database_file_path":"Database file path","stash_library_directories":"Stash library directories","configuration_file_location":"Configuration file location:","default_db_location":"<path containing configuration file>/stash-go.sqlite","default_generated_content_location":"<path containing configuration file>/generated"},"errors":{"something_went_wrong":"Oh no! Something went wrong!","something_went_wrong_while_setting_up_your_system":"Something went wrong while setting up your system. Here is the error we received: {error}","something_went_wrong_description":"If this looks like a problem with your inputs, go ahead and click back to fix them up. Otherwise, raise a bug on the {githubLink} or seek help in the {discordLink}."},"success":{"your_system_has_been_created":"Success! Your system has been created!","next_config_step_one":"You will be taken to the Configuration page next. This page will allow you to customize what files to include and exclude, set a username and password to protect your system, and a whole bunch of other options.","next_config_step_two":"When you are satisfied with these settings, you can begin scanning your content into Stash by clicking on <code>{localized_task}</code>, then <code>{localized_scan}</code>.","thanks_for_trying_stash":"Thanks for trying Stash!","welcome_contrib":"We also welcome contributions in the form of code (bug fixes, improvements and new features), testing, bug reports, improvement and feature requests, and user support. Details can be found in the Contribution section of the in-app manual.","getting_help":"Getting help","in_app_manual_explained":"You are encouraged to check out the in-app manual which can be accessed from the icon in the top-right corner of the screen that looks like this: {icon}","help_links":"If you run into issues or have any questions or suggestions, feel free to open an issue in the {githubLink}, or ask the community in the {discordLink}.","open_collective":"Check out our {open_collective_link} to see how you can contribute to the continued development of Stash.","support_us":"Support us"},"creating":{"creating_your_system":"Creating your system","ffmpeg_notice":"If <code>ffmpeg</code> is not yet in your paths, please be patient while stash downloads it. View the console output to see download progress."},"stash_setup_wizard":"Stash Setup Wizard","migrate":{"migrating_database":"Migrating database","migration_failed":"Migration failed","migration_failed_error":"The following error was encountered while migrating the database:","migration_failed_help":"Please make any necessary corrections and try again. Otherwise, raise a bug on the {githubLink} or seek help in the {discordLink}.","migration_required":"Migration required","schema_too_old":"Your current stash database is schema version <strong>{databaseSchema}</strong> and needs to be migrated to version <strong>{appSchema}</strong>. This version of Stash will not function without migrating the database.","migration_irreversible_warning":"The schema migration process is not reversible. Once the migration is performed, your database will be incompatible with previous versions of stash.","backup_recommended":"It is recommended that you backup your existing database before you migrate. We can do this for you, making a copy of your writing a backup to <code>{defaultBackupPath}</code> if required.","backup_database_path_leave_empty_to_disable_backup":"Backup database path (leave empty to disable backup):","perform_schema_migration":"Perform schema migration"}}}`)},392:function(vt){vt.exports=JSON.parse('{"eye_color":"Eye Color","favourite":"Favorite","hair_color":"Hair Color","organized":"Organized","config":{"tools":{"scene_filename_parser":{"ignore_organized":"Ignore organized scenes"}}}}')},393:function(vt){vt.exports=JSON.parse('{"actions":{"add":"A\xF1adir","add_directory":"A\xF1adir directorio","add_entity":"A\xF1adir {entityType}","add_to_entity":"A\xF1adir a {entityType}","allow":"Permitir","allow_temporarily":"Permitir temporalmente","apply":"Aplicar","auto_tag":"Etiquetado autom\xE1tico","backup":"Copia de seguridad","cancel":"Cancelar","clean":"Limpiar","clear":"Eliminar","clear_back_image":"Eliminar contraportada","clear_front_image":"Eliminar portada","clear_image":"Eliminar imagen","close":"Cerrar","create":"Crear","create_entity":"Crear {entityType}","create_marker":"Crear marcador","created_entity":"{entity_type} creado: {entity_name}","delete":"Eliminar","delete_entity":"Eliminar {entityType}","delete_file":"Eliminar archivo","delete_generated_supporting_files":"Eliminar ficheros de soporte generados","disallow":"No permitir/Denegar","download":"Descargar","download_backup":"Descargar copia de seguridad","edit":"Editar","export":"Exportar\u2026","export_all":"Exportar todo\u2026","find":"Buscar","from_file":"Desde archivo\u2026","from_url":"Desde direcci\xF3n web\u2026","full_export":"Exportaci\xF3n completa","full_import":"Importaci\xF3n completa","generate":"Generar","generate_thumb_default":"Generar miniatura por defecto","generate_thumb_from_current":"Generar miniatura del frame actual","hash_migration":"Migraci\xF3n hash","hide":"Ocultar","import":"Importar\u2026","import_from_file":"Importar desde archivo","merge":"Unir","merge_from":"Fusionar desde (origen)","merge_into":"Fusionar en (destino)","not_running":"Apagado","overwrite":"Sobreescribir","play_random":"Reproducir aleatoria","play_selected":"Reproducir seleccionada","preview":"Vista previa","refresh":"Actualizar","reload_plugins":"Recargar plugins","reload_scrapers":"Recargar rastreadores","remove":"Borrar","rename_gen_files":"Renombrar archivos generados","rescan":"Volver a escanear","reshuffle":"Reorganizar","running":"En funcionamiento","save":"Guardar","save_filter":"Guardar filtro","scan":"Escanear","scrape_with":"Rastrear con\u2026","scrape_query":"Cadena de consulta para el rastreo","scrape_scene_fragment":"Rastrear por fragmento de v\xEDdeo","search":"Buscar","select_all":"Seleccionar todo","select_none":"Deseleccionar todo","selective_auto_tag":"Etiquetado autom\xE1tico selectivo","selective_scan":"B\xFAsqueda selectiva","set_as_default":"Establecer por defecto","set_back_image":"Contraportada\u2026","set_front_image":"Portada\u2026","set_image":"Subir imagen\u2026","show":"Mostrar","skip":"Saltar","stop":"Parar","tasks":{"clean_confirm_message":"\xBFEst\xE1s seguro que quieres iniciar la limpieza? Esto eliminar\xE1 la informaci\xF3n en la base de datos, y el contenido generado para todas las escenas y galer\xEDas que ya no est\xE9n disponibles en el sistema de ficheros.","dry_mode_selected":"Modo de simulaci\xF3n seleccionado. No se eliminar\xE1 informaci\xF3n, solo se guardar\xE1n registros de las acciones a realizar.","import_warning":"\xBFEst\xE1s seguro que quieres llevar a cabo la importaci\xF3n? Esta acci\xF3n eliminar\xE1 la base de datos e importar\xE1 la informaci\xF3n desde los metadatos previamente exportados."},"temp_disable":"Deshabilitar temporalmente\u2026","temp_enable":"Habilitar temporalmente\u2026","view_random":"Ver aleatoria","confirm":"Confirmar","select_folders":"Seleccionar carpetas","browse_for_image":"Explorar imagen\u2026","open_random":"Abrir aleatoria"},"actions_name":"Acciones","age":"Edad","aliases":"Pseud\xF3nimos","also_known_as":"Tambi\xE9n conocida como","ascending":"Ascendente","average_resolution":"Resoluci\xF3n media","birth_year":"A\xF1o de nacimiento","birthdate":"Cumplea\xF1os","bitrate":"Tasa de bits","career_length":"A\xF1os en activo","subsidiary_studios":"Estudios afiliados/filiales","sub_tags":"Etiquetas secundarias","sub_tag_count":"N\xFAmero de etiquetas secundarias","component_tagger":{"config":{"active_instance":"Instancia activa de stash-box:","blacklist_desc":"Los elementos de la lista negra son excluidos de las consultas. Nota: los elementos son expresiones regulares y son insensitivos a las may\xFAsculas. Ciertos caracteres deben ser denotados con una barra invertida: {chars_require_escape}","blacklist_label":"Lista de exclusiones","query_mode_auto":"Auto","query_mode_auto_desc":"Usa metadatos, si est\xE1n presentes, o el nombre del archivo","query_mode_dir":"Directorio","query_mode_dir_desc":"Solo usa el directorio que contiene el archivo de v\xEDdeo","query_mode_filename":"Nombre de archivo","query_mode_filename_desc":"Solo usa el nombre del fichero","query_mode_label":"Modo de consulta","query_mode_metadata":"Metadatos","query_mode_metadata_desc":"Solo usa metadatos","query_mode_path":"Ruta","query_mode_path_desc":"Emplea la ruta completa del archivo","set_cover_desc":"Reemplazar la car\xE1tula de la escena si alguna es encontrada.","set_cover_label":"Seleccionar car\xE1tula de la escena","set_tag_desc":"Adjuntar etiquetas a la escena, ya sea sobreescribi\xE9ndolas (elimina las que existieran previamente) o fusionando las nuevas con las que ya exist\xEDan previamente.","set_tag_label":"Seleccionar etiquetas","source":"Fuente","show_male_desc":"Marcar esta opci\xF3n har\xE1 que los actores masculinos est\xE9n disponibles para su etiquetado.","show_male_label":"Mostrar actores"},"noun_query":"Consulta","results":{"fp_found":"{fpCount, plural, =0 {No se han encontrado nuevas huellas dactilares} other {# resultados de huellas dactilares encontrados}}","fp_matches":"La duraci\xF3n coincide","fp_matches_multi":"La duraci\xF3n coincide {matchCount}/{durationsLength} huella(s) dactilar(es)","hash_matches":"{hash_type} coincide","match_failed_already_tagged":"Escena ya etiquetada","match_failed_no_result":"No se han encontrado resultados","match_success":"Escena etiquetada correctamente","unnamed":"Sin nombre","duration_off":"La duraci\xF3n se diferencia en, al menos, {number} segundos","duration_unknown":"Duraci\xF3n desconocida","phash_matches":"{count} PHash(es) coincide(n)"},"verb_match_fp":" huellas dactilares","verb_matched":"Matched","verb_scrape_all":"Rastrear todo","verb_submit_fp":"Enviar {fpCount, plural, one{# huella dactilar} other{# huellas dactilares}}","verb_toggle_config":"{toggle} {configuration}","verb_toggle_unmatched":"{toggle} escenas sin coincidencia"},"config":{"about":{"build_hash":"Hash de la versi\xF3n instalada:","build_time":"Fecha de la versi\xF3n instalada:","check_for_new_version":"Buscar versi\xF3n actualizada","latest_version_build_hash":"Hash de la \xFAltima versi\xF3n:","new_version_notice":"[NUEVA]","stash_discord":"\xDAnete a nuestro canal {url}","stash_home":"P\xE1gina principal del proyecto en {url}","stash_open_collective":"Donaciones al proyecto a trav\xE9s de {url}","stash_wiki":"Documentaci\xF3n del proyecto en nuestro {url}","version":"Versi\xF3n"},"categories":{"about":"Acerca de","interface":"Dise\xF1o","logs":"Registros","plugins":"Plugins","scraping":"Rastreando","tasks":"Tareas","tools":"Herramientas"},"dlna":{"allow_temp_ip":"Permitir {tempIP}","allowed_ip_addresses":"Direcciones IP permitidas","default_ip_whitelist":"Lista de direcciones IP permitidas","default_ip_whitelist_desc":"Direcciones IP que tienen acceso al servidor DLNA por defecto. Escribe {wildcard} para permitir todas las direcciones IP.","enabled_by_default":"Activado por defecto","network_interfaces":"Interfaces","network_interfaces_desc":"Interfaces en las que transmitir\xE1 el servidor DLNA. Si no se selecciona ninguna se mostrar\xE1 para todas las interfaces disponibles. Los cambios se guardar\xE1n tras reiniciar el servidor DLNA.","recent_ip_addresses":"Direcciones IP recientes","server_display_name":"Nombre del servidor","server_display_name_desc":"Nombre del servidor DLNA. Si no se indica un valor se usar\xE1 {server_name} por defecto.","until_restart":"hasta reinicio"},"general":{"auth":{"api_key":"Clave API","api_key_desc":"Clave API para sistemas externos. Requiere la configuraci\xF3n de usuario y contrase\xF1a. El nombre de usuario debe ser guardado antes de generar una clave API.","authentication":"Autentificaci\xF3n","clear_api_key":"Borrar clave API","generate_api_key":"Generar clave API","log_file":"Archivo de registro","log_file_desc":"Ruta del archivo en el que se volcar\xE1n los registros de eventos. En blanco deshabilita el fichero de registro. Los cambios se guardar\xE1n tras reiniciar la aplicaci\xF3n.","log_http":"Registro de accesos http","log_http_desc":"Registro de accesos http en consola. Requiere reinicio de la aplicaci\xF3n.","log_to_terminal":"Registro de eventos en consola","log_to_terminal_desc":"Registro de eventos en la consola de Stash adem\xE1s del respaldo en fichero. Habilitado si el registro a fichero est\xE1 deshabilitado. Requiere reinicio de la aplicaci\xF3n.","maximum_session_age":"Tiempo m\xE1ximo de sesi\xF3n","maximum_session_age_desc":"Tiempo m\xE1ximo en segundos para que la sesi\xF3n de autentificaci\xF3n de usuario expire.","password":"Contrase\xF1a","password_desc":"Contrase\xF1a para acceder a Stash. Dejar en blanco para deshabilitar la exigencia de autentificaci\xF3n para acceder a la aplicaci\xF3n.","stash-box_integration":"Integraci\xF3n Stash-box","trusted_proxies":"Proxies verificados","trusted_proxies_desc":"Lista de proxies que tienen permitido el acceso a Stash. Dejar en blanco para permitir redes privadas.","username":"Usuario","username_desc":"Usuario para acceder a Stash. Dejar en blanco para deshabilitar la exigencia de autentificaci\xF3n para acceder a la aplicaci\xF3n."},"cache_location":"Ruta relativa del directorio donde se almacenar\xE1n los ficheros de la cach\xE9.","cache_path_head":"Ruta relative para la cach\xE9","calculate_md5_and_ohash_desc":"Calcular comprobaci\xF3n MD5 en adici\xF3n a oshash. Habilitar esta opci\xF3n puede provocar que los escaneos iniciales resulten m\xE1s lentos. El c\xE1lculo de hash del nombre del fichero debe establecerse en oshash para deshabilitar el c\xE1lculo MD5.","calculate_md5_and_ohash_label":"Calcular MD5 para los v\xEDdeos","check_for_insecure_certificates":"Comprobaci\xF3n para certificados no seguros","check_for_insecure_certificates_desc":"Algunos sitios utilizan certificados SSL inseguros. Cuando la casilla est\xE9 desmarcada el rastreador se saltar\xE1 la comprobaci\xF3n de certificados inseguros y permitir\xE1 el rastreo de esos sitios web. Si el resultado es un error de certificado al rastrear entonces desmarca esta opci\xF3n.","chrome_cdp_path":"Ruta Chrome CDP","chrome_cdp_path_desc":"Ruta del archivo del ejecutable Chrome o una direcci\xF3n remota (comenzando por http:// o https://, por ejemplo, http://localhost:9222/json/version) para una instancia Chrome.","create_galleries_from_folders_desc":"Si esta opci\xF3n est\xE1 marcada se crear\xE1n autom\xE1ticamente galer\xEDas de aquellos directorios que contienen im\xE1genes.","create_galleries_from_folders_label":"Crear galer\xEDas desde directorios con im\xE1genes","db_path_head":"Ruta de la base de datos","directory_locations_to_your_content":"Ruta relativa de los directorios que almacenan el contenido.","exclude_image":"Excluir imagen","exclude_video":"Excluir v\xEDdeo","excluded_image_gallery_patterns_desc":"Expresiones regulares de archivos/rutas de im\xE1genes que ser\xE1n excluidos del escaneo y que ser\xE1n a\xF1adidos a la tarea de depuraci\xF3n/limpieza","excluded_image_gallery_patterns_head":"Patrones de im\xE1genes/galer\xEDas excluidos","excluded_video_patterns_desc":"Expresiones regulares de archivos/rutas de v\xEDdeos que ser\xE1n excluidos del escaneo y que ser\xE1n a\xF1adidos a la tarea de depuraci\xF3n/limpieza","excluded_video_patterns_head":"Patrones de v\xEDdeo excluidos","gallery_ext_desc":"Lista delimitada por comas de extensiones de archivo que ser\xE1n identificados como archivos de galer\xEDa en formato zip.","gallery_ext_head":"Extensiones de galer\xEDa zip","generated_file_naming_hash_desc":"Usar MD5 o oshash para la los nombres de archivo generados. Cambiar esta opci\xF3n requiere que todas las escenas tengan relleno el correspondiente valor MD5/oshash. Despu\xE9s de cambiar este valor los ficheros generados existentes tendr\xE1n que ser migrados o regenerados. Ver la p\xE1gina de tareas para llevar a cabo la migraci\xF3n.","generated_file_naming_hash_head":"Hash de nombre de archivo generado","generated_files_location":"Ruta relativa del directorio para los ficheros generados (marcadores de escena, vistas previas de escena, conjuntos de im\xE1genes o \u201Csprites\u201D, etc).","generated_path_head":"Ruta relativa para el directorio de arvhivos generados","hashing":"Hashing","image_ext_desc":"Lista delimitada por comas de las extensiones de archivo que ser\xE1n identificadas como im\xE1genes.","image_ext_head":"Extensiones de imagen","logging":"Registros","maximum_streaming_transcode_size_desc":"Tama\xF1o m\xE1ximo para la transcodificaci\xF3n de archivos de v\xEDdeo en streaming.","maximum_streaming_transcode_size_head":"Tama\xF1o m\xE1ximo de transcodificaci\xF3n en streaming","maximum_transcode_size_desc":"Tama\xF1o m\xE1ximo para las transcodificaciones generadas y almacenadas en el sistema de archivos donde se encuentra la aplicaci\xF3n Stash instalada","maximum_transcode_size_head":"Tama\xF1o m\xE1ximo de transcodificaci\xF3n","metadata_path":{"heading":"Ruta de metadatos","description":"Ruta relativa del directorio usado para llevar a cabo la exportaci\xF3n o importaci\xF3n completa de los metadatos."},"number_of_parallel_task_for_scan_generation_desc":"Seleccionar 0 para detecci\xF3n autom\xE1tica. Advertencia: lanzar m\xE1s tareas de las requeridas puede provocar una elevada utilizaci\xF3n de la CPU pudiendo provocar lentitud en el sistema y otros problemas.","number_of_parallel_task_for_scan_generation_head":"N\xFAmero de tareas en paralelo para escaneo/generaci\xF3n de ficheros","parallel_scan_head":"Escaneo/Generaci\xF3n en paralelo","preview_generation":"Previsualizar generaci\xF3n de ficheros","scraper_user_agent":"Identificador del agente de usuario del navegador para rastreo","scraper_user_agent_desc":"Identificador del agente de usuario del navegador web (USER-AGENT) usado durante el rastreo de informaci\xF3n mediante peticiones http.","scraping":"Rastreando","sqlite_location":"Ruta relativa para la base de datos SQLite (requiere reinicio).","video_ext_desc":"Lista delimitada por comas de las extensiones de archivo que ser\xE1n identificadas como v\xEDdeos.","video_ext_head":"Extensiones de v\xEDdeo","video_head":"V\xEDdeo","include_audio_head":"Incluir audio","include_audio_desc":"Incluye flujo de audio cuando se generen vistas previas."},"logs":{"log_level":"Nivel de registro"},"plugins":{"hooks":"Hooks","triggers_on":"Se lleva a cabo durante"},"scraping":{"entity_metadata":"Metadatos de {entityType}","entity_scrapers":"Rastreadores de {entityType}","excluded_tag_patterns_desc":"Expresiones regulares de nombres de etiquetas para excluir resultados del rastreo.","excluded_tag_patterns_head":"Patrones de etiquetas excluidos","scrapers":"Rastreadores","search_by_name":"B\xFAsqueda por nombre","supported_types":"Tipos soportados","supported_urls":"Direcciones web"},"stashbox":{"add_instance":"A\xF1adir instancia stash-box","api_key":"Clave API","description":"Stash-box permite automatizar el etiquetado de escenas, actores y actrices, basado en huellas dactilares y nombres de archivo.\\nEl terminal de red y la clave API pueden ser encontrados en tu p\xE1gina de usuario de la instancia stash-box. Los nombres son requeridos cuando se agregue m\xE1s de una instancia stash-box.","endpoint":"Terminal de red","graphql_endpoint":"Terminal de red GraphQL","name":"Nombre","title":"Terminal de red Stash-box"},"tasks":{"added_job_to_queue":"A\xF1adido/a {operation_name} a la cola de trabajo","auto_tag_based_on_filenames":"Etiquetado automatizado del contenido basado en nombres de archivo.","auto_tagging":"Auto-Etiquetado","backing_up_database":"Guardando respaldo de la base de datos","backup_and_download":"Lleva a cabo una copia de seguridad de la base de datos y la guarda en un fichero de respaldo.","backup_database":"Lleva a cabo una copia de seguridad de la base de datos en el mismo directorio en que se encuentre \xE9sta. El formato de nombre del fichero generado es {filename_format}","cleanup_desc":"Buscar ficheros eliminados del sistema de archivos y eliminarlos de la base de datos. PRECAUCI\xD3N: esta es una acci\xF3n destructiva.","dont_include_file_extension_as_part_of_the_title":"No incluir la extensi\xF3n del archivo como parte del t\xEDtulo","export_to_json":"Exporta el contenido de la base de datos en formato JSON en el directorio de metadatos.","generate_desc":"Generar imagen de soporte, conjuntos de im\xE1genes, v\xEDdeo, vtt y resto de archivos.","generate_phashes_during_scan":"Generar hashes de percepci\xF3n (Phases) de los v\xEDdeos durante el escaneo (este valor es empleado para la b\xFAsqueda de archivos de v\xEDdeo duplicados y para la identificaci\xF3n de escenas)","generate_previews_during_scan":"Generar im\xE1genes previas durante el escaneo (vistas previas WebP animadas). Solo requerido si el tipo de previsualizaci\xF3n seleccionado es \u201CIm\xE1genes animadas\u201D)","generate_sprites_during_scan":"Generar conjunto de im\xE1genes o \u201Csprites\u201D durante el escaneo (para el depurador/limpiador de escenas)","generate_video_previews_during_scan":"Generar vistas previas durante el escaneo (vistas previas en v\xEDdeo que se muestran al pasar el enlace por encima de una escena)","generate_thumbnails_during_scan":"Generar miniaturas de las im\xE1genes durante el escaneo.","generated_content":"Contenido generado","import_from_exported_json":"Importar desde el fichero JSON exportado al directorio de metadatos. Borrar\xE1 la base de datos existente.","incremental_import":"Importaci\xF3n gradual o progresiva desde un archivo zip de exportaci\xF3n aportado por el usuario.","job_queue":"Cola de trabajo","maintenance":"Mantenimiento","migrate_hash_files":"Se ejecutar\xE1 tras realizar un cambio de tipo de hash para renombrar los ficheros generados al nuevo formato hash.","migrations":"Migraciones","only_dry_run":"Si esta casilla est\xE1 activa se ejecutar\xE1 en MODO DE SIMULACI\xD3N. No se eliminar\xE1 informaci\xF3n alguna, solo se mostrar\xE1n en el registro las acciones a realizar.","plugin_tasks":"Tareas de plugins","scan_for_content_desc":"Buscar contenido nuevo y a\xF1adirlo a la base de datos.","set_name_date_details_from_metadata_if_present":"Establecer el nombre, fecha y detalles desde los metadatos (si se encuentran)"},"tools":{"scene_duplicate_checker":"Comprobaci\xF3n de escenas duplicadas","scene_filename_parser":{"add_field":"A\xF1adir campo","capitalize_title":"Capitalizar t\xEDtulo (todas las palabras comienzan por may\xFAscula)","display_fields":"Mostrar campos","escape_chars":"Usar \\\\ para evitar caracteres literales","filename":"Nombre de archivo","filename_pattern":"Patr\xF3n de nombres de ficheros","ignore_organized":"Ignorar escenas ya clasificadas","ignored_words":"Palabras ignoradas","matches_with":"Coincide con {i}","select_parser_recipe":"Seleccionar f\xF3rmula para el analizador sint\xE1ctico","title":"Analizador sint\xE1ctico del t\xEDtulo de escena","whitespace_chars":"Espacios en blanco","whitespace_chars_desc":"Estos caracteres se reemplazar\xE1n en el t\xEDtulo por espacios en blanco"},"scene_tools":"Herramientas de escenas"},"ui":{"custom_css":{"description":"La p\xE1gina debe ser recargada para que se lleven a cabo los cambios realizados.","heading":"CSS personalizado","option_label":"Habilitar CSS personalizado"},"editing":{"disable_dropdown_create":{"heading":"Deshabilitar creaci\xF3n en men\xFA desplegable","description":"Eliminar la capacidad de crear nuevos recursos desde los selectores de formulario desplegables"},"heading":"Edici\xF3n"},"handy_connection_key":{"description":"Clave para conexi\xF3n pr\xE1ctica que se usar\xE1 en las escenas interactivas.","heading":"Clave para conexi\xF3n pr\xE1ctica"},"funscript_offset":{"description":"Tiempo de compensaci\xF3n en milisegundos para la reproducci\xF3n de scripts interactivos.","heading":"Tiempo de compensaci\xF3n Funscript (mseg)"},"images":{"options":{"write_image_thumbnails":{"heading":"Guardar miniaturas de im\xE1genes","description":"Guardar miniaturas de imagen en el sistema de archivos cuando son generadas al vuelo."}}},"language":{"heading":"Lenguaje"},"max_loop_duration":{"description":"M\xE1xima duraci\xF3n de escena para la que el reproductor de v\xEDdeo reproducir\xE1 en bucle el v\xEDdeo. Usar \u201C0\u201D para deshabilitar.","heading":"M\xE1xima duraci\xF3n del bucle"},"menu_items":{"description":"Mostrar u ocultar los diferentes tipos de contenido del men\xFA de navegaci\xF3n.","heading":"Elementos del men\xFA"},"performers":{"options":{"image_location":{"heading":"Ruta para las im\xE1genes personalizadas de actrices/actores","description":"Ruta personalizada para las im\xE1genes de perfil de actrices/actores. Dejar en blanco para usar ruta por defecto."}}},"preview_type":{"description":"Configuraci\xF3n para los elementos al seleccionar el muro como modo de visualizaci\xF3n.","heading":"Tipo de previsualizaci\xF3n","options":{"animated":"Imagen animada","static":"Imagen est\xE1tica","video":"V\xEDdeo"}},"scene_list":{"heading":"Listado de escenas","options":{"show_studio_as_text":"Mostrar nombres de estudio como texto"}},"scene_player":{"heading":"Reproductor de v\xEDdeo","options":{"auto_start_video":"Iniciar v\xEDdeo autom\xE1ticamente"}},"scene_wall":{"heading":"Muro de escenas/Marcadores","options":{"display_title":"Mostrar t\xEDtulo y etiquetas","toggle_sound":"Habilitar sonido"}},"slideshow_delay":{"description":"Presentaci\xF3n de diapositivas estar\xE1 disponible en las galer\xEDas al seleccionar el muro como modo de visualizaci\xF3n.","heading":"Retardo en la presentaci\xF3n de diapositivas"},"title":"Interfaz de usuario"}},"configuration":"Configuraci\xF3n","countables":{"galleries":"{count, plural, one {Galer\xEDa} other {Galer\xEDas}}","images":"{count, plural, one {Imagen} other {Im\xE1genes}}","markers":"{count, plural, one {Marcador} other {Marcadores}}","movies":"{count, plural, one {Pel\xEDcula} other {Pel\xEDculas}}","performers":"{count, plural, one {Actriz/Actor} other {Actrices/Actores}}","scenes":"{count, plural, one {Escena} other {Escenas}}","studios":"{count, plural, one {Estudio} other {Estudios}}","tags":"{count, plural, one {Etiqueta} other {Etiquetas}}"},"country":"Pa\xEDs","cover_image":"Car\xE1tula","created_at":"Fecha de creaci\xF3n","criterion":{"greater_than":"Mayor que","less_than":"Menor que","value":"Valor"},"criterion_modifier":{"equals":"es","excludes":"no incluye","format_string":"{criterion} {modifierString} {valueString}","greater_than":"es mayor que","includes":"incluye","includes_all":"incluye todas","is_null":"es nulo","less_than":"es menor que","matches_regex":"coincide con la expresi\xF3n regular","not_equals":"no es","not_matches_regex":"no coincide con la expresi\xF3n regular","not_null":"no es nulo","between":"est\xE1 entre","not_between":"no est\xE1 entre"},"custom":"Personalizado","date":"Fecha","death_date":"Fallecimiento","death_year":"A\xF1o de fallecimiento","descending":"Descendente","detail":"Detalle","details":"Detalles","developmentVersion":"Versi\xF3n de desarrollo","dialogs":{"delete_confirm":"\xBFEst\xE1s seguro que deseas eliminar {entityName}?","delete_entity_desc":"{count, plural, one {\xBFEst\xE1s seguro que deseas eliminar esta {singularEntity}? Hasta que el archivo sea eliminado tambi\xE9n, esta {singularEntity} se volver\xE1 a a\xF1adir cuando se lleve a cabo un escaneo.} other {\xBFEst\xE1s seguro que deseas eliminar {pluralEntity}? Hasta que los archivos sean eliminados del sistema de ficheros tambi\xE9n, estas {pluralEntity} se volver\xE1n a a\xF1adir cuando se lleve a cabo un escaneo.}}","delete_entity_title":"{count, plural, one {Eliminar {singularEntity}} other {Eliminar {pluralEntity}}}","delete_object_desc":"\xBFEst\xE1s seguro que deseas eliminar {count, plural, one {esta {singularEntity}} other {estas {pluralEntity}}}?","delete_object_overflow":"\u2026y {count} other {count, plural, one {{singularEntity}} other {{pluralEntity}}}.","delete_object_title":"Eliminar {count, plural, one {{singularEntity}} other {{pluralEntity}}}","edit_entity_title":"Editar {count, plural, one {{singularEntity}} other {{pluralEntity}}}","export_include_related_objects":"Incluir objetos relacionados en la exportaci\xF3n","export_title":"Exportar","lightbox":{"delay":"Retardo (seg)","display_mode":{"label":"Modo de visualizaci\xF3n","original":"Original","fit_to_screen":"Ajustar a pantalla","fit_horizontally":"Ajustar horizontalmente"},"options":"Opciones","reset_zoom_on_nav":"Restaurar nivel de zoom al cambiar de imagen","scale_up":{"label":"Ampliaci\xF3n hasta ajuste","description":"Aumentar im\xE1genes peque\xF1as hasta rellenar la pantalla"},"scroll_mode":{"label":"Modo scroll","zoom":"Zoom","pan_y":"Panor\xE1mica eje Y","description":"Mantener pulsado la tecla shift para cambiar de modo temporalmente."}},"merge_tags":{"destination":"Destino","source":"Fuente"},"overwrite_filter_confirm":"\xBFEst\xE1s seguro de sobreescribir la consulta guardada {entityName}?","scene_gen":{"image_previews":"Im\xE1genes previas (vistas previas WebP animadas). Solo requerido si el tipo de previsualizaci\xF3n seleccionado es \u201CIm\xE1genes animadas\u201D.","markers":"Marcadores (v\xEDdeos de 20 segundos que comienzan a partir del tiempo de reproducci\xF3n seleccionado)","marker_image_previews":"Vistas previas de marcadores (vistas previas WebP animadas). Solo requerido si el tipo de previsualizaci\xF3n seleccionado es \u201CIm\xE1genes animadas\u201D.","marker_screenshots":"Capturas de pantalla de marcadores (imagen JPG est\xE1tica). Solo requerido si el tipo de previsualizaci\xF3n seleccionado es \u201CImagen est\xE1tica\u201D.","overwrite":"Sobreescribir archivos generados.","phash":"PHases o Hashes  (para b\xFAsqueda de duplicados)","preview_exclude_end_time_desc":"Excluir los \xFAltimos X segundos de la vista previa de la escena. Puede ser un valor en segundos o un porcentaje (p.ej. 2%) de la duraci\xF3n total de la escena.","preview_exclude_end_time_head":"Excluir desde el final del v\xEDdeo","preview_exclude_start_time_desc":"Excluir los primeros X segundos de la vista previa de la escena. Puede ser un valor en segundos o un porcentaje (p.ej. 2%) de la duraci\xF3n total de la escena.","preview_exclude_start_time_head":"Excluir desde el inicio del v\xEDdeo","preview_options":"Opciones de previsualizaci\xF3n","preview_preset_desc":"La configuraci\xF3n predeterminada regula el tama\xF1o, calidad y tiempo de codificaci\xF3n de las generaci\xF3n de vistas previas. Ajustes por encima de \u201Clento\u201D pueden ralentizar el proceso y no son recomendables.","preview_preset_head":"Codificaci\xF3n predeterminada de vistas previas","preview_seg_count_desc":"N\xFAmero de segmentos en la vista previa de los ficheros.","preview_seg_count_head":"N\xFAmero de segmentos en la previsualizaci\xF3n","preview_seg_duration_desc":"Duraci\xF3n en segundos de cada segmento de la vista previa.","preview_seg_duration_head":"Duraci\xF3n del segmento en la vista previa","sprites":"Conjunto de im\xE1genes o \u201Csprites\u201D (para su uso en el depurador/limpiador de escenas)","transcodes":"Transcodificaciones (conversiones en MP4 de formatos de v\xEDdeo no soportados)","video_previews":"Vistas previas (vistas previas en v\xEDdeo que se muestran al pasar el rat\xF3n por encima sobre una escena)"},"scenes_found":"{count} escenas encontradas","scrape_entity_query":"Consulta de rastreo de {entity_type}","scrape_entity_title":"Resultados de rastreo de {entity_type}","scrape_results_existing":"Existente","scrape_results_scraped":"Rastreado","set_image_url_title":"Direcci\xF3n web de la imagen","unsaved_changes":"Los cambios no han sido guardados. \xBFEst\xE1s seguro que quieres salir?"},"dimensions":"Dimensiones","director":"Director","display_mode":{"grid":"Cuadr\xEDcula","list":"Lista","tagger":"Etiquetadora","unknown":"Desconocido/a","wall":"Muro"},"donate":"Donar","dupe_check":{"description":"El c\xE1lculo en los niveles por debajo de \u201CExacto\u201D puede llevar m\xE1s tiempo. En los niveles de menor exactitud adem\xE1s pueden aparecer mayor n\xFAmero de falsos positivos en las coincidencias.","found_sets":"{setCount, plural, one{# conjunto de duplicados encontrado.} other {# conjuntos de duplicados encontrados.}}","options":{"exact":"Exacto","high":"Alto","low":"Bajo","medium":"Medio"},"search_accuracy_label":"Search Accuracy","title":"Escenas duplicadas"},"duration":"Duraci\xF3n","effect_filters":{"aspect":"Relaci\xF3n aspecto","blue":"Azul","blur":"Desenfoque","brightness":"Brillo","contrast":"Contraste","gamma":"Exposici\xF3n","green":"Verde","hue":"Color","name":"Filtro","name_transforms":"Transformaciones de v\xEDdeo","red":"Rojo","reset_filters":"Restablecer filtros","reset_transforms":"Restablecer transformaciones","rotate":"Rotaci\xF3n","rotate_left_and_scale":"Rotar a la izquierda y escalar","rotate_right_and_scale":"Rotar a la derecha y escalar","saturation":"Saturaci\xF3n","scale":"Escala","warmth":"Calidez"},"ethnicity":"Origen \xE9tnico","eye_color":"Color de ojos","fake_tits":"Pecho operado","favourite":"Favorita","file_info":"Detalles","file_mod_time":"Hora de modificaci\xF3n del fichero","filesize":"Tama\xF1o de archivo","filter":"Filtro","filter_name":"Filtrar por nombre","filters":"Filtros","framerate":"Tasa de frames","frames_per_second":"{value} frames por segundo (fps)","galleries":"Galer\xEDas","gallery":"Galer\xEDa","gallery_count":"N\xFAmero de galer\xEDas","gender":"G\xE9nero","hair_color":"Color de pelo","hasMarkers":"Tiene marcadores","height":"Estatura","help":"Ayuda","image":"Imagen","image_count":"N\xFAmero de im\xE1genes","images":"Im\xE1genes","include_parent_tags":"Incluir etiquetas de la matriz","include_sub_studios":"Incluir estudios filiales","include_sub_tags":"Incluir sub-etiquetas","instagram":"Instagram","interactive":"Interactivo","isMissing":"Falta","library":"Biblioteca","loading":{"generic":"Cargando\u2026"},"marker_count":"N\xFAmero de marcadores","markers":"Marcadores","measurements":"Medidas","media_info":{"audio_codec":"C\xF3dec de audio","checksum":"Checksum","downloaded_from":"Descargado de","hash":"Hash","performer_card":{"age":"{age} {years_old}","age_context":"{age} {years_old} en esta escena"},"phash":"PHash","stream":"Stream","video_codec":"C\xF3dec de v\xEDdeo"},"megabits_per_second":"{value} megabits por segundo (mbps)","metadata":"Metadatos","movie":"Pel\xEDcula","movie_scene_number":"N\xFAmero de escena","movies":"Pel\xEDculas","name":"Nombre","new":"A\xF1adir","none":"Ninguno/a","o_counter":"Contador \u201CP\u201D","operations":"Acciones","organized":"Clasificadas","pagination":{"first":"Primera","last":"\xDAltima","next":"Siguiente","previous":"Anterior"},"parent_of":"Matriz de {children}","parent_studios":"Estudio matriz","parent_tags":"Etiqueta matriz","parent_tag_count":"Contador de etiqueta matriz","part_of":"Parte de {parent}","path":"Ruta","performer":"Actriz/Actor","performer_count":"N\xFAmero de actrices/actores","performer_image":"Imagen de actriz/actor","performers":"Actrices/Actores","performerTags":"Etiquetas de actriz/actor","piercings":"Piercings","queue":"Cola","random":"Aleatoria","rating":"Puntuaci\xF3n","resolution":"Resoluci\xF3n","scene":"Escena","scene_count":"N\xFAmero de escenas","scene_id":"Indentificador de escena","scenes":"Escenas","scenes_updated_at":"Fecha actualizaci\xF3n","sceneTagger":"Etiquetador de escenas","sceneTags":"Etiquetas de escena","search_filter":{"add_filter":"A\xF1adir filtro","name":"Filtro","saved_filters":"Filtros guardados","update_filter":"Actualizar filtro"},"seconds":"Segundos","settings":"Preferencias","sub_tag_of":"Sub-etiquetas de {parent}","stash_id":"Identificador \xFAnico Stash","status":"Estado: {statusText}","studio":"Estudio","studio_depth":"Niveles (en blanco para mostrar todos)","studios":"Estudios","synopsis":"Sinopsis","tag":"Etiqueta","tag_count":"N\xFAmero de etiquetas","tags":"Etiquetas","tattoos":"Tattoos","title":"T\xEDtulo","toast":{"added_entity":"{entity} a\xF1adida","added_generation_job_to_queue":"Tarea de generaci\xF3n a\xF1adida a la cola","create_entity":"{entity} creada","default_filter_set":"Establecer como filtro por defecto","delete_entity":"Eliminar {count, plural, one {{singularEntity}} other {{pluralEntity}}}","delete_past_tense":"Eliminado {count, plural, one {{singularEntity}} other {{pluralEntity}}}","generating_screenshot":"Generando captura\u2026","merged_tags":"Etiquetas combinadas","rescanning_entity":"Reescanear {count, plural, one {{singularEntity}} other {{pluralEntity}}}\u2026","started_auto_tagging":"Auto-etiquetado iniciado","saved_entity":"{entity} guardada","updated_entity":"{entity} actualizada"},"total":"Total","twitter":"Twitter","up-dir":"Ascender en el \xE1rbol de directorios","updated_at":"Actualizado a las","url":"URL","weight":"Peso","years_old":"a\xF1os","stats":{"image_size":"Tama\xF1o de las im\xE1genes","scenes_size":"Tama\xF1o de las escenas","scenes_duration":"Duraci\xF3n de las escenas"}}')},394:function(vt){vt.exports=JSON.parse(`{"actions":{"add":"Adicionar","add_directory":"Adicionar diret\xF3rio","add_entity":"Adicionar {entityType}","add_to_entity":"Adicionar em {entityType}","allow":"Permitir","allow_temporarily":"Permitir temporariamente","apply":"Aplicar","auto_tag":"Auto tag","backup":"Backup","cancel":"Cancelar","clean":"Limpar","clear_back_image":"Limpar imagem de fundo","clear_front_image":"Limpar imagem frontal","clear_image":"Limpar imagem","close":"Fechar","create":"Criar","create_entity":"Criar {entityType}","create_marker":"Criar marcador","created_entity":"Criar {entity_type}: {entity_name}","delete":"Apagar","delete_entity":"Apagar {entityType}","delete_file":"Apagar arquivo","delete_generated_supporting_files":"Apagar arquivos gerados de suporte","disallow":"N\xE3o permitir","download":"Download","download_backup":"Download backup","edit":"Editar","export":"Exportar\u2026","export_all":"Exportar tudo\u2026","find":"Encontrar","from_file":"Do arquivo\u2026","from_url":"Da URL\u2026","full_export":"Exporta\xE7\xE3o completa","full_import":"Importa\xE7\xE3o completa","generate":"Gerar","generate_thumb_default":"Gerar thumbnail padr\xE3o","generate_thumb_from_current":"Gerar thumbnail do atual","hash_migration":"migrar hash","hide":"Esconder","import":"Importar\u2026","import_from_file":"Importar do arquivo","merge":"Unir","merge_from":"Unir do","merge_into":"Unir em","not_running":"n\xE3o realizado","overwrite":"Sobrescrever","play_random":"Tocar aleat\xF3rio","play_selected":"Tocar selecionado","preview":"Previsualizar","refresh":"Atualizar","reload_plugins":"Recarregar plugins","reload_scrapers":"Recarregar scrapers","remove":"Remover","rename_gen_files":"Renomear arquivos gerados","rescan":"Reescanear","reshuffle":"Reembaralhar","running":"rodando","save":"Salvar","save_filter":"Salvar filtro","scan":"Escanear","scrape_with":"Scrape com\u2026","search":"Buscar","select_all":"Selecionar todos","select_none":"Selecionar nenhum","selective_auto_tag":"Auto Tag seletivo","selective_scan":"Escaneamento seletivo","set_as_default":"Aplicar como padr\xE3o","set_back_image":"Imagem de fundo\u2026","set_front_image":"Imagem frontal\u2026","set_image":"Aplicar imagem\u2026","show":"Mostrar","skip":"Pular","tasks":{"clean_confirm_message":"Tem certeza de que quer limpar? Isto ir\xE1 apagar as informa\xE7\xF5es do banco de dados e conte\xFAdos gerados de todas as cenas e galerias que n\xE3o s\xE3o mais encontradas no sistema.","dry_mode_selected":"Modo n\xE3o destrutivo. Nenhum arquivo ser\xE1 apagado, apenas ser\xE1 logado.","import_warning":"Tem certeza de que quer importar? Isto ir\xE1 apagar o banco de dados e re-importar de seus metadados exportados."},"temp_disable":"Desabilitar temporariamente\u2026","temp_enable":"Habilitar temporariamente\u2026","view_random":"Mostrar aleatoriamente"},"actions_name":"A\xE7\xF5es","age":"Idade","aliases":"Apelidos","also_known_as":"Tamb\xE9m conhecido(a) como","ascending":"Ascendente","average_resolution":"Resolu\xE7\xE3o m\xE9dia","birth_year":"Ano de nascimento","birthdate":"Data de nascimento","bitrate":"Taxa de bits","career_length":"Dura\xE7\xE3o da carreira","subsidiary_studios":"Est\xFAdios filhos","component_tagger":{"config":{"active_instance":"Ativar stash-box:","blacklist_desc":"Os itens da lista negra s\xE3o exclu\xEDdos das consultas. Observe que s\xE3o express\xF5es regulares e tamb\xE9m n\xE3o fazem distin\xE7\xE3o entre mai\xFAsculas e min\xFAsculas. Certos caracteres devem ser escritos com uma barra invertida: {chars_require_escape}","blacklist_label":"Lista negra","query_mode_auto":"Autom\xE1tico","query_mode_auto_desc":"Usa metadados se existentes, ou nome do arquivo","query_mode_dir":"Dir","query_mode_dir_desc":"Usa apenas o diret\xF3rio pai do arquivo de v\xEDdeo","query_mode_filename":"Nome do arquivo","query_mode_filename_desc":"Usa apenas o nome do arquivo","query_mode_label":"Modo de consulta.","query_mode_metadata":"Metadados","query_mode_metadata_desc":"Usa apenas metadados","query_mode_path":"Caminho","query_mode_path_desc":"Usa o caminho inteiro do arquivo","set_cover_desc":"Substitua a capa da cena se alguma for encontrada.","set_cover_label":"Definir imagem da capa da cena","set_tag_desc":"Anexar tags \xE0 cena, sobrescrevendo ou mesclando com as tags existentes na cena.","set_tag_label":"Definir tags.","show_male_desc":"Artistas masculinos estar\xE3o dispon\xEDveis para tag.","show_male_label":"Mostrar artistas masculinos"},"noun_query":"Query","results":{"fp_found":"{fpCount, plural, =0 {Nenhuma nova correspond\xEAncia de impress\xE3o digital encontrada} other{# novas correspond\xEAncias de impress\xE3o digital encontradas}}","fp_matches":"Dura\xE7\xE3o \xE9 uma correspond\xEAncia","fp_matches_multi":"Dura\xE7\xE3o corresponde {matchCount}/{durationsLength} impress\xE3o digital(s)","hash_matches":"{hash_type} \xE9 uma correspond\xEAncia","match_failed_already_tagged":"Cena j\xE1 marcada","match_failed_no_result":"Nenhum resultado encontrado","match_success":"Cena marcada com sucesso","duration_off":"Dura\xE7\xE3o por pelo menos {number}s","duration_unknown":"Dura\xE7\xE3o desconhecida"},"verb_match_fp":"Combine as impress\xF5es digitais","verb_matched":"Combinado","verb_submit_fp":"Enviar {fpCount, plural, one{# impress\xE3o digital} other{# impress\xF5es digitais}}","verb_toggle_config":"{toggle} {configuration}","verb_toggle_unmatched":"{toggle} cenas incompar\xE1veis"},"config":{"about":{"build_hash":"Build hash:","build_time":"Tempo de build:","check_for_new_version":"Verificar se h\xE1 uma nova vers\xE3o","latest_version_build_hash":"Build Hash da \xFAltima vers\xE3o:","new_version_notice":"[NOVA]","stash_discord":"Junte-se ao nosso {url} canal","stash_home":"Stash home no {url}","stash_open_collective":"Apoie-nos atrav\xE9s de {url}","stash_wiki":"Stash {url} p\xE1gina","version":"Vers\xE3o"},"categories":{"about":"Sobre","interface":"Interface","logs":"Logs","plugins":"Plugins","scraping":"Scraping","tasks":"Tarefas","tools":"Ferramentas"},"dlna":{"allow_temp_ip":"Permitir {tempIP}","allowed_ip_addresses":"Endere\xE7os de IP permitidos","default_ip_whitelist":"Whitelist de IP padr\xE3o","default_ip_whitelist_desc":"Endere\xE7os IP padr\xE3o permitidos a acessar DLNA. Use {wildcard} para permitir todos endere\xE7os de IP.","enabled_by_default":"Ativado por padr\xE3o","network_interfaces":"Interfaces","network_interfaces_desc":"Interfaces para expor servidor DLNA ativo. Uma lista vazia resulta em execu\xE7\xE3o em todas as interfaces. Requer DLNA ser reiniciado depois de alterar.","recent_ip_addresses":"Endere\xE7os de IP recentes","server_display_name":"Nome de exibi\xE7\xE3o do servidor","server_display_name_desc":"Nome de exibi\xE7\xE3o do servidor DLNA. Padr\xE3o de {server_name} se vazio.","until_restart":"at\xE9 reiniciar"},"general":{"auth":{"api_key":"Chave de API","api_key_desc":"Chave de API para sistemas externos. Exigido apenas quando username/senha est\xE1 configurado. Username deve ser salvo antes de gerar uma chave de API.","authentication":"Autentica\xE7\xE3o","clear_api_key":"Limpar Chave de API","generate_api_key":"Gerar Chave de API","log_file":"Arquivo de log","log_file_desc":"Caminho para o arquivo para o log de sa\xEDda. Em branco para desativar o registro de arquivos. Requer reinicializa\xE7\xE3o.","log_http":"Log de acesso http","log_http_desc":"Logs de acesso http para o terminal. Requer reinicializa\xE7\xE3o.","log_to_terminal":"Log para terminal.","log_to_terminal_desc":"Logs para o terminal, al\xE9m de um arquivo. Sempre ativo se o log de arquivos estiver desativado. Requer reinicializa\xE7\xE3o.","maximum_session_age":"Tempo m\xE1ximo da sess\xE3o","maximum_session_age_desc":"Tempo ocioso m\xE1ximo antes de uma sess\xE3o de login expirar, em segundos.","password":"Senha","password_desc":"Senha para acesso Stash. Deixe em branco para desativar a autentica\xE7\xE3o do usu\xE1rio","stash-box_integration":"Integra\xE7\xE3o com Stash-box","username":"Username","username_desc":"Username para acessar o Stash. Deixe em branco para desativar a autentica\xE7\xE3o do usu\xE1rio"},"cache_location":"Localiza\xE7\xE3o do diret\xF3rio do cache","cache_path_head":"Caminho do cache","calculate_md5_and_ohash_desc":"Calcular MD5 checksum al\xE9m do oshash. A ativa\xE7\xE3o far\xE1 com que as varreduras iniciais sejam mais lentas. Nomea\xE7\xE3o de arquivo Hash deve ser definido para oshash para desabilitar o c\xE1lculo MD5.","calculate_md5_and_ohash_label":"Calcular MD5 para v\xEDdeos","check_for_insecure_certificates":"Verifique se h\xE1 certificados inseguros","check_for_insecure_certificates_desc":"Alguns sites usam ssl certificados inseguros. Quando desmarcado o scraper pula a verifica\xE7\xE3o de certificados inseguros e permite o scraping desses sites. Se voc\xEA receber um erro de certificado quando scraping desmarque isto.","chrome_cdp_path":"Chrome CDP path","chrome_cdp_path_desc":"Caminho do arquivo para o executavel do Chrome, ou um endere\xE7o remoto (come\xE7ando com http:// ou https://, por exemplo http://localhost:9222/json/version) para uma inst\xE2ncia do Chrome.","create_galleries_from_folders_desc":"Se marcado, cria galerias de pastas contendo imagens.","create_galleries_from_folders_label":"Crie galerias de pastas contendo imagens","db_path_head":"Caminho do banco de dados","directory_locations_to_your_content":"Locais de diret\xF3rio para o seu conte\xFAdo","exclude_image":"Excluir imagem","exclude_video":"Excluir v\xEDdeo","excluded_image_gallery_patterns_desc":"Regexps de imagem e galeria de arquivos/caminhos para excluir da Varredura e adicionar para Limpar","excluded_image_gallery_patterns_head":"Padr\xF5es de imagem/galeria excluidos","excluded_video_patterns_desc":"Regexps de video arquivos/caminhos para excluir da Varredura e adicionar para Limpar","excluded_video_patterns_head":"Padr\xF5es de v\xEDdeo excluidos","gallery_ext_desc":"Lista delimitada por v\xEDrgulas de extens\xF5es de arquivo que ser\xE3o identificadas como arquivos ZIP da galeria.","gallery_ext_head":"Extens\xF5es zip da galeria","generated_file_naming_hash_desc":"Use MD5 ou oshash para nomea\xE7\xE3o de arquivos gerados. Mudando isso requer que todas as cenas tenham o valor MD5/oshash populado. Depois de alterar este valor, arquivos gerados existentes precisar\xE3o ser migrados ou regenerados. Veja a p\xE1gina de tarefas para migra\xE7\xE3o.","generated_file_naming_hash_head":"Hash de nomea\xE7\xE3o de arquivo gerado","generated_files_location":"Local de diret\xF3rio para os arquivos gerados (marcadores de cena, pr\xE9 visualiza\xE7\xF5es de cena, sprites, etc)","generated_path_head":"Caminho gerado","hashing":"Hashing","image_ext_desc":"Lista delimitada por v\xEDrgulas de extens\xF5es de arquivo que ser\xE3o identificadas como imagens.","image_ext_head":"Extens\xF5es de imagem","logging":"Logging","maximum_streaming_transcode_size_desc":"Tamanho m\xE1ximo para streams transcodados","maximum_streaming_transcode_size_head":"Tamanho m\xE1ximo de transcoda\xE7\xE3o de streaming","maximum_transcode_size_desc":"Tamanho m\xE1ximo para transcodes gerados","maximum_transcode_size_head":"Tamanho m\xE1ximo de transcode.","number_of_parallel_task_for_scan_generation_desc":"Defina como 0 para detec\xE7\xE3o autom\xE1tica. AVISO Execu\xE7\xE3o de mais tarefas do que \xE9 necess\xE1rio para obter 100% de utiliza\xE7\xE3o da CPU diminuir\xE1 o desempenho e potencialmente causar outros problemas.","number_of_parallel_task_for_scan_generation_head":"N\xFAmero de tarefas paralelas para varredura/gera\xE7\xE3o","parallel_scan_head":"Varredura/Gera\xE7\xE3o paralela","preview_generation":"Pr\xE9 visualizar a gera\xE7\xE3o","scraper_user_agent":"Scraper User Agent","scraper_user_agent_desc":"User-Agent string usado durante solicita\xE7\xF5es http do scrape","scraping":"Scraping","sqlite_location":"Localiza\xE7\xE3o do arquivo para o banco de dados SQLite  (requer reinicializa\xE7\xE3o)","video_ext_desc":"Lista delimitada por v\xEDrgulas de extens\xF5es de arquivo que ser\xE3o identificadas como v\xEDdeos.","video_ext_head":"Extens\xF5es de v\xEDdeo.","video_head":"V\xEDdeo"},"logs":{"log_level":"Log Level"},"plugins":{"hooks":"Hooks","triggers_on":"Triggers on"},"scraping":{"entity_metadata":"{entityType} metadados","entity_scrapers":"{entityType} scrapers","scrapers":"Scrapers","search_by_name":"Buscar por nome","supported_types":"Tipos suportados","supported_urls":"URLs"},"stashbox":{"add_instance":"Adicionar uma inst\xE2ncia stash-box","api_key":"Chave de API","description":"Stash-box facilita o tagging autom\xE1tico de cenas e artistas baseados em 'impress\xF5es digitais' e nomes de arquivos..\\nEndpoint e chave de API pode ser encontrado na sua p\xE1gina de conta na instancia stash-box. Os nomes s\xE3o necess\xE1rios quando mais de uma inst\xE2ncia s\xE3o adicionados.","endpoint":"Endpoint","graphql_endpoint":"GraphQL endpoint","name":"Nome","title":"Stash-box Endpoints"},"tasks":{"added_job_to_queue":"{operation_name} adicionada para a fila de trabalho.","auto_tag_based_on_filenames":"Conte\xFAdo autom\xE1tico de tag baseado em nomes de arquivos.","auto_tagging":"Auto tagging","backing_up_database":"Backup do banco de dados","backup_and_download":"Executa um backup do banco de dados e baixa do arquivo resultante.","backup_database":"Executa um backup do banco de dados para o mesmo diret\xF3rio que o banco de dados, com o formato do nome do arquivo {filename_format}","cleanup_desc":"Verifique os arquivos ausentes removendo-os do banco de dados. Esta \xE9 uma a\xE7\xE3o destrutiva.","dont_include_file_extension_as_part_of_the_title":"N\xE3o incluir extens\xE3o de arquivo como parte do t\xEDtulo","export_to_json":"Exporta o conte\xFAdo do banco de dados para o formato JSON no diret\xF3rio de metadados.","generate_desc":"Gerar imagem de suporte, sprite, video, vtt e outros arquivos.","generate_phashes_during_scan":"Gerar phashes durante a varredura (para uma deduplica\xE7\xE3o e identifica\xE7\xE3o de cena)","generate_previews_during_scan":"Gerar pr\xE9-visualiza\xE7\xF5es de imagem durante a digitaliza\xE7\xE3o (WebP animadas, somente necess\xE1rio se o tipo de pr\xE9-visualiza\xE7\xE3o for definido para imagem animada)","generate_sprites_during_scan":"Gerar sprites durante a digitaliza\xE7\xE3o (para o cena scrubber)","generate_video_previews_during_scan":"Gerar pr\xE9-visualiza\xE7\xF5es durante a digitaliza\xE7\xE3o (pr\xE9-visualiza\xE7\xF5es de v\xEDdeo que tocam ao posicionar o mouse sobre uma cena)","generated_content":"Conte\xFAdo gerado","import_from_exported_json":"Importa\xE7\xE3o de JSON exportado no diret\xF3rio de metadados. Limpa o banco de dados existente.","incremental_import":"Importa\xE7\xE3o incremental de um arquivo zip de exporta\xE7\xE3o fornecido.","job_queue":"Fila de trabalho.","maintenance":"Manuten\xE7\xE3o","migrate_hash_files":"Usado depois de alterar o hash gerado de nomea\xE7\xE3o de arquivos para renomear arquivos gerados existentes para o novo formato hash.","migrations":"Migra\xE7\xF5es","only_dry_run":"Executar apenas modo n\xE3o destrutivo. N\xE3o remova nada","plugin_tasks":"Tarefas de plugin","scan_for_content_desc":"Varre para novos conte\xFAdos e adicion\xE1-los ao banco de dados.","set_name_date_details_from_metadata_if_present":"Definir nome, data, detalhes de metadados (se presente)"},"tools":{"scene_duplicate_checker":"Verificador de cena duplicada","scene_filename_parser":{"add_field":"Adicionar campo","capitalize_title":"Capitalizar o t\xEDtulo.","display_fields":"Exibir os campos","escape_chars":"Use \\\\ para digitar caracteres literais","filename":"Nome do arquivo","filename_pattern":"Padr\xE3o de nome de arquivo","ignored_words":"Palavras ignoradas","matches_with":"Corresponde com {i}","select_parser_recipe":"Select Parser Recipe","title":"Parser de nome de arquivo de cena","whitespace_chars":"Caracteres de espa\xE7o em branco","whitespace_chars_desc":"Esses caracteres ser\xE3o substitu\xEDdos pelo espa\xE7o em branco no t\xEDtulo."},"scene_tools":"Ferramentas de cena"},"ui":{"custom_css":{"description":"A p\xE1gina deve ser recarregada para altera\xE7\xF5es para terem efeito.","heading":"CSS customizado","option_label":"CSS customizado habilitado"},"handy_connection_key":{"description":"Chave de conex\xE3o para usar em cenas interativas.","heading":"Chave de conex\xE3o"},"language":{"heading":"Idioma"},"max_loop_duration":{"description":"Dura\xE7\xE3o m\xE1xima da cena onde o player realizar\xE1 o loop do v\xEDdeo - 0 para desabilitar","heading":"Dura\xE7\xE3o m\xE1xima do loop."},"menu_items":{"description":"Mostrar ou ocultar diferentes tipos de conte\xFAdo na barra de navega\xE7\xE3o","heading":"Itens do menu"},"preview_type":{"description":"Configura\xE7\xE3o para itens do pared\xE3o","heading":"Tipo de visualiza\xE7\xE3o","options":{"animated":"Imagem animada","static":"Imagem est\xE1tica","video":"V\xEDdeo"}},"scene_list":{"heading":"Lista de cenas","options":{"show_studio_as_text":"Mostrar est\xFAdios como texto"}},"scene_player":{"heading":"Player de cenas","options":{"auto_start_video":"Come\xE7ar v\xEDdeos automaticamente"}},"scene_wall":{"heading":"Scene / Marker Wall","options":{"display_title":"Exibir t\xEDtulo e tags","toggle_sound":"Habilitar som"}},"slideshow_delay":{"description":"Slideshow est\xE1 dispon\xEDvel em galerias quando no modo de exibi\xE7\xE3o de pared\xE3o","heading":"Atraso do slideshow"},"title":"Interface de usu\xE1rio"}},"configuration":"Configura\xE7\xE3o","countables":{"galleries":"{count, plural, one {Galeria} other {Galerias}}","images":"{count, plural, one {Imagem} other {Imagens}}","markers":"{count, plural, one {Marcador} other {Marcadores}}","movies":"{count, plural, one {Filme} other {Filmes}}","performers":"{count, plural, one {Artista} other {Artistas}}","scenes":"{count, plural, one {Cena} other {Cenas}}","studios":"{count, plural, one {Est\xFAdio} other {Est\xFAdios}}","tags":"{count, plural, one {Tag} other {Tags}}"},"country":"Pa\xEDs","cover_image":"Imagem de capa","created_at":"Criado em","criterion_modifier":{"equals":"\xE9","excludes":"exclui","format_string":"{criterion} {modifierString} {valueString}","greater_than":"\xE9 maior que","includes":"inclui","includes_all":"inclui tudo","is_null":"\xE9 nulo","less_than":"\xE9 menor que","matches_regex":"regex combina com","not_equals":"n\xE3o \xE9","not_matches_regex":"regex n\xE3o combina com","not_null":"n\xE3o \xE9 nulo"},"date":"Data","death_date":"Data de \xF3bito","death_year":"Ano da morte","descending":"Descendente","detail":"Detalhe","details":"Detalhes","developmentVersion":"Vers\xE3o de desenvolvimento.","dialogs":{"delete_confirm":"Tem certeza de que deseja excluir {entityName}?","delete_entity_desc":"{count, plural, one {Tem certeza de que deseja excluir este(a) {singularEntity}? A menos que o arquivo tamb\xE9m seja exclu\xEDdo, este(a) {singularEntity} ser\xE1 re-adicionado quando a varredura for executada.} other {Tem certeza de que deseja excluir estes(as) {pluralEntity}? A menos que os arquivos tamb\xE9m sejam exclu\xEDdos, estes(as) {pluralEntity} ser\xE3o re-adicionados quando a varredura for executada.}}","delete_entity_title":"{count, plural, one {Excluir {singularEntity}} other {Excluir {pluralEntity}}}","delete_object_desc":"Tem certeza de que deseja excluir {count, plural, one {este(a) {singularEntity}} other {estes(as) {pluralEntity}}}?","delete_object_overflow":"\u2026e {count} other {count, plural, one {{singularEntity}} other {{pluralEntity}}}.","delete_object_title":"Excluir {count, plural, one {{singularEntity}} other {{pluralEntity}}}","edit_entity_title":"Editar {count, plural, one {{singularEntity}} other {{pluralEntity}}}","export_include_related_objects":"Inclua objetos relacionados na exporta\xE7\xE3o","export_title":"Exportar","merge_tags":{"destination":"Destino","source":"Fonte"},"overwrite_filter_confirm":"Tem certeza de que deseja sobrescrever a consulta salva existente {entityName}?","scene_gen":{"image_previews":"Pr\xE9-visualiza\xE7\xF5es de imagem (WebP animadas, somente necess\xE1rio se o tipo de pr\xE9-visualiza\xE7\xE3o for definido para imagem animada)","markers":"Marcadores (v\xEDdeos de 20 segundos que iniciam no dado tempo)","overwrite":"Substituir arquivos gerados existentes","phash":"Hashes perceptivos (para desduplica\xE7\xE3o)","preview_exclude_end_time_desc":"Excluir os \xFAltimos x segundos de pr\xE9-visualiza\xE7\xF5es de cena. Isso pode ser um valor em segundos, ou uma porcentagem (p. ex. 2%) da dura\xE7\xE3o total da cena.","preview_exclude_end_time_head":"Excluir tempo de t\xE9rmino","preview_exclude_start_time_desc":"Excluir os primeiros x segundos de pr\xE9-visualiza\xE7\xF5es de cena. Isso pode ser um valor em segundos, ou uma porcentagem (p. ex. 2%) da dura\xE7\xE3o total da cena.","preview_exclude_start_time_head":"Excluir tempo de in\xEDcio","preview_options":"Op\xE7\xF5es de pr\xE9-visualiza\xE7\xE3o","preview_preset_desc":"A predefini\xE7\xE3o regula o tamanho, a qualidade e o tempo de codifica\xE7\xE3o da gera\xE7\xE3o de pr\xE9-visualiza\xE7\xE3o. Predefini\xE7\xF5es al\xE9m de \u201Clenta\u201D tem retornos diminuindo e n\xE3o s\xE3o recomendados.","preview_preset_head":"Codifica\xE7\xE3o predefinida de pr\xE9-visualiza\xE7\xE3o","preview_seg_count_desc":"N\xFAmero de segmentos em arquivos de pr\xE9-visualiza\xE7\xE3o.","preview_seg_count_head":"N\xFAmero de segmentos em pr\xE9-visualiza\xE7\xE3o","preview_seg_duration_desc":"Dura\xE7\xE3o de cada segmento de pr\xE9-visualiza\xE7\xE3o, em segundos.","preview_seg_duration_head":"Dura\xE7\xE3o do segmento de pr\xE9-visualiza\xE7\xE3o","sprites":"Sprites (para scrubber de cena)","transcodes":"Transcodes (convers\xF5es MP4 de formatos de v\xEDdeo n\xE3o suportados)","video_previews":"Pr\xE9-visualiza\xE7\xF5es (pr\xE9-visualiza\xE7\xF5es de v\xEDdeo que tocam ao posicionar o mouse sobre uma cena)"},"scrape_entity_title":"{entity_type} resultados de scrape","scrape_results_existing":"Existem","scrape_results_scraped":"Scraped","set_image_url_title":"URL da imagem","unsaved_changes":"Mudan\xE7as n\xE3o salvas. Voc\xEA tem certeza de que quer sair?"},"dimensions":"Dimens\xF5es","director":"Diretor(a)","display_mode":{"grid":"Grid","list":"Lista","tagger":"Tagger","unknown":"Desconhecido(a)","wall":"Pared\xE3o"},"donate":"Doar","dupe_check":{"description":"N\xEDveis abaixo de 'Exato' podem demorar mais para calcular. Falsos positivos tamb\xE9m podem ser encontrados em n\xEDveis de precis\xE3o mais baixos.","found_sets":"{setCount, plural, one{# conjunto de duplicatas encontrados.} other {# conjuntos de duplicatas encontrados.}}","options":{"exact":"Exato","high":"Alto","low":"Baixo","medium":"M\xE9dio"},"search_accuracy_label":"Precis\xE3o de pesquisa","title":"Cenas duplicadas"},"duration":"Dura\xE7\xE3o","effect_filters":{"aspect":"Aspect","blue":"Azul","blur":"Blur","brightness":"Brilho","contrast":"Contraste","gamma":"Gama","green":"Verde","hue":"Matiz","name":"Filtros","name_transforms":"Transformadores","red":"Vermelho","reset_filters":"Redefinir filtros","reset_transforms":"Redefinir transformadores","rotate":"Girar","rotate_left_and_scale":"Girar para a esquerda e escalar","rotate_right_and_scale":"Girar a direita e escalar","saturation":"Satura\xE7\xE3o","scale":"Escala","warmth":"Calor"},"ethnicity":"Etnicidade","eye_color":"Cor dos olhos","fake_tits":"Peitos falsos","favourite":"Favorito(a)","file_info":"Informa\xE7\xF5es do arquivo","file_mod_time":"Tempo de modifica\xE7\xE3o do arquivo","filesize":"Tamanho do arquivo","filter":"Filtro","filter_name":"Nome do filtro","filters":"Filtros","framerate":"Taxa de quadros","galleries":"Galerias","gallery":"Galeria","gallery_count":"Contagem de galeria","gender":"G\xEAnero","hair_color":"Cor do cabelo","hasMarkers":"Possui marcadores","height":"Altura","help":"Ajuda","image":"Imagem","image_count":"Contagem de imagem","images":"Imagens","include_sub_studios":"Incluem est\xFAdios filho","instagram":"Instagram","interactive":"Interativo","isMissing":"Est\xE1 faltando","library":"Biblioteca","loading":{"generic":"Carregando\u2026"},"marker_count":"Contagem de marcadores","markers":"Marcadores","measurements":"Medidas","media_info":{"audio_codec":"Codec de \xE1udio","checksum":"Checksum","downloaded_from":"Baixado de","hash":"Hash","performer_card":{"age":"{age} {years_old}","age_context":"{age} {years_old} nesta cena"},"phash":"PHash","stream":"Stream","video_codec":"Codec de v\xEDdeo"},"metadata":"Metadados","movie":"Filme","movie_scene_number":"N\xFAmero da cena do filme","movies":"Filmes","name":"Nome","new":"Novo","none":"Nenhum","o_counter":"O-contador","operations":"Opera\xE7\xF5es","organized":"Organizado","pagination":{"first":"Primeiro","last":"\xDAltimo","next":"Pr\xF3ximo","previous":"Anterior"},"parent_studios":"Est\xFAdios pai","path":"Caminho","performer":"Artista","performer_count":"Contagem de artistas","performer_image":"Imagem do(a) artita","performers":"Artistas","performerTags":"Tags de artitas","piercings":"Piercings","queue":"Fila","random":"Aleat\xF3ria","rating":"Avalia\xE7\xE3o","resolution":"Resolu\xE7\xE3o","scene":"Cena","scene_count":"Contagem de cena","scene_id":"Cena ID","scenes":"Cenas","scenes_updated_at":"Cena atualizada em","sceneTagger":"Tagger de cena","sceneTags":"Tags de cena","search_filter":{"add_filter":"Adicionar filtro","name":"Filtro","saved_filters":"Filtros salvos","update_filter":"Atualizar filtro"},"seconds":"Segundos","settings":"Defini\xE7\xF5es","stash_id":"Stash ID","status":"Status: {statusText}","studio":"Est\xFAdio","studio_depth":"N\xEDveis (vazio para todos)","studios":"Est\xFAdios","synopsis":"Sinopse","tag":"Tag","tag_count":"N\xFAmero de tags","tags":"Tags","tattoos":"Tatuagens","title":"T\xEDtulo","toast":{"added_entity":"{entity} adicionado(a)","added_generation_job_to_queue":"Trabalho de gera\xE7\xE3o adicionado para fila","create_entity":"Criar {entity}","default_filter_set":"Filtragem padr\xE3o definada","delete_entity":"Excluir {count, plural, one {{singularEntity}} other {{pluralEntity}}}","delete_past_tense":"Exclu\xEDda {count, plural, one {{singularEntity}} other {{pluralEntity}}}","generating_screenshot":"Gerando captura de tela\u2026","merged_tags":"Tags mescladas","rescanning_entity":"Reescaneando {count, plural, one {{singularEntity}} other {{pluralEntity}}}\u2026","started_auto_tagging":"Auto tagging iniciado","saved_entity":"{entity} salvo(a)","updated_entity":"{entity} atualizado(a)"},"total":"Total","twitter":"Twitter","up-dir":"Subir um diret\xF3rio","updated_at":"Atualizado em","url":"URL","weight":"Peso","years_old":"anos","stats":{"image_size":"Tamanho das imagens","scenes_size":"Tamanho de cenas"}}`)},395:function(vt){vt.exports=JSON.parse(`{"actions":{"add":"Ajouter","add_directory":"Ajouter un r\xE9pertoire","add_entity":"Ajouter {entityType}","add_to_entity":"Ajouter \xE0 {entityType}","allow":"Autoriser","allow_temporarily":"Autoriser temporairement","apply":"Appliquer","auto_tag":"Taggage automatique","backup":"Sauvegarde","cancel":"Annuler","clean":"Nettoyer","clear":"Vider","clear_back_image":"Suppr. l'image Verso","clear_front_image":"Suppr. l'image Recto","clear_image":"Supprimer l'image","close":"Fermer","create":"Cr\xE9er","create_entity":"Cr\xE9er {entityType}","create_marker":"Cr\xE9er un Marqueur","created_entity":"Cr\xE9\xE9: {entity_type}: {entity_name}","delete":"Supprimer","delete_entity":"Supprimer {entityType}","delete_file":"Supprimer le fichier","delete_generated_supporting_files":"Supprimer les fichiers g\xE9n\xE9r\xE9s","disallow":"Refuser","download":"T\xE9l\xE9charger","download_backup":"T\xE9l\xE9charger une sauvegarde","edit":"Editer","export":"Exporter\u2026","export_all":"Exporter tout\u2026","find":"Trouver","from_file":"A partir du fichier\u2026","from_url":"A partir de l'URL\u2026","full_export":"Export Complet","full_import":"Import Complet","generate":"G\xE9n\xE9rer","generate_thumb_default":"G\xE9n\xE9rer la miniature par d\xE9faut","generate_thumb_from_current":"G\xE9n\xE9rer une miniature","hash_migration":"hash migration","hide":"Masquer","identify":"Identifier","import":"Importer\u2026","import_from_file":"Importer \xE0 partir d'un fichier","merge":"Fusionner","merge_from":"Fusionner depuis","merge_into":"Fusionner dans","not_running":"pas en cours d'ex\xE9cution","overwrite":"Ecraser","play_random":"Lecture al\xE9atoire","play_selected":"Lire la s\xE9lection","preview":"Aper\xE7u","refresh":"Rafraichir","reload_plugins":"Recharger les Plugins","reload_scrapers":"Recharger les Scrapers","remove":"Retirer","rename_gen_files":"Renommer les fichiers g\xE9n\xE9r\xE9s","rescan":"Scanner \xE0 nouveau","reshuffle":"M\xE9langer \xE0 nouveau","running":"en cours d'ex\xE9cution","save":"Sauvegarder","save_delete_settings":"Use these options by default when deleting","save_filter":"Sauvegarder le filtre","scan":"Scanner","scrape":"Scrape","scrape_with":"Scrape avec\u2026","scrape_query":"Requ\xEAte de Scrape","scrape_scene_fragment":"Scrape par fragment","search":"Chercher","select_all":"S\xE9lectionner tout","select_none":"Ne rien s\xE9lectionner","selective_auto_tag":"Tagging automatique s\xE9lectif","selective_scan":"Scan s\xE9lectif","set_as_default":"D\xE9finir comme valeur par d\xE9faut","set_back_image":"Image Verso\u2026","set_front_image":"Image Recto","set_image":"Choisir l'image\u2026","show":"Montrer","skip":"Passer","stop":"Stop","tasks":{"clean_confirm_message":"\xCAtes-vous s\xFBr de vouloir nettoyer ? Cela supprimera les informations de la base de donn\xE9es et le contenu g\xE9n\xE9r\xE9 pour toutes les Vid\xE9os et Galeries qui ne se trouvent plus dans le syst\xE8me de fichiers.","dry_mode_selected":"Essais \xE0 blanc. Aucune suppression n'aura lieu.","import_warning":"\xCAtes-vous s\xFBr de vouloir importer ? Cela supprimera la base de donn\xE9es et r\xE9importera des donn\xE9es \xE0 partir de vos m\xE9tadonn\xE9es export\xE9es."},"temp_disable":"D\xE9sactiver temporairement\u2026","temp_enable":"Activer temporairement\u2026","view_random":"Visionner au hasard","confirm":"Confirmer","select_folders":"S\xE9lectionner des r\xE9pertoires","browse_for_image":"S\xE9lectionner une image\u2026","open_random":"Ouvrir au hasard","next_action":"Suivant","previous_action":"Pr\xE9c\xE9dent","finish":"Terminer","use_default":"Utiliser la valeur par d\xE9faut","ignore":"Ignorer"},"actions_name":"Actions","age":"\xC2ge","aliases":"Alias","all":"tout","also_known_as":"Aussi connu sous le nom","ascending":"Ascendant","average_resolution":"R\xE9solution moyenne","birth_year":"Ann\xE9e de naissance","birthdate":"Date de naissance","bitrate":"BitRate","career_length":"Dur\xE9e de la carri\xE8re","subsidiary_studios":"Studios affili\xE9s/filiales","sub_tags":"Sous-Tags","sub_tag_count":"Nombre de sous-Tags","component_tagger":{"config":{"active_instance":"Instance stash-box active:","blacklist_desc":"\xC9l\xE9ments \xE0 exclure de la requ\xEAte, sous la forme d'une expression r\xE9guli\xE8re insensible \xE0 la casse. Certains caract\xE8res doivent \xEAtre \xE9chap\xE9s avec un backslash :  {chars_require_escape}","blacklist_label":"Exclure","query_mode_auto":"Automatique","query_mode_auto_desc":"Se base sur les m\xE9tadonn\xE9es du fichier si pr\xE9sentes, sinon utilise le nom du fichier","query_mode_dir":"R\xE9pertoire parent","query_mode_dir_desc":"Se base uniquement sur le nom du r\xE9pertoire parent","query_mode_filename":"Nom de fichier","query_mode_filename_desc":"Se base uniquement sur le nom du fichier","query_mode_label":"Mode","query_mode_metadata":"M\xE9tadonn\xE9es","query_mode_metadata_desc":"Se base uniquement sur les m\xE9tadonn\xE9es du fichier","query_mode_path":"Chemin complet","query_mode_path_desc":"Se base sur le chemin complet du fichier","set_cover_desc":"Si une vignette a \xE9t\xE9 trouv\xE9e, remplace la vignette de la vid\xE9o par la vignette trouv\xE9e.","set_cover_label":"Enregistrer la vignette","set_tag_desc":"Ajoute les Tags \xE0 la vid\xE9o, en fusionnant avec ou en \xE9crasant les Tags existants.","set_tag_label":"Enregistrer les Tags","source":"Source","show_male_desc":"Cochez si vous voulez Taguer \xE9galement les Acteurs (hommes).","show_male_label":"Montrer \xE9galement les Acteurs"},"noun_query":"Requ\xEAte","results":{"fp_found":"{fpCount, plural, =0 {Aucune empreinte correspondante} other {# nouvelles empreintes correspondantes}}","fp_matches":"La dur\xE9e correspond !","fp_matches_multi":"La dur\xE9e correspond \xE0 {matchCount}/{durationsLength} empreintes(s)","hash_matches":"Correspondance trouv\xE9e : {hash_type}","match_failed_already_tagged":"Vid\xE9o d\xE9j\xE0 Tagu\xE9e","match_failed_no_result":"Aucun r\xE9sultat trouv\xE9","match_success":"Sc\xE8ne Tagu\xE9e avec succ\xE8s","unnamed":"Anonyme","duration_off":"La dur\xE9e diff\xE8re d'au moins {number} secondes","duration_unknown":"Dur\xE9e inconnue","phash_matches":"{count} PHashe(s) correspondant(s)"},"verb_match_fp":"Empreintes correspondantes","verb_matched":"Associ\xE9","verb_scrape_all":"Extraire tout","verb_submit_fp":"Soumettre {fpCount, plural, one{# Empreinte} other{# Empreintes}}","verb_toggle_config":"{toggle} {configuration}","verb_toggle_unmatched":"{toggle} vid\xE9os associ\xE9es"},"config":{"about":{"build_hash":"Build hash:","build_time":"Build time:","check_for_new_version":"Rechercher une mise \xE0 jour","latest_version_build_hash":"Latest Version Build Hash:","new_version_notice":"[NEW]","stash_discord":"Join our {url} channel","stash_home":"Stash home at {url}","stash_open_collective":"Support us through {url}","stash_wiki":"Stash {url} page","version":"Version"},"categories":{"about":"A propos","interface":"Interface","logs":"Journaux","plugins":"Plugins","scraping":"Scraping","tasks":"T\xE2ches","tools":"Outils"},"dlna":{"allow_temp_ip":"Autoriser {tempIP}","allowed_ip_addresses":"Adresses IP autoris\xE9es","default_ip_whitelist":"Liste blanche d'adresses IP","default_ip_whitelist_desc":"Liste d'adresses IP que seront autoris\xE9es par d\xE9faut \xE0 acc\xE9der au serveur DLNA. Utilisez {wildcard} pour autoriser toutes les adresses.","enabled_by_default":"Activer par d\xE9faut","network_interfaces":"Interfaces","network_interfaces_desc":"Interfaces r\xE9seaux sur lesquelles exposer le serveur DLNA. Si rien n'est sp\xE9cifi\xE9, le serveur sera expos\xE9 sur toutes les interfaces disponibles. Red\xE9marrez le serveur DLNA pour appliquer la modification.","recent_ip_addresses":"Adresses IP r\xE9centes","server_display_name":"Nom du serveur DLNA","server_display_name_desc":"Nom du serveur DLNA. Si aucun nom n'est sp\xE9cifi\xE9, le nom du serveur sera {server_name}.","until_restart":"jusqu'au red\xE9marrage"},"general":{"auth":{"api_key":"Cl\xE9 API","api_key_desc":"Cl\xE9 API pour syst\xE8me tier. Requis uniquement lorsque un nom d'utilisateur et un mot de passe ont \xE9t\xE9 sp\xE9cifi\xE9s. Le nom d'utilisateur doit avoir \xE9t\xE9 enregistr\xE9 avant de g\xE9n\xE9rer la cl\xE9 API.","authentication":"Authentification","clear_api_key":"Effacer la cl\xE9 API","generate_api_key":"G\xE9n\xE9rer une cl\xE9 API","log_file":"Fichier journal","log_file_desc":"Chemin vers le fichier journal. Laissez vide pour d\xE9sactiver la journalisation. N\xE9c\xE9ssite un red\xE9marrage.","log_http":"Journaliser les acc\xE8s HTTP","log_http_desc":"Journalise les acc\xE8s HTTP dans le terminal. N\xE9c\xE9ssite un red\xE9marrage.","log_to_terminal":"Journaliser dans le terminal","log_to_terminal_desc":"Journalise dans le terminal en plus du fichier journal. Actif par d\xE9faut si la journalisation dans le fichier journal est d\xE9sactiv\xE9e. N\xE9c\xE9ssite un red\xE9marrage.","maximum_session_age":"Dur\xE9e maximum de session","maximum_session_age_desc":"Temps d'inactivit\xE9 maximum avant la d\xE9connexion automatique de la session.","password":"Mot de passe","password_desc":"Mot de passe pour acc\xE9der \xE0 Stash. Laissez vide pour d\xE9sactiver l'authentification.","stash-box_integration":"Integration stash-box","trusted_proxies":"Proxys de confiance","trusted_proxies_desc":"Liste des proxys autoris\xE9s \xE0 transf\xE9rer le trafic vers Stash. Laissez vide pour autoriser \xE0 partir du r\xE9seau priv\xE9. ","username":"Nom d'utilisateur","username_desc":"Nom d'utilisateur pour acc\xE9der \xE0 Stash. Laissez vide pour d\xE9sactiver l'authentification."},"cache_location":"Chemin vers le r\xE9pertoire qui sera utilis\xE9 pour la mise en cache.","cache_path_head":"R\xE9pertorie de mise en cache","calculate_md5_and_ohash_desc":"Calculer l'empreinte MD5 en plus de OSHash. Activer cette option rendra plus lent le scan initial des fichiers. Le hachage des nom de fichiers doit \xEAtre d\xE9fini sur oshash pour d\xE9sactiver le calcul du MD5.","calculate_md5_and_ohash_label":"Calculer le MD5 pour les vid\xE9os","check_for_insecure_certificates":"V\xE9rifier les certificats non s\xE9curis\xE9s","check_for_insecure_certificates_desc":"Certains sites Web utilisent des certificats SSL non s\xE9curis\xE9s. Lorsque cette option est d\xE9coch\xE9e, le Scraper ignore la v\xE9rification des certificats non s\xE9curis\xE9s et permet le Scraping de ces sites. Si vous obtenez une erreur de certificat lors du Scraping, d\xE9cochez cette option.","chrome_cdp_path":"Chrome CDP","chrome_cdp_path_desc":"Chemin vers l'ex\xE9cutable Chrome, ou une adresse distante (commen\xE7ant par http:// ou https://, par exemple http://localhost:9222/json/version) vers une instance Chrome.","create_galleries_from_folders_desc":"Si coch\xE9, cr\xE9e des Galeries \xE0 partir des dossiers contenant des images.","create_galleries_from_folders_label":"Cr\xE9er des Galeries \xE0 partir des dossiers contenant des fichiers images","db_path_head":"Base de donn\xE9es","directory_locations_to_your_content":"Emplacements vers vos biblioth\xE8ques de contenu","exclude_image":"Exclure les images","exclude_video":"Exclure les vid\xE9os","excluded_image_gallery_patterns_desc":"Expressions r\xE9guli\xE8res des fichiers ou chemins vers les images ou galeries \xE0 exclure de l'analyse et \xE0 ajouter au nettoyage.","excluded_image_gallery_patterns_head":"Images/galeries \xE0 exclure","excluded_video_patterns_desc":"Expressions r\xE9guli\xE8res des fichiers ou chemins vers les vid\xE9os \xE0 exclure de l'analyse et \xE0 ajouter au nettoyage.","excluded_video_patterns_head":"Vid\xE9os \xE0 exclure","gallery_ext_desc":"Liste des extensions de fichier Archive qui seront consid\xE9r\xE9s comme des Galeries d'Images. S\xE9parez les extentions par une virgule.","gallery_ext_head":"Extensions de fichiers d'Archive pour les Galeries","generated_file_naming_hash_desc":"Utiliser MD5 ou OSHash pour le nommage des fichiers g\xE9n\xE9r\xE9s. Modifier ce r\xE9glage n\xE9c\xE9ssite que le MD5/OSHash ai d\xE9j\xE0 \xE9t\xE9 g\xE9n\xE9r\xE9 pour toutes les Vid\xE9os et Images. Apr\xE8s avoir modifi\xE9 ce r\xE9glage, les fichiers g\xE9n\xE9r\xE9s existants devront \xEAtre migr\xE9s ou r\xE9g\xE9n\xE9r\xE9s. Voir la page T\xE2ches pour la migration.","generated_file_naming_hash_head":"Algorithme de hachage pour le nommage des fichiers g\xE9n\xE9r\xE9s","generated_files_location":"Emplacement pour les fichiers g\xE9n\xE9r\xE9s (marqueurs, apercus, sprites, etc)","generated_path_head":"Emplacement des fichiers g\xE9n\xE9r\xE9s","hashing":"Hachage","image_ext_desc":"Liste des extensions de fichiers Images","image_ext_head":"Extensions de fichiers Images","logging":"Journalisation","maximum_streaming_transcode_size_desc":"R\xE9solution maximum pour la conversions des stream","maximum_streaming_transcode_size_head":"R\xE9solution maximum de conversion pour les stream","maximum_transcode_size_desc":"R\xE9solution maximum pour la conversions des fichiers","maximum_transcode_size_head":"R\xE9solution maximum de conversion","metadata_path":{"heading":"Emplacement des fichiers de M\xE9tadonn\xE9es","description":"Emplacement du r\xE9pertoire qui sera utilis\xE9 pour un export ou un import de m\xE9tadonn\xE9es"},"number_of_parallel_task_for_scan_generation_desc":"0 pour d\xE9tection automatique. Attention: une valeur trop \xE9lev\xE9e peut r\xE9duire les performances et causer d'autres probl\xE8mes.","number_of_parallel_task_for_scan_generation_head":"Nombre de t\xE2ches en parall\xE8les pour le scan et la g\xE9n\xE9ration","parallel_scan_head":"Scan/G\xE9n\xE9ration en parall\xE8le","preview_generation":"G\xE9n\xE9rer les aper\xE7us","scraper_user_agent":"User-Agent pour les Scraper","scraper_user_agent_desc":"Cha\xEEne User-Agent utilis\xE9e dans les requ\xEAtes http lors du Scraping.","scraping":"Scraping","sqlite_location":"Emplacement du fichier de base de donn\xE9es SQLite (n\xE9c\xE9ssite un red\xE9marrage)","video_ext_desc":"Liste des extensions de fichiers Vid\xE9os","video_ext_head":"Extensions de fichiers Vid\xE9o","video_head":"Vid\xE9o","include_audio_head":"Inclure l'audio","include_audio_desc":"Inclure l'audio dans la g\xE9n\xE9ration des aper\xE7us."},"logs":{"log_level":"Niveau de journalisation"},"plugins":{"hooks":"Hooks","triggers_on":"D\xE9clenche sur"},"scraping":{"entity_metadata":"{entityType} M\xE9tadonn\xE9es","entity_scrapers":"{entityType} scrapers","excluded_tag_patterns_desc":"Expressions r\xE9guli\xE8res pour l'exclusion de certains Tags des r\xE9sultats de Scraping","excluded_tag_patterns_head":"Exclusion de Tags","scraper":"Scraper","scrapers":"Scrapers","search_by_name":"Recherche par nom","supported_types":"Types support\xE9s","supported_urls":"URLs"},"stashbox":{"add_instance":"Ajouter une instance stash-box","api_key":"Cl\xE9 API","description":"Stash-box facilite le taggage automatique des vid\xE9os et des acteur.trice.s en se basant sur l'empreinte et le nom des fichiers. Le Endpoint et la Cl\xE9 API peuvent \xEAtre trouv\xE9 dans votre compte stash-box. Si vous sp\xE9cifiez plusieurs instances stash-box, le nom est requis.","endpoint":"Endpoint","graphql_endpoint":"Endpoint GraphQL","name":"Nom","title":"Endpoints Stash-box"},"tasks":{"added_job_to_queue":"{operation_name} ajout\xE9(e) \xE0 la liste des t\xE2ches","auto_tag_based_on_filenames":"Taggage automatique bas\xE9 sur le nom des fichiers.","auto_tagging":"Taggage automatique","backing_up_database":"Sauvegarder la base de donn\xE9es","backup_and_download":"Sauvegarde la base de donn\xE9es et t\xE9l\xE9charge le fichier de sauvegarde.","backup_database":"Sauvegarde la base de donn\xE9es au m\xEAme emplacement que le fichier de base de donn\xE9es. Le fichier se sauvegarde aura le format suivant: {filename_format}","cleanup_desc":"Cherche et supprime les fichiers orphelins de la base de donn\xE9es. Cette action est destructive.","dont_include_file_extension_as_part_of_the_title":"Ne pas inclure l'extension du fichier dans le titre","export_to_json":"Exporte la base de donn\xE9es au format JSON dans le dossier metadata","generate_desc":"G\xE9n\xE8re les fichiers images, sprite, vid\xE9o, vtt autres fichiers.","generate_phashes_during_scan":"G\xE9n\xE9rer les PHashes pendant le scan (pour la d\xE9duplication et l'identification des vid\xE9os)","generate_previews_during_scan":"G\xE9n\xE9rer \xE9galement les aper\xE7us image pendant le scan (WebP anim\xE9, requis seulement si le Type d'apercu est d\xE9finis sur Image Anim\xE9e)","generate_sprites_during_scan":"G\xE9n\xE9rer les Sprites pendant le scan (pour l'aper\xE7u sur la barre de progression)","generate_video_previews_during_scan":"G\xE9n\xE9rer les aper\xE7us pendant le scan (courte vid\xE9o d'aper\xE7u jou\xE9e lorsque vous surlovez une Vid\xE9o)","generate_thumbnails_during_scan":"G\xE9n\xE9rer les miniatures pour les Images pendant le scan.","generated_content":"Contenu g\xE9n\xE9r\xE9","identify":{"and_create_missing":"et cr\xE9er si manquant","create_missing":"Cr\xE9er si manquant","heading":"Identifier","description":"Associe automatiquement les m\xE9tadonn\xE9es aux Vid\xE9os en utilisant stash-box et les Scrapers","default_options":"Options par d\xE9faut","explicit_set_description":"Ces options seront utilis\xE9es par d\xE9faut \xE0 moins qu'une Source ne les d\xE9finissent autrement.","field_behaviour":"{strategy} {field}","field_options":"options pour les champs","identifying_scenes":"Identifier {num} {scene}","identifying_from_paths":"Identifier les vid\xE9os \xE0 partir des emplacements suivants","include_male_performers":"Inclure les acteurs hommes","set_cover_images":"Enregistrer l'image de couverture","set_organized":"Marquer comme Organis\xE9","source_options":"Options pour {source}","source":"Source","sources":"Sources","field":"Champ","strategy":"Strat\xE9gie"},"import_from_exported_json":"Import from exported JSON in the metadata directory. Wipes the existing database.","incremental_import":"Incremental import from a supplied export zip file.","job_queue":"File d'attente des t\xE2ches","maintenance":"Maintenance","migrate_hash_files":"A utiliser si vous avez modifi\xE9 l'algorithme de hachage pour le nommage des fichiers g\xE9n\xE9r\xE9s. Renomme les fichiers g\xE9n\xE9r\xE9s en fonction de l'algorithme de hachage s\xE9lectionn\xE9.","migrations":"Migrations","only_dry_run":"Effectuer un essai \xE0 blanc. Ne supprime rien du tout.","plugin_tasks":"T\xE2ches des Plugins","scan_for_content_desc":"Scanner pour des nouveaux contenus et les ajouter \xE0 la base de donn\xE9es.","set_name_date_details_from_metadata_if_present":"Enregistre le titre, la date et autres d\xE9tails \xE0 partir des m\xE9tadonn\xE9es du fichier (si pr\xE9sentes)"},"tools":{"scene_duplicate_checker":"V\xE9rificateur de doublons Vid\xE9os","scene_filename_parser":{"add_field":"Ajouter un champ","capitalize_title":"Titre en majuscule","display_fields":"Afficher les champs","escape_chars":"Utilisez \\\\ pour \xE9chapper les caract\xE8res litt\xE9raux","filename":"Nom du fichier","filename_pattern":"Pattern des noms de fichier","ignore_organized":"Ignorer les Vid\xE9os d\xE9j\xE0 Organis\xE9es","ignored_words":"Mots \xE0 ignorer","matches_with":"Matches with {i}","select_parser_recipe":"S\xE9lectionner une recette d'analyse","title":"Analyseur de nom de fichier Vid\xE9os","whitespace_chars":"Espaces","whitespace_chars_desc":"Ces caract\xE8res seront remplac\xE9s par un espace dans le titre"},"scene_tools":"Outils Vid\xE9os"},"ui":{"custom_css":{"description":"La page doit \xEAtre rafraichie pour que les changements prennent effet.","heading":"CSS personalis\xE9","option_label":"Activer le CSS personalis\xE9"},"delete_options":{"description":"R\xE9glages par d\xE9faut lors de la suppression des Vid\xE9o, Images et Galeries.","heading":"Options de suppression","options":{"delete_file":"Par d\xE9faut, effacer les fichiers","delete_generated_supporting_files":"Par d\xE9faut, effacer les fichiers g\xE9n\xE9r\xE9s"}},"desktop_integration":{"desktop_integration":"Int\xE9gration avec le Bureau","skip_opening_browser":"Ne pas ouvrir de navigateur","skip_opening_browser_on_startup":"ne pas ouvrir de navigateur au d\xE9marrage de l'application"},"editing":{"disable_dropdown_create":{"heading":"D\xE9sactiver la cr\xE9ation depuis la liste d\xE9roulante.","description":"D\xE9sactive la possibilit\xE9 de cr\xE9er des nouveaux Actrices/Acteurs, Studio et Tags depuis la liste d\xE9roulante."},"heading":"Edition"},"handy_connection_key":{"description":"Cl\xE9 de connexion Handy pour les Vid\xE9os interactives","heading":"Cl\xE9 de connexion Handy"},"funscript_offset":{"description":"D\xE9calage temporel (en millisecondes) \xE0 appliquer lors de la lecture des scripts interactifs.","heading":"D\xE9calage Funscript (ms)"},"images":{"options":{"write_image_thumbnails":{"heading":"Write image thumbnails","description":"Write image thumbnails to disk when generated on-the-fly"}}},"language":{"heading":"Langue"},"max_loop_duration":{"description":"Dur\xE9e maximum de la vid\xE9o pendant laquelle le lecteur rebouclera la vid\xE9o - 0 pour d\xE9sactiver","heading":"Dur\xE9e maximum de rebouclage"},"menu_items":{"description":"Afficher ou masquer diff\xE9rents types de contenus dans la barre de navigation","heading":"\xC9l\xE9ments de la barre de navigation"},"performers":{"options":{"image_location":{"heading":"Image par d\xE9faut personalis\xE9e pour les actrices/acteurs","description":"Chemin vers l'image \xE0 utiliser pour les Actrices/Acteurs qui n'ont pas d'image. Laissez vide pour utiliser l'image par d\xE9faut de Stash."}}},"preview_type":{"description":"Configuration des \xE9l\xE9ments du Mur","heading":"Type d'aper\xE7u","options":{"animated":"Image anim\xE9e","static":"Image fixe","video":"Vid\xE9o"}},"scene_list":{"heading":"Liste Vid\xE9o","options":{"show_studio_as_text":"Afficher les Studios en tant que texte"}},"scene_player":{"heading":"Lecteur Vid\xE9o","options":{"auto_start_video":"Lecture automatique"}},"scene_wall":{"heading":"Scene / Marker Wall","options":{"display_title":"Display title and tags","toggle_sound":"Enable sound"}},"slideshow_delay":{"description":"Diaporama disponible dans Galeries en mode de visionnage Mur","heading":"Dur\xE9e de d\xE9filement du diaporama"},"title":"Interface utilisateur"}},"configuration":"Configuration","countables":{"galleries":"{count, plural, one {Galerie} other {Galeries}}","images":"{count, plural, one {Image} other {Images}}","markers":"{count, plural, one {Marqueur} other {Marqueurs}}","movies":"{count, plural, one {Film} other {Films}}","performers":"{count, plural, one {Actrice/Acteur} other {Actrices/Acteurs}}","scenes":"{count, plural, one {Vid\xE9o} other {Vid\xE9os}}","studios":"{count, plural, one {Studio} other {Studios}}","tags":"{count, plural, one {Tag} other {Tags}}","files":"{count, plural, one {Fichier} other {Fichiers}}"},"country":"Pays","cover_image":"Image de couverture","created_at":"Date de cr\xE9ation","criterion":{"greater_than":"Sup\xE9rieur \xE0","less_than":"Inf\xE9rieur \xE0","value":"Valeur"},"criterion_modifier":{"equals":"est \xE9gal \xE0","excludes":"ne contient pas","format_string":"{criterion} {modifierString} {valueString}","greater_than":"est plus grand que","includes":"contient","includes_all":"contient tout","is_null":"est null","less_than":"est plus petit que","matches_regex":"match l'expression r\xE9guli\xE8re","not_equals":"n'est pas \xE9gal \xE0","not_matches_regex":"ne match pas l'expression r\xE9guli\xE8re","not_null":"n'est pas null","between":"entre","not_between":"en dehors"},"custom":"Personalis\xE9","date":"Date","death_date":"Date de d\xE9c\xE8s","death_year":"Ann\xE9e de d\xE9c\xE8s","descending":"Descendant","detail":"D\xE9tail","details":"D\xE9tails","developmentVersion":"Version de D\xE9veloppement","dialogs":{"delete_alert":"{count, plural, one {Ce/Cette {singularEntity} sera supprim\xE9(e)} other {Ces {pluralEntity} seront supprim\xE9(e)s}} d\xE9finitivement:","delete_confirm":"\xCAtes-vous s\xFBr de vouloir supprimer {entityName} ?","delete_entity_desc":"{count, plural, one {\xCAtes-vous s\xFBr de vouloir supprimer cette {singularEntity} ? \xC0 moins que le fichier ne soit \xE9galement supprim\xE9, cette {singularEntity} sera ajout\xE9e \xE0 nouveau lors du prochain Scan.} other {\xCAtes-vous s\xFBr de vouloir supprimer ces {pluralEntity} ? \xC0 moins que les fichiers ne soient \xE9galement supprim\xE9s, ces {pluralEntity} seront ajout\xE9es \xE0 nouveau lors du prochain Scan.}}","delete_entity_title":"{count, plural, one {Delete {singularEntity}} other {Delete {pluralEntity}}}","delete_object_desc":"\xCAtes-vous s\xFBr de vouloir supprimer :","delete_object_overflow":"\u2026et {count} {count, plural, one {autre {singularEntity}} other {autres {pluralEntity}}}.","delete_object_title":"Supprimer {count, plural, one {{singularEntity}} other {{pluralEntity}}}","delete_galleries_extra":"\u2026ainsi que tout fichier image non-associ\xE9 \xE0 une autre Galerie.","edit_entity_title":"Editer {count, plural, one {{singularEntity}} other {{pluralEntity}}}","export_include_related_objects":"Inclure les entit\xE9s li\xE9es","export_title":"Export","lightbox":{"delay":"D\xE9lais (Secondes)","display_mode":{"label":"Mode d'affichage","original":"Original","fit_to_screen":"Adapter \xE0 l'\xE9cran","fit_horizontally":"Adapter horizontalement"},"options":"Options","reset_zoom_on_nav":"Remise \xE0 zero du niveau de zoom au changement d'image","scale_up":{"label":"Adapter \xE0 l'\xE9cran","description":"Agrandir l'image pour adapter \xE0 l'\xE9cran"},"scroll_mode":{"label":"Mode de d\xE9filement","zoom":"Zoom","pan_y":"Pan Y","description":"Maintenir MAJ pour utiliser temporairement l'autre mode"}},"merge_tags":{"destination":"Destination","source":"Source"},"overwrite_filter_confirm":"\xCAtes-vous s\xFBr de vouloir \xE9craser le filtre sauvegard\xE9 {entityName} ?","scene_gen":{"image_previews":"Aper\xE7us image (Image WebP anim\xE9e. Requis seulement si le type d'Aper\xE7u est d\xE9fini sur Image Anim\xE9e)","markers":"Marqueurs (vid\xE9o de 20 secondes qui d\xE9marre au Timecode courant)","marker_image_previews":"Aper\xE7us Marqueurs (Image WebP anim\xE9e. Requis seulement si le type d'aper\xE7u est d\xE9fini sur Image Anim\xE9e)","marker_screenshots":"Capture d'\xE9cran Marqueurs (Image JPG fixe. Requis seulement si le type d'Aper\xE7u est d\xE9fini sur Image Fixe)","overwrite":"Ecraser les fichiers g\xE9n\xE9r\xE9s existants","phash":"Hachage perceptif (pour la d\xE9duplication)","preview_exclude_end_time_desc":"Exclure les x derni\xE8res secondes de la vid\xE9o pour la g\xE9n\xE9ration de l'aper\xE7u. La valeur peut-\xEAtre exprim\xE9e en secondes ou bien en pourcentage (ex: 2%) de la dur\xE9e totale de la vid\xE9o.","preview_exclude_end_time_head":"Exclure \xE0 la fin","preview_exclude_start_time_desc":"Exclure les x premi\xE8res secondes de la vid\xE9o pour la g\xE9n\xE9ration de l'aper\xE7u. La valeur peut-\xEAtre exprim\xE9e en secondes ou bien en pourcentage (ex: 2%) de la dur\xE9e totale de la vid\xE9o.","preview_exclude_start_time_head":"Exclure au d\xE9but","preview_options":"Options d'Aper\xE7us","preview_preset_desc":"Le Preset d'encodage r\xE9gule la taille, la qualit\xE9 et le temps d'encodage des aper\xE7us. Les Preset plus bas que \u201Cslow\u201D n'apportent pas de gain significatif et ne sont pas recommand\xE9s.","preview_preset_head":"Preset d'encodage de l'aper\xE7u","preview_seg_count_desc":"Nombre total de segments dans un aper\xE7u.","preview_seg_count_head":"Nombre de segments dans un aper\xE7u","preview_seg_duration_desc":"Dur\xE9e de chaque segment d'aper\xE7u (en secondes).","preview_seg_duration_head":"Dur\xE9e d'un segment d'aper\xE7u","sprites":"Sprites (pour l'aper\xE7u sur la barre de progression)","transcodes":"Transcodages (conversion au format MP4 des fichiers vid\xE9o dont le format n'est pas support\xE9 par le lecteur vid\xE9o)","video_previews":"Aper\xE7us (courte vid\xE9o jou\xE9e lorsque vous survolez une Vid\xE9o)"},"scenes_found":"{count} Vid\xE9o(s) trouv\xE9e(s)","scrape_entity_query":"Requ\xEAte de Scrape {entity_type}","scrape_entity_title":"R\xE9sultat du Scraping {entity_type}","scrape_results_existing":"Existant","scrape_results_scraped":"Scraped","set_image_url_title":"URL de l'image","unsaved_changes":"Changements non-sauvegard\xE9s. \xCAtes-vous s\xFBr de vouloir quitter ?","aliases_must_be_unique":"Les alias doivent \xEAtre uniques","delete_gallery_files":"Supprime le dossier ou l'archive de la galerie, ainsi que toute image non associ\xE9es \xE0 une autre galerie."},"dimensions":"Dimensions de l'image","director":"R\xE9alisateur","display_mode":{"grid":"Grille","list":"Liste","tagger":"Taggueur","unknown":"Inconnu","wall":"Mur"},"donate":"Faire un don","dupe_check":{"description":"Les pr\xE9cisions plus faibles que 'Exacte' peuvent prendre plus de temps \xE0 \xEAtre calcul\xE9es. Les niveaux de pr\xE9cisions faibles peuvent \xE9galement mener \xE0 des r\xE9sultats faux-positifs.","found_sets":"{setCount, plural, one{# ensemble de doublons trouv\xE9.} other {# ensembles de doublons trouv\xE9s.}}","options":{"exact":"Exacte","high":"Haute","low":"Basse","medium":"Moyenne"},"search_accuracy_label":"Pr\xE9cision","title":"Sc\xE8nes en double"},"duration":"Dur\xE9e","effect_filters":{"aspect":"Aspect","blue":"Bleu","blur":"Flou","brightness":"Luminosit\xE9","contrast":"Contraste","gamma":"Gamma","green":"Vert","hue":"Teinte","name":"Filtres","name_transforms":"Transformations","red":"Red","reset_filters":"Annuler les filtres","reset_transforms":"Annuler les transformations","rotate":"Rotation","rotate_left_and_scale":"Rotation Gauche & Dimensionnement","rotate_right_and_scale":"Rotation Droite & Dimensionnement","saturation":"Saturation","scale":"Dimension","warmth":"Chaleur"},"ethnicity":"Ethnicit\xE9","eye_color":"Couleur des yeux","fake_tits":"Implants mammaires","false":"Faux","favourite":"Favoris","file":"fichier","files":"fichier","file_info":"Infos fichier","file_mod_time":"Date de modification fichier","filesize":"Taille du fichier","filter":"Filtre","filter_name":"Nom du filtre","filters":"Filtres","framerate":"Fr\xE9quence d'images","frames_per_second":"{value} ips","galleries":"Galeries","gallery":"Galerie","gallery_count":"Nombre de Galeries","gender":"Genre","hair_color":"Couleur des cheveux","hasMarkers":"Poss\xE8de des marqueurs","height":"Taille","help":"Aide","image":"Image","image_count":"Nombre d'Images","images":"Images","include_parent_tags":"Inclure les Tags parents","include_sub_studios":"Inclure les studios affili\xE9s / filiales","include_sub_tags":"Inclure les sous-Tags","instagram":"Instagram","interactive":"Interactif","isMissing":"Manquant","library":"Biblioth\xE8que","loading":{"generic":"Chargement\u2026"},"marker_count":"Nombre de Marqueurs","markers":"Marqueurs","measurements":"Mensurations","media_info":{"audio_codec":"Codec Audio","checksum":"Checksum","downloaded_from":"T\xE9l\xE9charg\xE9 de","hash":"Hachage","performer_card":{"age":"{age} {years_old}","age_context":"{age} {years_old} in this scene"},"phash":"PHash","stream":"Stream","video_codec":"Codec vid\xE9o"},"megabits_per_second":"{value} Mbps","metadata":"M\xE9tadonn\xE9es","movie":"Film","movie_scene_number":"Nombre de Sc\xE8nes de films","movies":"Films","name":"Nom","new":"Nouveau","none":"Aucun","o_counter":"O-m\xE8tre","operations":"Op\xE9rations","organized":"Organis\xE9","pagination":{"first":"Premi\xE8re","last":"Derni\xE8re","next":"Suivante","previous":"Pr\xE9c\xE9dente"},"parent_of":"Parent de {children}","parent_studios":"Studio parent","parent_tags":"Tag parent","parent_tag_count":"Nombre de Tags Parents","part_of":"Fait partie de {parent}","path":"Chemin","performer":"Actrice/Acteur","performer_count":"Nombre d'Actrices/Acteurs","performer_image":"Photo","performers":"Actrices/Acteurs","performerTags":"Tags d'Actrice/Acteur","piercings":"Piercings","queue":"File de lecture","random":"Al\xE9atoire","rating":"Note","resolution":"R\xE9solution","scene":"Vid\xE9o","scene_count":"Nombre de Vid\xE9os","scene_id":"Vid\xE9o ID","scenes":"Vid\xE9os","scenes_updated_at":"Sc\xE8ne modifi\xE9e le","sceneTagger":"Taggueur de Sc\xE8ne","sceneTags":"Tags de Sc\xE8ne","search_filter":{"add_filter":"Ajouter un filtre","name":"Filtres","saved_filters":"Filtres sauvegard\xE9s","update_filter":"Mise \xE0 jour du filtre"},"seconds":"Secondes","settings":"Param\xE8tres","sub_tag_of":"Sous-Tag de {parent}","stash_id":"Stash ID","stash_ids":"Stash IDs","status":"Statut: {statusText}","studio":"Studio","studio_depth":"Niveaux (empty for all)","studios":"Studios","synopsis":"Synopsis","tag":"Tag","tag_count":"Nombre de Tags","tags":"Tags","tattoos":"Tattoos","title":"Titre","toast":{"added_entity":"{entity} ajout\xE9(e)","added_generation_job_to_queue":"T\xE2che de g\xE9n\xE9ration ajout\xE9e dans la file des t\xE2ches","create_entity":"Cr\xE9\xE9(e) {entity}","default_filter_set":"Filtre par d\xE9faut enregistr\xE9","delete_entity":"Suppression de {count, plural, one {{singularEntity}} other {{pluralEntity}}}","delete_past_tense":"{count, plural, one {{singularEntity}} other {{pluralEntity}}} supprim\xE9(e)(s)","generating_screenshot":"G\xE9n\xE9ration de la capture d'\xE9cran\u2026","merged_tags":"Tags fusionn\xE9s","rescanning_entity":"Rescan de {count, plural, one {{singularEntity}} other {{pluralEntity}}}\u2026","started_auto_tagging":"D\xE9marrage du Taggage automatique","saved_entity":"{entity} sauvegard\xE9(e)","updated_entity":"{entity} mis(e) \xE0 jour"},"total":"Total","true":"Vrai","twitter":"Twitter","up-dir":"Remonter d'un r\xE9pertoire","updated_at":"Date de modification","url":"URL","weight":"Poids","years_old":"ans","stats":{"image_size":"Taille Images","scenes_size":"Taille Vid\xE9os","scenes_duration":"Dur\xE9e Vid\xE9os"}}`)},396:function(vt){vt.exports=JSON.parse(`{"actions":{"add":"Aggiungi","add_directory":"Aggiungi Cartella","add_entity":"Aggiungi {entityType}","add_to_entity":"Aggiungi a {entityType}","allow":"Acconsenti","allow_temporarily":"Acconsenti temporaneamente","apply":"Applica","auto_tag":"Tag Automatico","backup":"Backup","cancel":"Cancella","clean":"Pulisci","clear":"Elimina","clear_back_image":"Elimina immagine retro","clear_front_image":"Elimina immagine frontale","clear_image":"Elimina Immagine","close":"Chiudi","create":"Crea","create_entity":"Crea {entityType}","create_marker":"Crea Marker","created_entity":"Creata/o {entity_type}: {entity_name}","delete":"Cancella","delete_entity":"Cancella {entityType}","delete_file":"Cancella file","delete_generated_supporting_files":"Cancella file di supporto creati","disallow":"Non Acconsentire","download":"Scarica","download_backup":"Scarica Backup","edit":"Edita","export":"Esporta\u2026","export_all":"Esporta tutto\u2026","find":"Trova","from_file":"Dal file\u2026","from_url":"Dall'URL\u2026","full_export":"Esporta Completo","full_import":"Importa Completo","generate":"Genera","generate_thumb_default":"Genera thumbnail predefinito","generate_thumb_from_current":"Genera thumbnail dall'attuale schermata","hash_migration":"migrazione hash","hide":"Nascondi","import":"Importa\u2026","import_from_file":"Importa dal file","merge":"Unisci","merge_from":"Unisci da","merge_into":"Unisci in","not_running":"non in funzione","overwrite":"Sovrascrivi","play_random":"Avvia Random","play_selected":"Avvia selezionato","preview":"Anteprima","refresh":"Aggiorna","reload_plugins":"Ricarica plugin","reload_scrapers":"Ricarica scraper","remove":"Rimuovi","rename_gen_files":"Rinomina file creati","rescan":"Riscansiona","reshuffle":"Rimescola","running":"in funzione","save":"Salva","save_filter":"Salva filtro","scan":"Scansiona","scrape_with":"Scrape con\u2026","scrape_query":"Scrape query","scrape_scene_fragment":"Scrape per frammento","search":"Cerca","select_all":"Seleziona Tutto","select_none":"Deseleziona Tutto","selective_auto_tag":"Tag Automatico Selettivo","selective_scan":"Scansione Selettiva","set_as_default":"Imposta come Predefinito","set_back_image":"Immagine Retro\u2026","set_front_image":"Immagine Frontale\u2026","set_image":"Imposta immagine\u2026","show":"Mostra","skip":"Salta","stop":"Stop","tasks":{"clean_confirm_message":"Sei sicuro di voler Pulire? Questa azione canceller\xE0 informazioni e contenuto creato dal database per tutte le scene e gallerie che non si trovano pi\xF9 nel file system.","dry_mode_selected":"Dry Mode selezionato. Nessuna cancellazione avverr\xE0, solo log.","import_warning":"Sei sicuro di voler importare? Questa azione canceller\xE0 il database e lo reimporter\xE0 dai tuoi metadati esportati."},"temp_disable":"Disabilita temporaneamente\u2026","temp_enable":"Abilita temporaneamente\u2026","view_random":"Guarda Casuale","confirm":"Conferma","select_folders":"Seleziona cartelle","browse_for_image":"Sfoglia per immagine\u2026","open_random":"Apri Casuale"},"actions_name":"Azioni","age":"Et\xE0","aliases":"Alias","also_known_as":"Anche conosciuto/a come","ascending":"Ascendente","average_resolution":"Risoluzione Media","birth_year":"Anno di Nascita","birthdate":"Compleanno","bitrate":"Bit Rate","career_length":"Lunghezza Carriera","subsidiary_studios":"Filiali","sub_tags":"Sotto-Tags","sub_tag_count":"Numero Sotto-Tag","component_tagger":{"config":{"active_instance":"Istanza stash-box Attiva:","blacklist_desc":"Oggetti nella Lista Nera sono esclusi dalle ricerche. Notare che sono espressioni regolari e non tengono conto delle maiuscole. Alcuni caratteri devono essere in 'sequenza di escape' con una barra rovesciata: {chars_require_escape}","blacklist_label":"Lista Nera","query_mode_auto":"Automatico","query_mode_auto_desc":"Usa metadati se presenti, o nome file","query_mode_dir":"Dir","query_mode_dir_desc":"Usa solo la cartella che contiene il file video","query_mode_filename":"Nome file","query_mode_filename_desc":"Usa solo il nome file","query_mode_label":"Modalit\xE0 Query","query_mode_metadata":"Metadati","query_mode_metadata_desc":"Usa solo metadati","query_mode_path":"Percorso","query_mode_path_desc":"Usa l'intero percorso del file","set_cover_desc":"Sostituisce la copertina della scena se viene trovata.","set_cover_label":"Imposta la copertina della scena","set_tag_desc":"Attacca tag alla scena, sovrascrivendoli o unendoli a quelli esistenti sulla scena.","set_tag_label":"Imposta i tags","source":"Sorgente","show_male_desc":"Attiva/Disattiva l'opzione di taggare attori.","show_male_label":"Mostra attori"},"noun_query":"Query","results":{"fp_found":"{fpCount, plural, =0 {Nuove impronte uguali non trovate} other {# nuove impronte uguali trovate}}","fp_matches":"La lunghezza \xE8 uguale","fp_matches_multi":"La lunghezza \xE8 uguale {matchCount}/{durationsLength} impronta/e","hash_matches":"{hash_type} \xE8 uguale","match_failed_already_tagged":"Scena gi\xE0 taggato","match_failed_no_result":"Nessun risultato trovato","match_success":"Scena taggata con successo","unnamed":"Senza nome","duration_off":"Lunghezza diversa di almeno {number}sec","duration_unknown":"Lunghezza sconosciuta"},"verb_match_fp":"Compara Impronte","verb_matched":"Comparate","verb_scrape_all":"Scrape Tutto","verb_submit_fp":"Invia {fpCount, plural, one{# Fingerprint} other{# Fingerprints}}","verb_toggle_config":"{toggle} {configuration}","verb_toggle_unmatched":"{toggle} scene non uguali"},"config":{"about":{"build_hash":"Hash della build:","build_time":"Data della build:","check_for_new_version":"Cerca nuova versione","latest_version_build_hash":"Hash dell'ultima Versione:","new_version_notice":"[NUOVA]","stash_discord":"Unisciti al nostro canale {url}","stash_home":"Stash homepage su {url}","stash_open_collective":"Supportaci attraverso {url}","stash_wiki":"Pagina {url} di Stash","version":"Versione"},"categories":{"about":"Chi siamo","interface":"Interfaccia","logs":"Log","plugins":"Plugin","scraping":"Scraping","tasks":"Attivit\xE0","tools":"Strumenti"},"dlna":{"allow_temp_ip":"Acconsenti {tempIP}","allowed_ip_addresses":"Indirizzi IP con Accesso","default_ip_whitelist":"Lista Bianca degli indirizzi IP predefiniti","default_ip_whitelist_desc":"Indirizzi IP predefiniti con accesso DLNA. Usare {wildcard} per consentire tutti gli inditizzi IP.","enabled_by_default":"Attivo in modo predefinito","network_interfaces":"Interfacce","network_interfaces_desc":"Interfacce sulle quali esporre il server DLNA. Una lista vuota implicher\xE0 l'uso di tutte le interfacce. Richiede il riavvio del server DLNA dopo le modifiche.","recent_ip_addresses":"Indirizzi IP Recenti","server_display_name":"Nome del Server","server_display_name_desc":"Nome visualizzato per il server DLNA. Predefinito come {server_name} se lasciato vuoto.","until_restart":"fino al riavvio"},"general":{"auth":{"api_key":"Chiave API","api_key_desc":"Chiave API per sistemi esterni. Richiesta solo se nome untente/password sono configurati. Il nome utente dev'essere salvato prima di poter generare la chiave API.","authentication":"Autenticazione","clear_api_key":"Elimina chiave API","generate_api_key":"Genera chiave API","log_file":"File di Log","log_file_desc":"Percorso al file di log. Vuoto per disabilitare log su file. Richiede riavvio.","log_http":"Salva log accesso http","log_http_desc":"Salva log accesso http sul terminale. Richiede riavvio.","log_to_terminal":"Salva log sul terminale","log_to_terminal_desc":"Salva log sul terminale oltre che sul file. Sempre attivo se il logging su file \xE8 disabilitato. Richiede riavvio.","maximum_session_age":"Tempo Massimo Sessione","maximum_session_age_desc":"Massimo tempo di inutilizzo prima che la sessione espiri, in secondi.","password":"Password","password_desc":"Password per accedere a Stash. Lasciare vuota per disabilitare l'autenticazione utente","stash-box_integration":"Integrazione Stash-box","trusted_proxies":"Proxy fidati","trusted_proxies_desc":"Lista di Proxy con accesso per incanalare traffico verso Stash. Lasciare vuoto per acconsentire da rete privata.","username":"Nome Utente","username_desc":"Nome Utente per accedere a Stash. Lasciare vuoto per disabilitare l'autenticazione"},"cache_location":"Percorso della Cartella cache","cache_path_head":"Percorso Cache","calculate_md5_and_ohash_desc":"Calcola l'MD5 checksum oltre l'oshash. Attivare la funzione causer\xE0 una prima scansione pi\xF9 lenta. L'hash dei nomi file dev'essere impostata su oshash per disabilitare il calcolo MD5.","calculate_md5_and_ohash_label":"Calcolare l'MD5 per i video","check_for_insecure_certificates":"Controlla certificati non sicuri","check_for_insecure_certificates_desc":"Alcuni siti usano certificati ssl non sicuri. Quando non selezionato lo scraper salta il controllo e acconsente lo scraping di questi siti. Se ricevete un errore di certificato durante lo scraping spuntate la casella.","chrome_cdp_path":"Percorso al Chrome CDP","chrome_cdp_path_desc":"Percorso all'eseguibile di Chrome, o indirizzo remoto (iniziando con http:// o https://, per esempio http://localhost:9222/json/version) verso un'istanza Chrome.","create_galleries_from_folders_desc":"Se spuntato, crea gallerie dalle cartelle che contengono immagini.","create_galleries_from_folders_label":"Crea gallerie dalle cartelle con immagini","db_path_head":"Percorso del Database","directory_locations_to_your_content":"Percorso della Cartella del tuo contenuto","exclude_image":"Escludi Immagini","exclude_video":"Escludi Video","excluded_image_gallery_patterns_desc":"Espressioni Regolari di file/percorsi di immagini e gallerie per escluderle dalla Scansione e aggiungerle alla Pulizia","excluded_image_gallery_patterns_head":"Schema Immagini/Gallerie Escluse","excluded_video_patterns_desc":"Espressioni Regolari di file/percorsi di video per escluderli dalla Scansione e aggiungerli alla Pulizia","excluded_video_patterns_head":"Schema Video Esclusi","gallery_ext_desc":"Lista di estensioni delimitate da Virgola che saranno identificate come gallerie in file compressi/zip.","gallery_ext_head":"Estensioni Gallerie zip","generated_file_naming_hash_desc":"Usa l'MD5 o oshas per i nomi dei file creati. Cambiarlo richiede che tutte le scene abbiano il valore MD5/oshash ripopolato. Dopo la modifica, i file esistenti necessiteranno di essere migrati o ricreati. Vedere la pagina Attivit\xE0 per la migrazione.","generated_file_naming_hash_head":"Hash dei nomi file creati","generated_files_location":"Locazione per i file creati (marker scene, anteprime scene, sprites, etc.)","generated_path_head":"Path Creati","hashing":"Hashing","image_ext_desc":"Lista di estensioni delimitate da Virgola che saranno identificate come immagini.","image_ext_head":"Estensioni Immagine","logging":"Logging","maximum_streaming_transcode_size_desc":"Dimensione massima per i flussi transcodificati","maximum_streaming_transcode_size_head":"Massima dimensione transcodifica flusso","maximum_transcode_size_desc":"Dimensione massima transcodificazioni create","maximum_transcode_size_head":"Massima dimensione transcodificazioni","metadata_path":{"heading":"Percordo dei Metadati","description":"Percorso della Cartella usata quando si esegue un'esportazione/importazione completa"},"number_of_parallel_task_for_scan_generation_desc":"Impostare a 0 per rilevamento automatico. Attenzione permettere pi\xF9 attivit\xE0 di quelle necessarie per raggiungere un utilizzo CPU 100% diminuir\xE0 le prestazioni e potrebbe potenzialmente causare altri problemi.","number_of_parallel_task_for_scan_generation_head":"Numero delle attivit\xE0 parallele per scansione/creazione","parallel_scan_head":"Scansione/Creazione Parallela","preview_generation":"Creazione Anteprime","scraper_user_agent":"Scraper User Agent","scraper_user_agent_desc":"Stringa User-Agent usata durante le richieste http scrape","scraping":"Scraping","sqlite_location":"Locazione del file per il database SQLite (richiede riavvio)","video_ext_desc":"Lista di estensioni delimitate da Virgola che saranno identificate come video.","video_ext_head":"Estensioni Video","video_head":"Video","include_audio_head":"Includere audio","include_audio_desc":"Includere flusso audio quando si creano le anteprime."},"logs":{"log_level":"Livello di Log"},"plugins":{"hooks":"Hooks","triggers_on":"Triggers on"},"scraping":{"entity_metadata":"{entityType} Metadati","entity_scrapers":"{entityType} scraper","excluded_tag_patterns_desc":"Espressioni Regolari di nomi tag per escluderli dai risultati dello scraping","excluded_tag_patterns_head":"Schema Tag esclusi","scrapers":"Scraper","search_by_name":"Cerca per nome","supported_types":"Tipi supportati","supported_urls":"URL"},"stashbox":{"add_instance":"Aggiungi istanza stash-box","api_key":"Chive API","description":"Stash-box facilita il tag automatico delle scene e degli/delle attori/attrici basandosi sulle impronte e nomi file.\\nL'endpoint e la chiave API possono essere trovati sul tuo account sull'istanza stash-box. I nomi sono richiesti quando pi\xF9 di un'istanza \xE8 aggiunta..","endpoint":"Endpoint","graphql_endpoint":"Endpoint del GraphQL","name":"Nome","title":"Endpoint della Stash-box"},"tasks":{"added_job_to_queue":"Aggiunto/a {operation_name} alla coda lavori","auto_tag_based_on_filenames":"Tag automatico del contenuto basato sui nomi file.","auto_tagging":"Tag Automatico","backing_up_database":"Backup del database","backup_and_download":"Esegue il backup del database e scarica il file risultante.","backup_database":"Esegue il backup del database nella stessa cartella del database, con il formato nome file {filename_format}","cleanup_desc":"Controlla il database per file mancanti e li rimuove. Questa \xE8 un'azione distruttiva.","dont_include_file_extension_as_part_of_the_title":"Non includere l'estensione file come parte del titolo","export_to_json":"Esporta il contenuto del database in formato JSON nella cartella metadati.","generate_desc":"Crea i file di supporto immagini, sprite, video, vtt e altri file.","generate_phashes_during_scan":"Crea i phash durante la scansione (per deduplicazione e identificazione scene)","generate_previews_during_scan":"Crea le anteprime immagini durante la scansione (anteprime animate WebP, sono richieste solo se il Tipo Anteprima \xE8 impostato su Immagine Animata)","generate_sprites_during_scan":"Crea sprite durante la scansione (per lo scrubber scene)","generate_video_previews_during_scan":"Crea anteprime durante la scansione (anteprime video che si riproducono quando si muove il mouse su una scena)","generate_thumbnails_during_scan":"Crea thumbnail per le immagini durante la scansione.","generated_content":"Contenuto Creato","import_from_exported_json":"Importa dal JSON esportato nella cartella metadati. Rimuove il database esistente.","incremental_import":"Importazione incrementale da un file esporto zip fornito.","job_queue":"Coda Attivit\xE0","maintenance":"Manutenzione","migrate_hash_files":"Usato dopo aver cambiato l'hash dei Nomi Creati per rinominare i file creati esistenti nel nuovo formato hash.","migrations":"Migrazioni","only_dry_run":"Esegue solo una Dry Run. Non cancella niente","plugin_tasks":"Attivit\xE0 Plugin","scan_for_content_desc":"Scansiona per cercare nuovo contenuto e lo aggiunge al database.","set_name_date_details_from_metadata_if_present":"Imposta il nome, data e dettagli dai metadati (se presenti)"},"tools":{"scene_duplicate_checker":"Controllo Scene Duplicate","scene_filename_parser":{"add_field":"Aggiungi Campo","capitalize_title":"Titolo in maiuscole","display_fields":"Visualizza campi","escape_chars":"Usare \\\\ per 'sequenza di escape' dei caratteri letterali","filename":"Nome file","filename_pattern":"Schema Nome file","ignore_organized":"Ignorare scene ordinate","ignored_words":"Ignorare parole","matches_with":"Comparare con {i}","select_parser_recipe":"Scegliere Parser Recipe","title":"Parser Nome file Scena","whitespace_chars":"Caratteri spazio vuoto","whitespace_chars_desc":"Questi caratteri saranno sostituiti con spazi vuoti nel titolo"},"scene_tools":"Strumenti Scena"},"ui":{"custom_css":{"description":"La pagina dev'essere ricaricata per applicare i cambiamenti.","heading":"CSS Personalizzato","option_label":"CSS Personalizzato Attivo"},"editing":{"disable_dropdown_create":{"heading":"Disabilita crezione men\xF9 a tendina","description":"Rimuove la possibilit\xE0 di creare nuovi oggetti dai men\xF9 a tendina"},"heading":"Editing"},"handy_connection_key":{"description":"Chiave di connessione Handy per l'uso con scene interattive.","heading":"Chiave Connessione Handy"},"funscript_offset":{"description":"Offset in millisecondi per gli script interattivi.","heading":"Funscript Offset (ms)"},"images":{"options":{"write_image_thumbnails":{"heading":"Scrive thumbnail immagini","description":"Scrive gli thumbnail sul disco quando vengono creati al volo"}}},"language":{"heading":"Lingua"},"max_loop_duration":{"description":"Massima lunghezza della scena per quando il lettore lo legger\xE0 in loop - 0 per disabilitare","heading":"Lunghezza di loop massima"},"menu_items":{"description":"Mostra o nasconde differenti tipi di contenuti nella barra navigazione","heading":"Oggetti Men\xF9"},"performers":{"options":{"image_location":{"heading":"Percorso Immagini Attori/Attrici Personalizzato","description":"Percorso personalizzato per le immagini predefinite degli/delle attori/attrici. Lasciare vuoto per usare il predefinito interno"}}},"preview_type":{"description":"Configurazione per gli oggetti sul muro","heading":"Tipo di Anteprima","options":{"animated":"Immagine Animata","static":"Immagine Statica","video":"Video"}},"scene_list":{"heading":"Lista Scene","options":{"show_studio_as_text":"Mostra gli Studio come testo"}},"scene_player":{"heading":"Lettore Scene","options":{"auto_start_video":"Inizia a Leggere Automaticamente il video"}},"scene_wall":{"heading":"Scena / Marcatore Muro","options":{"display_title":"Mostra titolo e tag","toggle_sound":"Abilita suono"}},"slideshow_delay":{"description":"La presentazione \xE8 disponibile nelle gallerie quando in modalit\xE0 muro","heading":"Ritardo Presentazione"},"title":"Interfaccia Utente"}},"configuration":"Configurazione","countables":{"galleries":"{count, plural, one {Galleria} other {Gallerie}}","images":"{count, plural, one {Immagine} other {Immagini}}","markers":"{count, plural, one {Marcatore} other {Marcatori}}","movies":"{count, plural, one {Film} other {Film}}","performers":"{count, plural, one {Attore/Attrice} other {Attori/Attrici}}","scenes":"{count, plural, one {Scena} other {Scene}}","studios":"{count, plural, one {Studio} other {Studi}}","tags":"{count, plural, one {Tag} other {Tag}}"},"country":"Paese","cover_image":"Copertina","created_at":"Creato/a Nel","criterion":{"greater_than":"Maggiore di","less_than":"Minore di","value":"Valore"},"criterion_modifier":{"equals":"\xE8","excludes":"esclude","format_string":"{criterion} {modifierString} {valueString}","greater_than":"\xE8 maggiore di","includes":"include","includes_all":"include tutto","is_null":"\xE8 nullo","less_than":"\xE8 minore di","matches_regex":"regex uguale","not_equals":"non \xE8","not_matches_regex":"regex non uguale","not_null":"non \xE8 nullo","between":"tra","not_between":"non tra"},"custom":"Personalizzato","date":"Data","death_date":"Data Morte","death_year":"Anno della Morte","descending":"Discendente","detail":"Dettaglio","details":"Dettagli","developmentVersion":"Versione Sviluppo","dialogs":{"delete_confirm":"Sei sicuro di voler cancellare {entityName}?","delete_entity_desc":"{count, plural, one {Sei sicuro di voler cancellare questo/a {singularEntity}? A meno che anche il file venga cancellato, questo/a {singularEntity} sar\xE0 riaggiunto quando la scansione verr\xE0 effettuata.} other {Sei sicuro di voler cancellare questi/e {pluralEntity}? A meno che anche i file vengano cancellati, questi/e {pluralEntity} verranno riaggiunti quando la scansione verr\xE0 effettuata.}}","delete_entity_title":"{count, plural, one {Cancellazione {singularEntity}} other {Cancellazione {pluralEntity}}}","delete_object_desc":"Sei sicuro di voler cancellare {count, plural, one {questo/a {singularEntity}} other {questi/e {pluralEntity}}}?","delete_object_overflow":"\u2026e {count} other {count, plural, one {{singularEntity}} other {{pluralEntity}}}.","delete_object_title":"Cancellazione {count, plural, one {{singularEntity}} other {{pluralEntity}}}","edit_entity_title":"Modifica {count, plural, one {{singularEntity}} other {{pluralEntity}}}","export_include_related_objects":"Include gli oggetti collegati nell'esportazione","export_title":"Esportazione","lightbox":{"delay":"Ritardo (Sec)","display_mode":{"label":"Modo di Visualizzazione","original":"Originale","fit_to_screen":"Adatta allo Schermo","fit_horizontally":"Adatta Orizzontalmente"},"options":"Opzioni","reset_zoom_on_nav":"Reimposta il livello di zoom quando si cambia immagine","scale_up":{"label":"Aumento per adattare","description":"Aumenta lo zoom per le immagini piccole per riempire lo schermo"},"scroll_mode":{"label":"Modo di Scorrimento","zoom":"Zoom","pan_y":"Pan Y","description":"Tener premuto Shift per usare temporaneamente l'altro modo."}},"merge_tags":{"destination":"Destinazione","source":"Origine"},"overwrite_filter_confirm":"Sei sicuro di voler sovrascrivere le esistenti query salvate {entityName}?","scene_gen":{"image_previews":"Anteprime Immagini (anteprime animate WebP, richieste solo se il Tipo di Anteprima \xE8 impostato su Immagine Animata)","markers":"Marcatori (video di 20 secondi che iniziano a un tempo indicato)","marker_image_previews":"Anteprime Marcatori (anteprime animate WebP, richieste solo se il Tipo di Anteprima \xE8 impostato su Immagine Animata)","marker_screenshots":"Schermate Marcatori (immagini statiche JPG, richieste solo se il Tipo di Anteprima \xE8 impostato su Immagine Statica)","overwrite":"Sovrascrive gli esistenti file creati","phash":"Perceptual hashes/Hash Percettivo (per i duplicati)","preview_exclude_end_time_head":"Esclude Tempo Finale","preview_exclude_end_time_desc":"Esclude gli ultimi x secondi dall'anteprima scena. Pu\xF2 essere un valore in secondi, o una percentuale (es. 2%) della lunghezza totale della scena.","preview_exclude_start_time_desc":"Esclude i primi x secondi dall'anteprima scena. Pu\xF2 essere un valore in secondi, o una percentuale (es. 2%) della lunghezza totale della scena.","preview_exclude_start_time_head":"Esclude Tempo Iniziale","preview_options":"Opzioni Anteprima","preview_preset_desc":"Regola la dimensione, qualit\xE0 e tempo di codifica della creazione delle anteprime. Impostazioni oltre 'lento' hanno rendimenti marginali e non sono raccomandati.","preview_preset_head":"Impostazione codifica Anteprima","preview_seg_count_desc":"Numero di segmenti dei file anteprima.","preview_seg_count_head":"Numero di segmenti nell'anteprima","preview_seg_duration_desc":"Lunghezza di ogni segmento anteprima, in secondi.","preview_seg_duration_head":"Lunghezza segmento anteprima","sprites":"Sprites (per lo scrubber scena)","transcodes":"Transcodifiche (conversione MP4 di formati video non supportati)","video_previews":"Anteprime (anteprime video che vengono riprodotte quando si sposta il mouse sopra una scena)"},"scenes_found":"{count} scene trovate","scrape_entity_query":"{entity_type} Richiesta Scrape","scrape_entity_title":"{entity_type} Risultati dello Scrape","scrape_results_existing":"Esistenti","scrape_results_scraped":"Scrape Effettuato","set_image_url_title":"URL Immagine","unsaved_changes":"Modifiche non salvate. Sei sicuro di voler lasciare la pagina?"},"dimensions":"Dimensioni","director":"Regista","display_mode":{"grid":"Griglia","list":"Lista","tagger":"Tagger","unknown":"Sconosciuto/a","wall":"Muro"},"donate":"Dona","dupe_check":{"description":"Livelli sotto 'Esatto' possono richiedere pi\xF9 tempo di calcolo. Si possono anche trovare falsi positivi con livelli d'accuratezza inferiore.","found_sets":"{setCount, plural, one{# set di duplicati trovati.} other {# set di duplicati trovati.}}","options":{"exact":"Esatto","high":"Alto","low":"Basso","medium":"Medio"},"search_accuracy_label":"Accuratezza Ricerca","title":"Scene Duplicate"},"duration":"Lunghezza","effect_filters":{"aspect":"Aspetto","blue":"Blu","blur":"Sfumatura","brightness":"Luminosit\xE0","contrast":"Contrasto","gamma":"Gamma","green":"Verde","hue":"Tonalit\xE0","name":"Filtri","name_transforms":"Trasformazione","red":"Rosso","reset_filters":"Reimposta Filtri","reset_transforms":"Reimposta Trasformazioni","rotate":"Ruota","rotate_left_and_scale":"Ruota a Sinistra & Scala","rotate_right_and_scale":"Ruota a Destra & Scala","saturation":"Saturazione","scale":"Scala","warmth":"Temperatura Colore"},"ethnicity":"Etnia","eye_color":"Colore Occhi","fake_tits":"Tette Finte","favourite":"Favorita","file_info":"Informazioni File","file_mod_time":"Tempo Modifica del File","filesize":"Dimensione File","filter":"Filtro","filter_name":"Nome Filtro","filters":"Filtri","framerate":"Frequenza dei Fotogrammi","frames_per_second":"{value} fotogrammi per secondo","galleries":"Gallerie","gallery":"Galleria","gallery_count":"Numero Gallerie","gender":"Genere","hair_color":"Colore Capelli","hasMarkers":"Ha Marcatori","height":"Altezza","help":"Aiuto","image":"Immagine","image_count":"Numero Immagini","images":"Immagini","include_parent_tags":"Include tag principali","include_sub_studios":"Include tag sussidiarie","include_sub_tags":"Include sotto-tags","instagram":"Instagram","interactive":"Interattivo","isMissing":"Manca di","library":"Libreria","loading":{"generic":"Caricamento\u2026"},"marker_count":"Numero Marcatori","markers":"Marcatori","measurements":"Misure","media_info":{"audio_codec":"Codec Audio","checksum":"Checksum","downloaded_from":"Scaricato Da","hash":"Hash","performer_card":{"age":"{age} {years_old}","age_context":"{age} {years_old} in questa scena"},"phash":"PHash","stream":"Flusso","video_codec":"Codec Video"},"megabits_per_second":"{value} megabits per secondo","metadata":"Metadati","movie":"Film","movie_scene_number":"Numero Scena","movies":"Film","name":"Nome","new":"Nuovo","none":"Nessuno/a","o_counter":"Contatore-O","operations":"Operazioni","organized":"Ordinato","pagination":{"first":"Prima","last":"Ultima","next":"Prossima","previous":"Precedente"},"parent_of":"Principale di {children}","parent_studios":"Studi Principali","parent_tags":"Tag Principali","parent_tag_count":"Numero Tag Principali","part_of":"Parte di {parent}","path":"Percorso","performer":"Attore/Attrice","performer_count":"Numero Attori","performer_image":"Immagine Attore/Attrice","performers":"Attori/Attrici","performerTags":"Tag Attori/Attrici","piercings":"Piercing","queue":"Coda","random":"Casuale","rating":"Classif.","resolution":"Risoluzione","scene":"Scena","scene_count":"Numero Scene","scene_id":"ID Scena","scenes":"Scene","scenes_updated_at":"Scena Aggiornata Al","sceneTagger":"Tagger Scena","sceneTags":"Tag Scena","search_filter":{"add_filter":"Aggiungi Filtro","name":"Filtro","saved_filters":"Filtri Salvati","update_filter":"Aggiorna Filtro"},"seconds":"Secondi","settings":"Impostazioni","sub_tag_of":"Sotto-tag di {parent}","stash_id":"ID Stash","status":"Stato: {statusText}","studio":"Studio","studio_depth":"Livelli (vuoto per tutti)","studios":"Studi","synopsis":"Sinossi","tag":"Tag","tag_count":"Numero Tag","tags":"Tag","tattoos":"Tatuaggi","title":"Titolo","toast":{"added_entity":"Aggiunto {entity}","added_generation_job_to_queue":"Aggiunto lavoro di creazione alla coda","create_entity":"Creato/a {entity}","default_filter_set":"Filtro predefinito impostato","delete_entity":"Cancella {count, plural, one {{singularEntity}} other {{pluralEntity}}}","delete_past_tense":"Cancellato/a {count, plural, one {{singularEntity}} other {{pluralEntity}}}","generating_screenshot":"Sto creando la schermata\u2026","merged_tags":"Tag unite","rescanning_entity":"Riscansionando {count, plural, one {{singularEntity}} other {{pluralEntity}}}\u2026","started_auto_tagging":"Inizato il tag automatico","saved_entity":"Salvato/a {entity}","updated_entity":"Aggiornato/a {entity}"},"total":"Totale","twitter":"Twitter","up-dir":"Sali una cartella","updated_at":"Aggiornato Al","url":"URL","weight":"Peso","years_old":"anni","stats":{"image_size":"Dimensione immagini","scenes_size":"Dimensione scene","scenes_duration":"Lunghezza scene"}}`)},397:function(vt){vt.exports=JSON.parse(`{"actions":{"add":"L\xE4gg till","add_directory":"L\xE4gg till mapp","add_entity":"L\xE4gg till {entityType}","add_to_entity":"L\xE4gg till {entityType}","allow":"Till\xE5t","allow_temporarily":"Till\xE5t tillf\xE4lligt","apply":"Till\xE4mpa","auto_tag":"Tagga automatiskt","backup":"S\xE4kerhetskopiera","cancel":"Avbryt","clean":"Rensa","clear_back_image":"Rensa bakbild","clear_front_image":"Rensa frambild","clear_image":"Rensa bild","close":"St\xE4ng","create":"Skapa","create_entity":"Skapa {entityType}","create_marker":"Skapa mark\xF6r","created_entity":"Skapade {entity_type}: {entity_name}","delete":"Radera","delete_entity":"Radera {entityType}","delete_file":"Radera fil","delete_generated_supporting_files":"Radera genererade filer","disallow":"Till\xE5t ej","download":"Ladda ner","download_backup":"Ladda ner s\xE4kerhetskopia","edit":"Redigera","export":"Exportera\u2026","export_all":"Exportera alla\u2026","find":"S\xF6k","from_file":"Fr\xE5n fil\u2026","from_url":"Fr\xE5n URL\u2026","full_export":"Fullst\xE4ndig export","full_import":"Fullst\xE4ndig import","generate":"Generera","generate_thumb_default":"Generera miniatyrbild","generate_thumb_from_current":"Generera miniatyrbild fr\xE5n nuvarande","hash_migration":"Hash-migration","hide":"D\xF6lj","import":"Importera\u2026","import_from_file":"Importera fr\xE5n fil","merge":"Sl\xE5 samman","merge_from":"Sl\xE5 samman fr\xE5n","merge_into":"Sl\xE5 samman till","not_running":"k\xF6rs ej","overwrite":"Ers\xE4tt","play_random":"Spela slumpad","play_selected":"Spela vald","preview":"F\xF6rhandsvisa","refresh":"Uppdatera","reload_plugins":"Ladda om till\xE4gg","reload_scrapers":"Ladda om skrapare","remove":"Ta bort","rename_gen_files":"D\xF6p om genererade filer","rescan":"Skanna om","reshuffle":"Blanda om","running":"k\xF6rs","save":"Spara","save_filter":"Spara filter","scan":"Skanna","scrape_with":"Skrapa med\u2026","search":"S\xF6k","select_all":"V\xE4lj alla","select_none":"V\xE4lj inga","selective_auto_tag":"Selektiv Auto Tag","selective_scan":"Selektiv skanning","set_as_default":"V\xE4lj som standard","set_back_image":"Bakbild\u2026","set_front_image":"Frambild\u2026","set_image":"V\xE4lj bild\u2026","show":"Visa","skip":"Hoppa \xF6ver","tasks":{"clean_confirm_message":"\xC4r du s\xE4ker att du vill rensa? Detta kommer radera databasinformation och genererade filer f\xF6r alla scener och gallerier som inte l\xE4ngre finns p\xE5 filsystemet.","dry_mode_selected":"Torrt l\xE4ge valt. Inget kommer raderas utan bara loggning kommer ske.","import_warning":"\xC4r du s\xE4ker att du vill importera? Detta kommer radera databasen och importera fr\xE5n din tidigare exporterade metadata."},"temp_disable":"Inaktivera tillf\xE4lligt\u2026","temp_enable":"Aktivera tillf\xE4lligt\u2026","view_random":"Visa slumpad","confirm":"Bekr\xE4fta","select_folders":"V\xE4lj mappar","browse_for_image":"Bl\xE4ddra efter bild\u2026","open_random":"\xD6ppna slumpad"},"actions_name":"Handlingar","age":"\xC5lder","aliases":"Alias","also_known_as":"\xC4ven k\xE4nd som","ascending":"Stigande","average_resolution":"Genomsnittlig uppl\xF6sning","birth_year":"F\xF6delse\xE5r","birthdate":"F\xF6delsedatum","bitrate":"Bithastighet","career_length":"Karri\xE4rl\xE4ngd","component_tagger":{"config":{"active_instance":"Aktiv stash-box instans:","blacklist_desc":"Svartlistade objekt exkluderas fr\xE5n s\xF6kningar. Notera att de \xE4r regex och skiftl\xE4gesk\xE4nsliga. Vissa karakt\xE4rer m\xE5ste unvikas med ett snedstreck: {chars_require_escape}","blacklist_label":"Svartlista","query_mode_auto":"Auto","query_mode_auto_desc":"Anv\xE4nder metadata om det finns, annars filnamn","query_mode_dir":"Mapp","query_mode_dir_desc":"Anv\xE4nder enbart videofilens mapp","query_mode_filename":"Filnamn","query_mode_filename_desc":"Anv\xE4nder enbart filnamn","query_mode_label":"S\xF6kl\xE4ge","query_mode_metadata":"Metadata","query_mode_metadata_desc":"Anv\xE4nder enbart metadata","query_mode_path":"Fils\xF6kv\xE4g","query_mode_path_desc":"Anv\xE4nder fullst\xE4nding fils\xF6kv\xE4g","set_cover_desc":"Ers\xE4tt miniatyrbild om en hittas.","set_cover_label":"V\xE4lj scenens miniatyrbild","set_tag_desc":"Tagga scenen antingen genom att skriva \xF6ver eller sl\xE5 samman med de redan existerande.","set_tag_label":"Tagga","show_male_desc":"V\xE4lj huruvida manliga stj\xE4rnor kommer vara tillg\xE4ngliga att tagga.","show_male_label":"Visa manliga stj\xE4rnor"},"noun_query":"Query","results":{"fp_found":"{fpCount, plural, =0 {Inga nya fingeravtryck hittades} other {# Nya fingeravtryck hittades}}","fp_matches":"Speltid matchar","fp_matches_multi":"Speltiden matchar {matchCount}/{durationsLength} fingeravtryck","hash_matches":"{hash_type} matchar","match_failed_already_tagged":"Scen redan taggad","match_failed_no_result":"Inga resultat hittades","match_success":"Scen taggad","duration_off":"Speltiden fel med minst {number}s","duration_unknown":"Ok\xE4nd speltid"},"verb_match_fp":"Matcha fingeravtryck","verb_matched":"Matchad","verb_submit_fp":"Skicka {fpCount, plural, one{# Fingeravtryck} other{# Fingeravtryck}}","verb_toggle_config":"{toggle} {configuration}","verb_toggle_unmatched":"{toggle} ej matchade scener"},"config":{"about":{"build_hash":"Bygghash:","build_time":"Byggtid:","check_for_new_version":"Kolla efter ny version","latest_version_build_hash":"Senaste versionens bygghash:","new_version_notice":"[Ny]","stash_discord":"G\xE5 med i v\xE5r {url}-kanal","stash_home":"Stasha hemma vid {url}","stash_open_collective":"St\xF6tta oss genom {url}","stash_wiki":"Stash {url}-sida","version":"Version"},"categories":{"about":"Om","interface":"Gr\xE4nssnitt","logs":"Loggar","plugins":"Till\xE4gg","tasks":"Uppgifter","tools":"Verktyg","scraping":"Skrapare"},"dlna":{"allow_temp_ip":"Till\xE5t {tempIP}","allowed_ip_addresses":"Till\xE5tna IP-adresser","default_ip_whitelist":"Standard IP-vitlista","default_ip_whitelist_desc":"Standard IP-adress f\xF6r att komma \xE5t DLNA. Anv\xE4nd {wildcard} f\xF6r att till\xE5ta alla IP-adresser.","enabled_by_default":"P\xE5 som standard","network_interfaces":"N\xE4tverksgr\xE4nssnitt","network_interfaces_desc":"N\xE4tverksgr\xE4nssnitt att visa DLNA p\xE5. En tom lista g\xF6r att DLNA k\xF6r p\xE5 alla gr\xE4nssnitt. Kr\xE4ver DLNA-omstart efter \xE4ndring.","recent_ip_addresses":"Senaste IP-adresser","server_display_name":"Servers visningsnamn","server_display_name_desc":"Visningsnamnet f\xF6r DLNA-servern. \xC5terg\xE5r till standard {server_name} om tom.","until_restart":"tills omstart"},"general":{"auth":{"api_key":"API-nyckel","api_key_desc":"API-nyckel f\xF6r externa system. Kr\xE4vs bara n\xE4r anv\xE4ndarnamn/l\xF6senord \xE4r satt. Anv\xE4ndarnamn m\xE5ste vara sparat innan API-nyckeln genereras.","authentication":"Autentisering","clear_api_key":"Rensa API-nyckel","generate_api_key":"Generera API-nyckel","log_file":"Loggfil","log_file_desc":"S\xF6kv\xE4g till en fil att logga till. Tom f\xF6r att inte logga till fil. Kr\xE4ver omstart.","log_http":"Logga http-\xE5tkomst","log_http_desc":"Loggar http-\xE5tkomst till terminalen. Kr\xE4ver omstart.","log_to_terminal":"Logga till terminal","log_to_terminal_desc":"Loggar till terminalen samt en fil. Alltid sant om filloggning \xE4r avst\xE4ngt. Kr\xE4ver omstart.","maximum_session_age":"Maximal inloggningstid","maximum_session_age_desc":"Maximal v\xE4ntetid innan inloggingen upph\xF6r, i sekunder.","password":"L\xF6senord","password_desc":"L\xF6senord till Stash. L\xE4mna tom f\xF6r att inaktivera anv\xE4ndarautentisering","stash-box_integration":"Stash-box integration","username":"Anv\xE4ndarnamn","username_desc":"Anv\xE4ndarnamn till Stash. L\xE4mna tom f\xF6r att inaktivera anv\xE4ndarautentisering"},"cache_location":"Mapps\xF6kv\xE4g till cache","cache_path_head":"Cache-s\xF6kv\xE4g","calculate_md5_and_ohash_desc":"Ber\xE4kna MD5 checksumma i till\xE4gg med ohash. Aktivering kan sakta ner f\xF6rsta skanningar. Hashen m\xE5ste vara vald till ohash f\xF6r att avaktivera MD5-ber\xE4kning.","calculate_md5_and_ohash_label":"Ber\xE4kna MD5 f\xF6r videor","check_for_insecure_certificates":"Kolla efter os\xE4kra certifikat","check_for_insecure_certificates_desc":"Vissa webbplatser anv\xE4nder os\xE4kra SSl-certifikat. N\xE4r detta \xE4r avst\xE4ngt kommer skraparen att kunna skrapa webbplatser med os\xE4kra certifikat. St\xE4ng av detta om du f\xE5r certifikatfel vid skrapning.","chrome_cdp_path":"Chrome CDP-s\xF6kv\xE4g","chrome_cdp_path_desc":"S\xF6kv\xE4g till Chrome-programfilen, eller en fj\xE4rradress (b\xF6rjar med http:// eller https://, till exempel http://localhost:9222/json/version) till en Chrome-instans.","create_galleries_from_folders_desc":"Om sant, skapar gallerier fr\xE5n mappar som inneh\xE5ller bilder.","create_galleries_from_folders_label":"Skapa gallerier fr\xE5n mappar som inneh\xE5ller bilder","db_path_head":"Databass\xF6kv\xE4g","directory_locations_to_your_content":"S\xF6kv\xE4g till ditt inneh\xE5ll","exclude_image":"Exkludera bild","exclude_video":"Exkludera video","excluded_image_gallery_patterns_desc":"Regexps av bilder och gallery filer/s\xF6kv\xE4g att exkludera fr\xE5n Skanna och l\xE4gga till p\xE5 Rensa","excluded_image_gallery_patterns_head":"M\xF6nster f\xF6r Bild/Galleri exklusion","excluded_video_patterns_desc":"Regexps av video filer/s\xF6kv\xE4g att exkludera fr\xE5n Skanna och l\xE4gga till p\xE5 Rensa","excluded_video_patterns_head":"Exluderade video-m\xF6nster","gallery_ext_desc":"Komma-avgr\xE4nsad lista av filtill\xE4gg som kommer identifieras som galleri zip-filer.","gallery_ext_head":"Galleri zip-till\xE4gg","generated_file_naming_hash_desc":"Anv\xE4nd MD5 eller ohash f\xF6r att d\xF6pa genererade filer. Ett byte kr\xE4ver att alla scener har ett v\xE4rde f\xF6r MD5/oshash. Efter ett byte m\xE5ste existerande genererade filer migreras eller \xE5tergenereras. Se Job-sidan f\xF6r migration.","generated_file_naming_hash_head":"Genererad fil namn-hash","generated_files_location":"Mapps\xF6kv\xE4g f\xF6r genererade filer (mark\xF6rer, f\xF6rhandsvisningar, sprites, m.m.)","generated_path_head":"Genererad fils\xF6kv\xE4g","hashing":"Hashande","image_ext_desc":"Kommaavgr\xE4nsad lista av fil\xE4ndelser som kommer identifieras som bilder.","image_ext_head":"Bildfil\xE4ndelser","logging":"Loggning","maximum_streaming_transcode_size_desc":"Maximal storlek av transkodade str\xF6mmar","maximum_streaming_transcode_size_head":"Maximal transkodningsstorlek p\xE5 str\xF6mmar","maximum_transcode_size_desc":"Maximal storlek f\xF6r genererade trankodningar","maximum_transcode_size_head":"Maximal transkodningsstorlek","number_of_parallel_task_for_scan_generation_desc":"St\xE4ll p\xE5 0 f\xF6r auto. Varning-Att k\xF6ra fler jobb \xE4n vad som kr\xE4vs f\xF6r att n\xE5 100% CPU-anv\xE4ndning kommer f\xF6rs\xE4mra prestanda och kan potentiellt skapa andra problem.","number_of_parallel_task_for_scan_generation_head":"Antal parallella jobb f\xF6r skan/generering","parallel_scan_head":"Parallell Skan/Generering","preview_generation":"Generera f\xF6rhandsvisningar","scraper_user_agent":"Anv\xE4ndaragent f\xF6r skrapning","scraper_user_agent_desc":"Anv\xE4ndaragent-str\xE4ng som anv\xE4nds under http-f\xF6rfr\xE5gningar under skrapning","scraping":"Skrapning","sqlite_location":"Fils\xF6kv\xE4g f\xF6r SQLite databasen (kr\xE4ver omstart)","video_ext_desc":"Kommaavgr\xE4nsad lista av fil\xE4ndelser som kommer identifieras som videor.","video_ext_head":"Videofil\xE4ndelser","video_head":"Video"},"logs":{"log_level":"Loggniv\xE5"},"plugins":{"hooks":"Krokar","triggers_on":"Triggar p\xE5"},"scraping":{"entity_metadata":"{entityType} Metadata","entity_scrapers":"{entityType} skrapare","excluded_tag_patterns_desc":"Regexps av tagg-namn att exkludera fr\xE5n skrapresultat","excluded_tag_patterns_head":"Exkluderade tagg-m\xF6nster","scrapers":"Scrapers","search_by_name":"S\xF6k med namn","supported_types":"St\xF6ttade typer","supported_urls":"URL:er"},"stashbox":{"add_instance":"L\xE4gg till stash-box instans","api_key":"API-nyckel","description":"Stash-box m\xF6jligg\xF6r automatiskt taggande baserat p\xE5 fingeravtryck och filnamn.\\nAdress och API-nyckel kan hittas p\xE5 din kontosida p\xE5 stash-box instansen. Namn \xE4r obligatoriskt n\xE4r flera instanser l\xE4ggs till.","endpoint":"Adress","graphql_endpoint":"GraphQL-adress","name":"Namn","title":"Stash-box Adresser"},"tasks":{"added_job_to_queue":"K\xF6ade {operation_name}","auto_tag_based_on_filenames":"Tagga inneh\xE5ll automatiskt baserat p\xE5 filnamn.","auto_tagging":"Automatisk taggning","backing_up_database":"S\xE4kerhetskopierar databas","backup_and_download":"S\xE4kerhetskopierar databasen och laddar ner den resulterande filen.","backup_database":"S\xE4kerhetskopierar databasen i databasens mapp med filnamnsformatet {filename_format}","cleanup_desc":"Kollar efter saknade filer och raderar dem fr\xE5n databasen. Detta \xE4r en destruktiv handling.","dont_include_file_extension_as_part_of_the_title":"Inkludera inte fil\xE4ndelse som del av titeln","export_to_json":"Exporterar databasens inneh\xE5ll i JSON format till metadatamappen.","generate_desc":"Generera st\xF6ttande bilder, sprites, videor, vtt och andra filer.","generate_phashes_during_scan":"Generera phash under skanning (f\xF6r de-duplikation och scenidentifiering)","generate_previews_during_scan":"Generera bildf\xF6rhandsvisning under skanning (animerade WebP f\xF6rhandsvisningar, kr\xE4vs bara om typ \xE4r Animerad Bild)","generate_sprites_during_scan":"Generera sprites under skanning (f\xF6r scen-skrubbaren)","generate_video_previews_during_scan":"Generera f\xF6rhandsvisningar under skanning (videof\xF6rhandsvisning som visas n\xE4r man h\xE5ller \xF6ver en video)","generated_content":"Genererat Material","import_from_exported_json":"Importera fr\xE5n den exporterade JSON-filen i metadatamappen. Rensar den existerande databasen.","incremental_import":"Stegvis import fr\xE5n en exporterad zip-fil.","job_queue":"Uppgiftsk\xF6","maintenance":"Underh\xE5ll","migrate_hash_files":"Anv\xE4nds efter att genererade filers namn-hash har \xE4ndrats f\xF6r att d\xF6pa om existerande filer till ny namnhash.","migrations":"Migration","only_dry_run":"K\xF6r bara en torr rensning. Radera ingenting","plugin_tasks":"Till\xE4ggsuppgifter","scan_for_content_desc":"Skannar f\xF6r nytt inneh\xE5ll och l\xE4gger till det i databasen.","set_name_date_details_from_metadata_if_present":"S\xE4tt namn, datum, beskrivning fr\xE5n metadata (om det finns)"},"tools":{"scene_duplicate_checker":"Scen Duplikat Kontroll","scene_filename_parser":{"add_field":"L\xE4gg till f\xE4lt","capitalize_title":"Anv\xE4nd versaler i titel","display_fields":"Visa f\xE4lt","escape_chars":"Anv\xE4nd \\\\ f\xF6r att undvika speciella karakt\xE4rer","filename":"Filnamn","filename_pattern":"Filnamnsm\xF6nster","ignore_organized":"Ignorera organiserade filer","ignored_words":"Ignorerade ord","matches_with":"Matchar med {i}","select_parser_recipe":"V\xE4lj Parser Recept","title":"Scen Filnamn Parser","whitespace_chars":"Blankstegstecken","whitespace_chars_desc":"Dessa tecken kommer ers\xE4ttas med blanksteg i titeln"},"scene_tools":"Scenverktyg"},"ui":{"custom_css":{"description":"Sidan m\xE5ste laddas om f\xF6r att \xE4ndringar ska ta effekt.","heading":"Anpassad CSS","option_label":"Anv\xE4nd anpassad CSS"},"handy_connection_key":{"description":"Handy anslutningsnyckel f\xF6r interaktiva scener.","heading":"Handy Connection Key"},"funscript_offset":{"description":"Tidsf\xF6rdr\xF6jning i millisekunder f\xF6r interaktiva skripter.","heading":"Funscript f\xF6rdr\xF6jning (ms)"},"language":{"heading":"Spr\xE5k"},"max_loop_duration":{"description":"Maximal scenspeltid d\xE4r spelaren kommer loopa videon - 0 f\xF6r att avaktivera","heading":"Maximal loopvaraktighet"},"menu_items":{"description":"Visa eller g\xF6m olika flikar p\xE5 navigationsremsan","heading":"Menyobjekt"},"performers":{"options":{"image_location":{"heading":"S\xF6kv\xE4g f\xF6r egna stj\xE4rnbilder","description":"S\xF6kv\xE4g f\xF6r egna standardstj\xE4rnbilder. L\xE4mna blank f\xF6r att anv\xE4nda inbyggd standard"}}},"preview_type":{"description":"Konfiguration av v\xE4ggobjekt","heading":"F\xF6rhandsvisningstyp","options":{"animated":"Animerad bild","static":"Statisk bild","video":"Video"}},"scene_list":{"heading":"Scenlista","options":{"show_studio_as_text":"Visa studior som text"}},"scene_player":{"heading":"Scenspelaren","options":{"auto_start_video":"Starta videouppspelning automatiskt"}},"scene_wall":{"heading":"Scen / Mark\xF6r V\xE4gg","options":{"display_title":"Visa titel och taggar","toggle_sound":"Aktivera ljud"}},"slideshow_delay":{"description":"Bildspel \xE4r tillg\xE4ngligt f\xF6r gallerier i v\xE4ggvisningsl\xE4ge","heading":"Bildspelsf\xF6rdr\xF6jning"},"title":"Anv\xE4ndargr\xE4nssnitt"}},"configuration":"Konfiguration","countables":{"galleries":"{count, plural, one {Galleri} other {Gallerier}}","images":"{count, plural, one {Bild} other {Bilder}}","markers":"{count, plural, one {Mark\xF6r} other {Mark\xF6rer}}","movies":"{count, plural, one {Film} other {Filmer}}","performers":"{count, plural, one {Stj\xE4rna} other {Stj\xE4rnor}}","scenes":"{count, plural, one {Scen} other {Scener}}","studios":"{count, plural, one {Studio} other {Studior}}","tags":"{count, plural, one {Tagg} other {Taggar}}"},"country":"Land","cover_image":"Omslagsbild","created_at":"Skapad vid","criterion":{"greater_than":"St\xF6rre \xE4n","less_than":"Mindre \xE4n","value":"V\xE4rde"},"criterion_modifier":{"equals":"\xE4r","excludes":"exkluderar","format_string":"{criterion} {modifierString} {valueString}","greater_than":"\xE4r st\xF6rre \xE4n","includes":"inkluderar","includes_all":"inkluderar allt","is_null":"\xE4r null","less_than":"\xE4r mindre \xE4n","matches_regex":"matchar regex","not_equals":"\xE4r inte","not_matches_regex":"matchar ej regex","not_null":"\xE4r inte null","between":"mellan","not_between":"inte mellan"},"custom":"Anpassad","date":"Datum","death_date":"D\xF6dsdatum","death_year":"D\xF6ds\xE5r","descending":"Fallande","detail":"Beskrivning","details":"Beskrivningar","developmentVersion":"Utvecklingsversion","dialogs":{"delete_confirm":"\xC4r du s\xE4ker p\xE5 att du vill radera {entityName}?","delete_entity_desc":"{count, plural, one {\xC4r du s\xE4ker att du vill radera detta {singularEntity}? S\xE5l\xE4nge filen inte ocks\xE5 raderas, kommer {singularEntity} att l\xE4ggas till igen vid n\xE4sta skanning.} other {\xC4r du s\xE4ker att du vill radera dessa {pluralEntity}? S\xE5l\xE4nge filen inte ocks\xE5 raderas, kommer dessa {pluralEntity} att l\xE4ggas till igen vid n\xE4sta skanning.}}","delete_entity_title":"{count, plural, one {Radera {singularEntity}} other {Radera {pluralEntity}}}","delete_object_desc":"\xC4r du s\xE4ker p\xE5 att du vill radera {count, plural, one {denna {singularEntity}} other {dessa {pluralEntity}}}?","delete_object_overflow":"\u2026och {count} other {count, plural, one {{singularEntity}} other {{pluralEntity}}}.","delete_object_title":"Radera {count, plural, one {{singularEntity}} other {{pluralEntity}}}","edit_entity_title":"Redigera {count, plural, one {{singularEntity}} other {{pluralEntity}}}","export_include_related_objects":"Inkludera relaterade objekt i exporten","export_title":"Exportera","merge_tags":{"destination":"M\xE5l","source":"K\xE4lla"},"overwrite_filter_confirm":"\xC4r du s\xE4ker p\xE5 att du vill skriva \xF6ver existerande s\xF6kning {entityName}?","scene_gen":{"image_previews":"Bildf\xF6rhandsvisning (animerade WebP-f\xF6rhandsvisningar, kr\xE4vs enbart om typ \xE4r vald till Animerad Bild)","markers":"Mark\xF6rer (20-sekunders videor som b\xF6rjar vid given tidsst\xE4mpel)","overwrite":"Ers\xE4tt existerande genererade filer","phash":"Perceptuella hashar (f\xF6r de-duplikation)","preview_exclude_end_time_desc":"Exkludera de sista x sekunderna fr\xE5n videof\xF6rhandsvisning. Detta kan vara ett v\xE4rde i sekunder, eller en procent (ex. 2%) av scenes totala speltid.","preview_exclude_end_time_head":"Exludera sluttid","preview_exclude_start_time_desc":"Exkludera de f\xF6rsta x sekunderna fr\xE5n videof\xF6rhandsvisning. Detta kan vara ett v\xE4rde i sekunder, eller en procent (ex. 2%) av scenes totala speltid.","preview_exclude_start_time_head":"Exkludera starttid","preview_options":"F\xF6rhandsvisningsinst\xE4llningar","preview_preset_desc":"F\xF6rinst\xE4llningarna best\xE4mmer storlek, kvalite och kodningstiden of f\xF6rhandsvisningsgeneration. F\xF6rinst\xE4llningar bortom \u201Cl\xE5ngsam\u201D har minskande vinst och \xE4r inte rekommenderade.","preview_preset_head":"F\xF6rinst\xE4llningar f\xF6r f\xF6rhandsvisningskodning","preview_seg_count_desc":"Antal segment i f\xF6rhandsvisningsfiler.","preview_seg_count_head":"Antal segment i f\xF6rhandsvisning","preview_seg_duration_desc":"Varaktighet av varje segment i sekunder.","preview_seg_duration_head":"Segmentvaraktighet","sprites":"Sprites (f\xF6r scenskrubbaren)","transcodes":"Transkoder (MP4-konvertering fr\xE5n videoformat som ej st\xF6ds)","video_previews":"F\xF6rhandsvisning (videof\xF6rhandsvisning som visas n\xE4r man pekar p\xE5 en scen)"},"scrape_entity_title":"{entity_type} Skrapade resultat","scrape_results_existing":"Existerande","scrape_results_scraped":"Skrapade","set_image_url_title":"URL till bild","unsaved_changes":"Osparade \xE4ndringar. \xC4r du s\xE4ker att du vill l\xE4mna?"},"dimensions":"M\xE5tt","director":"Regiss\xF6r","display_mode":{"grid":"Rutn\xE4t","list":"Lista","tagger":"Taggaren","unknown":"Ok\xE4nd","wall":"V\xE4gg"},"donate":"Donera","dupe_check":{"description":"Niv\xE5er under 'Exakt' kan ta l\xE4ngre tid att ber\xE4kna. Falskt positiva svar riskeras ocks\xE5 genom att v\xE4lja en l\xE4gre niv\xE5.","found_sets":"{setCount, plural, one{# kopia hittades.} other {# antal kopior hittades.}}","options":{"exact":"Exakt","high":"H\xF6g","low":"L\xE5g","medium":"Medium"},"search_accuracy_label":"S\xF6kprecision","title":"Duplikata scener"},"duration":"Varaktighet","effect_filters":{"aspect":"Bildf\xF6rh\xE5llande","blue":"Bl\xE5","blur":"Suddighet","brightness":"Ljusstyrka","contrast":"Kontrast","gamma":"Gamma","green":"Gr\xF6n","hue":"Nyans","name":"Filter","name_transforms":"F\xF6rvandlingar","red":"R\xF6d","reset_filters":"\xC5terst\xE4ll filter","reset_transforms":"\xC5terst\xE4ll f\xF6rvandlingar","rotate":"Rotera","rotate_left_and_scale":"Rotera v\xE4nster och skala","rotate_right_and_scale":"Rotera h\xF6ger och skala","saturation":"M\xE4ttnad","scale":"Skala","warmth":"V\xE4rme"},"ethnicity":"Etnicitet","eye_color":"\xD6gonf\xE4rg","fake_tits":"Fejkbr\xF6st","favourite":"Favorit","file_info":"Filinfo","file_mod_time":"Filens Modifikationstid","filesize":"Filstorlek","filter":"Filter","filter_name":"Filternamn","filters":"Filter","framerate":"Bildhastighet","frames_per_second":"{value} bilder per sekund","galleries":"Gallerier","gallery":"Galleri","gallery_count":"Antal Gallerier","gender":"K\xF6n","hair_color":"H\xE5rf\xE4rg","hasMarkers":"Har mark\xF6rer","height":"L\xE4ngd","help":"Hj\xE4lp","image":"Bild","image_count":"Antal bilder","images":"Bilder","include_sub_studios":"Inkludera underordnade studior","instagram":"Instagram","interactive":"Interaktiv","isMissing":"Saknas","library":"Bibliotek","loading":{"generic":"Laddar\u2026"},"marker_count":"Antal mark\xF6rer","markers":"Mark\xF6rer","measurements":"M\xE5tt","media_info":{"audio_codec":"Ljudkodek","checksum":"Checksumma","downloaded_from":"Nedladdad fr\xE5n","hash":"Hash","performer_card":{"age":"{age} {years_old}","age_context":"{age} {years_old} i den h\xE4r scenen"},"phash":"PHash","stream":"Str\xF6m","video_codec":"Videokodek"},"megabits_per_second":"{value} megabit per sekund","metadata":"Metadata","movie":"Film","movie_scene_number":"Filmscennummer","movies":"Filmer","name":"Namn","new":"Ny","none":"Ingen","o_counter":"O-r\xE4knare","operations":"Operationer","organized":"Organiserad","pagination":{"first":"F\xF6rsta","last":"Sista","next":"N\xE4sta","previous":"F\xF6reg\xE5ende"},"parent_studios":"\xD6verordnad studio","path":"S\xF6kv\xE4g","performer":"Stj\xE4rna","performer_count":"Antal stj\xE4rnor","performer_image":"Stj\xE4rnbild","performers":"Stj\xE4rnor","performerTags":"Stj\xE4rntagg","piercings":"Piercingar","queue":"K\xF6","random":"Slumpad","rating":"Betyg","resolution":"Uppl\xF6sning","scene":"Scen","scene_count":"Antal scener","scene_id":"Scenens ID","scenes":"Scener","scenes_updated_at":"Scen uppdaterad vid","sceneTagger":"Scentaggaren","sceneTags":"Scentaggar","search_filter":{"add_filter":"L\xE4gg till filter","name":"Filter","saved_filters":"Sparade filter","update_filter":"Uppdatera filter"},"seconds":"Sekunder","settings":"Inst\xE4llningar","stash_id":"Stash ID","status":"Status: {statusText}","studio":"Studio","studio_depth":"Niv\xE5er (tom f\xF6r allt)","studios":"Studior","synopsis":"Sammanfattning","tag":"Tagg","tag_count":"Antal taggar","tags":"Taggar","tattoos":"Tatueringar","title":"Titel","toast":{"added_entity":"Lade till {entity}","added_generation_job_to_queue":"K\xF6ade genereringsjobb","create_entity":"Skapade {entity}","default_filter_set":"Standardfilter valt","delete_entity":"Radera {count, plural, one {{singularEntity}} other {{pluralEntity}}}","delete_past_tense":"Raderade {count, plural, one {{singularEntity}} other {{pluralEntity}}}","generating_screenshot":"Genererar sk\xE4rmbild\u2026","merged_tags":"Slog samman taggar","rescanning_entity":"\xC5terskannar {count, plural, one {{singularEntity}} other {{pluralEntity}}}\u2026","started_auto_tagging":"B\xF6rjade auto-tagga","saved_entity":"Sparade {entity}","updated_entity":"Uppdaterade {entity}"},"total":"Total","twitter":"Twitter","up-dir":"Upp en mapp","updated_at":"Uppdaterad vid","url":"URL","weight":"Vikt","years_old":"\xE5r gammal","stats":{"image_size":"Bildstorlek","scenes_duration":"Total speltid","scenes_size":"Scenens storlek"}}`)},398:function(vt){vt.exports=JSON.parse('{"actions":{"add":"\u65B0\u589E","add_directory":"\u65B0\u589E\u8DEF\u5F91","add_entity":"\u65B0\u589E{entityType}","add_to_entity":"\u65B0\u589E\u81F3{entityType}","allow":"\u5141\u8A31","allow_temporarily":"\u66AB\u6642\u5141\u8A31","apply":"\u5957\u7528","auto_tag":"\u81EA\u52D5\u5957\u7528\u6A19\u7C64","backup":"\u5099\u4EFD","cancel":"\u53D6\u6D88","clean":"\u6E05\u7406","clear_back_image":"\u6E05\u9664\u80CC\u9762\u5716\u50CF","clear_front_image":"\u6E05\u9664\u6B63\u9762\u5716\u50CF","clear_image":"\u6E05\u9664\u73FE\u6709\u5716\u50CF","close":"\u95DC\u9589","create":"\u5EFA\u7ACB","create_entity":"\u5EFA\u7ACB{entityType}","create_marker":"\u5EFA\u7ACB\u7AE0\u7BC0\u6A19\u8A18","created_entity":"\u5DF2\u5EFA\u7ACB{entity_type}\uFF1A{entity_name}","delete":"\u522A\u9664","delete_entity":"\u522A\u9664{entityType}","delete_file":"\u522A\u9664\u6A94\u6848","delete_generated_supporting_files":"\u522A\u9664\u5DF2\u751F\u6210\u7684\u8CC7\u8A0A\u6A94\u6848","disallow":"\u4E0D\u5141\u8A31","download":"\u4E0B\u8F09","download_backup":"\u4E0B\u8F09\u5099\u4EFD","edit":"\u7DE8\u8F2F","export":"\u532F\u51FA\u2026","export_all":"\u532F\u51FA\u6240\u6709\u2026","find":"\u641C\u5C0B","from_file":"\u5F9E\u6A94\u6848\u8A2D\u5B9A\u2026","from_url":"\u5F9E\u9023\u7D50\u8A2D\u5B9A\u2026","full_export":"\u5168\u90E8\u532F\u51FA","full_import":"\u5168\u90E8\u532F\u5165","generate":"\u7522\u751F","generate_thumb_default":"\u7522\u751F\u9810\u8A2D\u9810\u89BD\u5716","generate_thumb_from_current":"\u5F9E\u73FE\u5728\u7684\u756B\u9762\u7522\u751F\u9810\u89BD\u5716","hash_migration":"\u96DC\u6E4A\u503C\u9077\u79FB","hide":"\u96B1\u85CF","import":"\u532F\u5165\u2026","import_from_file":"\u81EA\u6A94\u6848\u532F\u5165","merge":"\u5408\u4F75","not_running":"\u5C1A\u672A\u904B\u884C","overwrite":"\u8986\u5BEB","play_random":"\u96A8\u6A5F\u64AD\u653E","play_selected":"\u64AD\u653E\u6240\u9078","preview":"\u9810\u89BD","refresh":"\u91CD\u65B0\u6574\u7406","reload_plugins":"\u91CD\u65B0\u6574\u7406\u63D2\u4EF6","reload_scrapers":"\u91CD\u65B0\u6574\u7406\u722C\u87F2","remove":"\u79FB\u9664","rename_gen_files":"\u91CD\u65B0\u547D\u540D\u5DF2\u7522\u751F\u7684\u6A94\u6848","rescan":"\u91CD\u65B0\u6383\u63CF","reshuffle":"\u91CD\u65B0\u96A8\u6A5F\u6392\u5217","running":"\u904B\u884C\u4E2D","save":"\u5132\u5B58","scan":"\u6383\u63CF","scrape_with":"\u900F\u904E\u722C\u87F2\u53D6\u5F97\u8CC7\u8A0A\u2026","search":"\u641C\u5C0B","select_all":"\u5168\u9078","select_none":"\u6E05\u9664\u9078\u64C7","selective_auto_tag":"\u9078\u64C7\u6027\u5957\u7528\u6A19\u7C64","selective_scan":"\u9078\u64C7\u6027\u6383\u63CF","set_back_image":"\u8A2D\u5B9A\u80CC\u9762\u5716\u2026","set_front_image":"\u8A2D\u5B9A\u6B63\u9762\u5716\u2026","set_image":"\u8A2D\u5B9A\u5716\u50CF\u2026","show":"\u986F\u793A","skip":"\u8DF3\u904E","tasks":{"clean_confirm_message":"\u60A8\u78BA\u5B9A\u8981\u9032\u884C\u6E05\u7406\u55CE\uFF1F\u9019\u5C07\u5F9E\u8CC7\u6599\u5EAB\u53CA\u7522\u751F\u7684\u6587\u4EF6\u4E2D\u6E05\u9664\u5DF2\u4E0D\u5728\u7684\u77ED\u7247\u53CA\u5716\u5EAB\u3002","dry_mode_selected":"\u5DF2\u9078\u64C7\u4E86\u6A21\u64EC\u4F5C\u696D\u6A21\u5F0F\u3002\u4E0D\u6703\u9032\u884C\u4EFB\u4F55\u5BE6\u969B\u522A\u9664\u4F5C\u696D\uFF0C\u53EA\u6703\u9032\u884C\u6A21\u64EC\u8A18\u9304\u3002","import_warning":"\u60A8\u78BA\u5B9A\u8981\u532F\u5165\u672C\u6A94\u6848\u55CE\uFF1F\u9019\u5C07\u522A\u9664\u73FE\u6709\u8CC7\u6599\u5EAB\uFF0C\u4E26\u5C07\u5DF2\u65B0\u532F\u5165\u7684\u5167\u5BB9\u91CD\u5EFA\u8CC7\u6599\u3002"},"temp_disable":"\u66AB\u6642\u95DC\u9589\u2026","temp_enable":"\u66AB\u6642\u555F\u7528\u2026","view_random":"\u96A8\u6A5F\u958B\u555F","merge_from":"\u8207\u5176\u4ED6\u9805\u76EE\u5408\u4F75","save_filter":"\u5132\u5B58\u904E\u6FFE\u689D\u4EF6","set_as_default":"\u8A2D\u70BA\u9810\u8A2D","merge_into":"\u5408\u4F75\u81F3\u5176\u4ED6\u9805\u76EE","confirm":"\u78BA\u8A8D","select_folders":"\u9078\u64C7\u8CC7\u6599\u593E","browse_for_image":"\u9078\u64C7\u5716\u50CF\u2026","open_random":"\u96A8\u6A5F\u958B\u555F","scrape_query":"\u722C\u87F2\u641C\u5C0B\u95DC\u9375\u5B57","stop":"\u505C\u6B62","scrape_scene_fragment":"\u90E8\u5206\u722C\u53D6","clear":"\u6E05\u9664","next_action":"\u4E0B\u4E00\u6B65","previous_action":"\u4E0A\u4E00\u6B65","finish":"\u5B8C\u6210","scrape":"\u722C\u53D6","identify":"\u8FA8\u8A8D","save_delete_settings":"\u7576\u522A\u9664\u9805\u76EE\u6642\uFF0C\u4F7F\u7528\u4E0B\u5217\u8A2D\u5B9A","use_default":"\u4F7F\u7528\u9810\u8A2D\u9078\u9805","ignore":"\u5FFD\u7565"},"actions_name":"\u52D5\u4F5C","age":"\u5E74\u9F61","aliases":"\u5225\u540D","also_known_as":"\u53C8\u7A31\u70BA","ascending":"\u5347\u5E8F","average_resolution":"\u5E73\u5747\u89E3\u6790\u5EA6","birth_year":"\u51FA\u751F\u5E74\u5206","birthdate":"\u51FA\u751F\u65E5\u671F","bitrate":"\u4F4D\u5143\u7387","career_length":"\u6D3B\u8E8D\u5E74\u4EE3","subsidiary_studios":"\u5B50\u5DE5\u4F5C\u5BA4","component_tagger":{"config":{"active_instance":"\u76EE\u524D\u4F7F\u7528\u7684 Stash-box\uFF1A","blacklist_desc":"\u641C\u5C0B\u8CC7\u8A0A\u6642\uFF0C\u7F6E\u65BC\u9ED1\u540D\u55AE\u5167\u7684\u5B57\u4E32\u5C07\u88AB\u7701\u7565\u3002\u8ACB\u6CE8\u610F\uFF0C\u7531\u65BC\u9ED1\u540D\u55AE\u4F7F\u7528\u5E38\u898F\u5F0F (Regular expression) \u7684\u95DC\u4FC2\uFF0C\u641C\u5C0B\u5B57\u4E32\u7686\u4E0D\u5206\u5927\u5C0F\u5BEB\uFF0C\u4E14\u4F7F\u7528\u4E0B\u5217\u5B57\u5143\u9700\u5148\u4F7F\u7528\u53CD\u659C\u7DDA\u9003\u812B\u8A72\u5B57\u5143\uFF1A{chars_require_escape}","blacklist_label":"\u9ED1\u540D\u55AE","query_mode_auto":"\u81EA\u52D5","query_mode_auto_desc":"\u4EE5 Metadata \u6216\u6A94\u6848\u540D\u7A31\u70BA\u512A\u5148","query_mode_dir":"\u8CC7\u6599\u593E\u540D\u7A31","query_mode_dir_desc":"\u50C5\u4F7F\u7528\u5F71\u7247\u6A94\u6848\u7684\u8CC7\u6599\u593E\u540D\u7A31","query_mode_filename":"\u6A94\u6848\u540D\u7A31","query_mode_filename_desc":"\u50C5\u4F7F\u7528\u6A94\u6848\u540D\u7A31","query_mode_label":"\u641C\u5C0B\u6A21\u5F0F","query_mode_metadata_desc":"\u50C5\u4F7F\u7528 metadata","query_mode_path":"\u8DEF\u5F91\u540D\u7A31","query_mode_path_desc":"\u4F7F\u7528\u6574\u500B\u6A94\u6848\u8DEF\u5F91\u540D\u7A31","set_cover_desc":"\u9078\u64C7\u641C\u5C0B\u6642\uFF0C\u5982\u679C\u6709\u627E\u5230\u5C01\u9762\u7167\u7247\u6642\uFF0C\u662F\u5426\u8981\u4F7F\u7528\u8A72\u5716\u7247\u3002","set_cover_label":"\u66FF\u63DB\u77ED\u7247\u5C01\u9762","set_tag_desc":"\u9078\u64C7\u5957\u7528\u6A19\u7C64\u6642\uFF0C\u8A72\u5982\u4F55\u8655\u7406\u73FE\u6709\u6A19\u7C64\u3002","set_tag_label":"\u6A19\u7C64\u8A2D\u5B9A","show_male_desc":"\u9078\u64C7\u641C\u5C0B\u6642\uFF0C\u662F\u5426\u8981\u53D6\u5F97\u7537\u512A\u8CC7\u8A0A\u3002","show_male_label":"\u986F\u793A\u7537\u512A","query_mode_metadata":"Metadata","source":"\u4F86\u6E90"},"noun_query":"\u95DC\u9375\u5B57","results":{"fp_found":"{fpCount, plural, =0 {\u5C1A\u672A\u767C\u73FE\u65B0\u4E14\u7B26\u5408\u7684} other {\u627E\u5230 # \u500B\u5DF2\u77E5}}\u7279\u5FB5\u78BC","fp_matches":"\u9577\u5EA6\u7B26\u5408\u73FE\u6709\u7279\u5FB5\u78BC","fp_matches_multi":"\u9577\u5EA6\u7B26\u5408\u8CC7\u6599\u5EAB\u4E2D {matchCount}/{durationsLength} \u500B\u73FE\u6709\u7279\u5FB5\u78BC","hash_matches":"{hash_type} \u7B26\u5408\u8CC7\u6599\u5EAB\u4E2D\u7684\u96DC\u6E4A\u503C","match_failed_already_tagged":"\u77ED\u7247\u5148\u524D\u5DF2\u6A19\u8A18\u5B8C\u7562","match_failed_no_result":"\u672A\u627E\u5230\u7D50\u679C","match_success":"\u5DF2\u6210\u529F\u6A19\u8A18\u77ED\u7247","duration_off":"\u7247\u9577\u5DEE\u81F3\u5C11 {number} \u79D2","duration_unknown":"\u672A\u77E5\u7247\u9577","unnamed":"\u672A\u547D\u540D","phash_matches":"{count} \u500B PHash \u5339\u914D"},"verb_match_fp":"\u7279\u5FB5\u78BC\u8FA8\u5225","verb_matched":"\u7B26\u5408","verb_submit_fp":"{fpCount, plural, other{\u63D0\u4EA4 # \u500B\u7279\u5FB5\u78BC}}","verb_toggle_config":"{toggle}{configuration}","verb_toggle_unmatched":"{toggle}\u4E0D\u7B26\u5408\u5DF2\u77E5\u7279\u5FB5\u78BC\u7684\u77ED\u7247","verb_scrape_all":"\u722C\u53D6\u6240\u6709"},"config":{"about":{"build_hash":"\u7DE8\u8B6F\u7248\u672C\u96DC\u6E4A\u503C\uFF1A","build_time":"\u7DE8\u8B6F\u6642\u9593\uFF1A","check_for_new_version":"\u6AA2\u67E5\u65B0\u7248\u672C","latest_version_build_hash":"\u6700\u65B0\u7248\u672C\u7684\u96DC\u6E4A\u503C\uFF1A","new_version_notice":"[\u65B0\u7248\u672C]","stash_discord":"\u52A0\u5165\u6211\u5011\u7684 {url} \u983B\u9053","stash_home":"Stash \u7684 {url} \u5C08\u6848","stash_open_collective":"\u900F\u904E {url} \u4F86\u652F\u6301\u672C\u8A08\u756B\u7684\u958B\u767C","stash_wiki":"Stash \u7684 {url} \u9801\u9762","version":"\u7248\u672C"},"categories":{"about":"\u95DC\u65BC","interface":"\u4ECB\u9762","logs":"\u65E5\u8A8C","plugins":"\u63D2\u4EF6","scraping":"\u722C\u87F2\u8A2D\u5B9A","tasks":"\u6392\u7A0B","tools":"\u5DE5\u5177"},"dlna":{"allow_temp_ip":"\u5141\u8A31 {tempIP}","allowed_ip_addresses":"\u5DF2\u5141\u8A31\u7684 IP \u4F4D\u5740","default_ip_whitelist":"\u9810\u8A2D IP \u767D\u540D\u55AE","default_ip_whitelist_desc":"\u9810\u8A2D\u53EF\u5B58\u53D6 DLNA \u7684 IP \u4F4D\u5740\uFF0C\u4F7F\u7528 {wildcard} \u4EE5\u5141\u8A31\u6240\u6709 IP \u4F4D\u5740\u3002","enabled_by_default":"\u9810\u8A2D\u555F\u7528","network_interfaces":"\u7DB2\u8DEF\u88DD\u7F6E","network_interfaces_desc":"\u9078\u64C7\u8981\u5728\u54EA\u500B\u7DB2\u8DEF\u88DD\u7F6E\u4E0A\u958B\u653E DLNA \u9023\u7DDA\u3002\u7576\u672C\u5217\u8868\u70BA\u7A7A\u6642\uFF0C\u5247\u6703\u5728\u6240\u6709\u7DB2\u8DEF\u88DD\u7F6E\u4E0A\u807D\u53D6\u9023\u7DDA\u3002\u9700\u91CD\u555F\u3002","recent_ip_addresses":"\u6700\u8FD1\u7684 IP \u4F4D\u5740","server_display_name":"\u4F3A\u670D\u5668\u986F\u793A\u540D\u7A31","server_display_name_desc":"DLNA \u4F3A\u670D\u5668\u7684\u986F\u793A\u540D\u7A31\u3002\u5982\u679C\u70BA\u7A7A\uFF0C\u5247\u9810\u8A2D\u70BA {server_name}\u3002","until_restart":"\u76F4\u5230\u91CD\u555F"},"general":{"auth":{"api_key":"API \u91D1\u9470","api_key_desc":"\u5916\u90E8\u7CFB\u7D71\u7684 API \u91D1\u9470\uFF0C\u6709\u8A2D\u5B9A\u7528\u6236\u540D/\u5BC6\u78BC\u6642\u624D\u9700\u8981\u3002\u5728\u751F\u6210 API \u91D1\u9470\u4E4B\u524D\u5FC5\u9808\u5148\u8A2D\u5B9A\u7528\u6236\u540D\u3002","authentication":"\u9A57\u8B49\u8A2D\u5B9A","clear_api_key":"\u6E05\u9664 API \u91D1\u9470","generate_api_key":"\u751F\u6210 API \u91D1\u9470","log_file":"\u65E5\u8A8C\u6A94\u6848","log_file_desc":"\u8F38\u51FA\u65E5\u8A8C\u8A18\u9304\u5230\u7684\u6A94\u6848\u8DEF\u5F91\uFF0C\u7559\u7A7A\u4EE5\u95DC\u9589\u65E5\u8A8C\u6A94\u6848\u8A18\u9304\u3002\u9700\u91CD\u555F\u3002","log_http":"\u8A18\u9304 HTTP \u8A2A\u554F\u7D00\u9304","log_http_desc":"\u5C07 HTTP \u8A2A\u554F\u7D00\u9304\u8A18\u9304\u81F3\u7D42\u7AEF\u6A5F\u5167\u3002\u9700\u91CD\u555F\u3002","log_to_terminal":"\u7D00\u9304\u65E5\u8A8C\u81F3\u7D42\u7AEF\u6A5F\u5167","log_to_terminal_desc":"\u9664\u4E86\u8A18\u9304\u81F3\u6A94\u6848\u5916\uFF0C\u4E5F\u8A18\u9304\u5230\u7D42\u7AEF\u6A5F\u5167\uFF1B\u5982\u679C\u95DC\u9589\u65E5\u8A8C\u6A94\u6848\u8A18\u9304\uFF0C\u5247\u8A72\u9078\u9805\u59CB\u7D42\u70BA\u771F\u3002\u9700\u91CD\u555F\u3002","maximum_session_age":"\u6709\u6548\u9A57\u8B49\u6642\u9593","maximum_session_age_desc":"\u7528\u6236\u9592\u7F6E\u591A\u4E45\u5F8C\u767B\u51FA\uFF0C\u4EE5\u79D2\u70BA\u55AE\u4F4D\u3002","password":"\u5BC6\u78BC","password_desc":"\u4F7F\u7528 Stash \u6642\u6240\u9700\u7684\u5BC6\u78BC\uFF0C\u7559\u7A7A\u4EE5\u95DC\u9589\u8EAB\u4EFD\u9A57\u8B49","stash-box_integration":"\u6574\u5408 Stash-box","username":"\u7528\u6236\u540D","username_desc":"\u4F7F\u7528 Stash \u6642\u6240\u9700\u7684\u7528\u6236\u540D\uFF0C\u7559\u7A7A\u4EE5\u95DC\u9589\u8EAB\u4EFD\u9A57\u8B49","trusted_proxies":"\u5DF2\u4FE1\u4EFB\u4EE3\u7406\u4F3A\u670D\u5668","trusted_proxies_desc":"\u5141\u8A31\u4EE3\u7406 stash \u6D41\u91CF\u7684\u4EE3\u7406\u4F3A\u670D\u5668\u5217\u8868\u3002\u7559\u7A7A\u4EE5\u5141\u8A31\u5167\u7DB2\u3002"},"cache_location":"\u5FEB\u53D6\u7684\u6A94\u6848\u4F4D\u7F6E","cache_path_head":"\u5FEB\u53D6\u8DEF\u5F91","calculate_md5_and_ohash_desc":"\u9664 oshash \u5916\uFF0C\u540C\u6642\u4E5F\u8A08\u7B97 MD5 \u7684\u96DC\u6E4A\u503C\u3002\u958B\u555F\u5F8C\uFF0C\u53EF\u80FD\u6703\u5F71\u97FF\u521D\u6B21\u6383\u63CF\u7684\u901F\u5EA6\u3002\u82E5\u8981\u95DC\u9589 MD5 \u8A08\u7B97\uFF0C\u8ACB\u5C07\u300E\u751F\u6210\u6A94\u6848\u540D\u6240\u4F7F\u7528\u7684\u96DC\u6E4A\u6F14\u7B97\u6CD5\u300F\u8A2D\u70BA oshash\u3002","calculate_md5_and_ohash_label":"\u8A08\u7B97\u5F71\u7247 MD5","check_for_insecure_certificates":"\u6AA2\u67E5\u6191\u8B49\u5B89\u5168\u6027","check_for_insecure_certificates_desc":"\u67D0\u4E9B\u7DB2\u7AD9\u6240\u4F7F\u7528\u7684 SSL \u6191\u8B49\u53EF\u80FD\u6709\u5B89\u5168\u6027\u554F\u984C\u3002\u53D6\u6D88\u52FE\u9078\u5F8C\uFF0C\u722C\u87F2\u5DE5\u5177\u6703\u8DF3\u904E\u4E0D\u5B89\u5168\u7684\u6191\u8B49\u6AA2\u67E5\uFF0C\u4EE5\u5141\u8A31\u722C\u87F2\u9032\u884C\u4F5C\u696D\u3002\\n\u5982\u679C\u60A8\u5728\u6293\u53D6\u8CC7\u8A0A\u6642\u9047\u5230\u6191\u8B49\u932F\u8AA4\uFF0C\u8ACB\u53D6\u6D88\u52FE\u9078\u6B64\u9078\u9805\u3002","chrome_cdp_path":"Chrome CDP \u8DEF\u5F91","chrome_cdp_path_desc":"Chrome \u57F7\u884C\u6A94\u7684\u6A94\u6848\u8DEF\u5F91\uFF0C\u6216 Chrome \u7684\u9060\u7AEF\u5730\u5740\uFF08\u4EE5 http:// \u6216 https:// \u958B\u982D\uFF0C\u4F8B\u5982 http://localhost:9222/json/version\uFF09\u3002","create_galleries_from_folders_desc":"\u52FE\u9078\u5F8C\uFF0C\u5247\u6703\u5F9E\u5305\u542B\u5716\u7247\u7684\u8CC7\u6599\u593E\u5EFA\u7ACB\u5716\u5EAB\u3002","create_galleries_from_folders_label":"\u5F9E\u5305\u542B\u5716\u7247\u7684\u8CC7\u6599\u593E\u5EFA\u7ACB\u5716\u5EAB","db_path_head":"\u8CC7\u6599\u5EAB\u8DEF\u5F91","directory_locations_to_your_content":"\u591A\u5A92\u9AD4\u7684\u6A94\u6848\u4F4D\u7F6E","exclude_image":"\u6392\u9664\u5716\u7247","exclude_video":"\u6392\u9664\u5F71\u7247","excluded_image_gallery_patterns_desc":"\u8981\u5F9E\u6383\u63CF\u4E2D\u6392\u9664\uFF0C\u4E26\u6703\u88AB\u300E\u6E05\u7406\u300F\u529F\u80FD\u6240\u79FB\u9664\u7684\u5716\u7247\u53CA\u5716\u5EAB\u6A94\u6848/\u8DEF\u5F91\u7684\u6B63\u5247\u8868\u9054\u5F0F","excluded_image_gallery_patterns_head":"\u5716\u7247/\u5716\u5EAB\u6392\u9664\u898F\u5247","excluded_video_patterns_desc":"\u8981\u5F9E\u6383\u63CF\u4E2D\u6392\u9664\uFF0C\u4E26\u6703\u88AB\u300E\u6E05\u7406\u300F\u529F\u80FD\u6240\u79FB\u9664\u7684\u5F71\u7247\u6A94\u6848/\u8DEF\u5F91\u7684\u6B63\u5247\u8868\u9054\u5F0F","excluded_video_patterns_head":"\u5F71\u7247\u6392\u9664\u898F\u5247","gallery_ext_desc":"\u4EE5\u9017\u865F\u70BA\u5340\u9694\u7684\u526F\u6A94\u540D\u540D\u7A31\uFF0C\u9019\u4E9B\u6A94\u6848\u5C07\u88AB\u8996\u70BA\u5716\u5EAB\u6216\u5716\u5305","gallery_ext_head":"\u5716\u5EAB ZIP \u6A94\u526F\u6A94\u540D","generated_file_naming_hash_desc":"\u4F7F\u7528 MD5 \u6216 oshash \u751F\u6210\u6A94\u6848\u547D\u540D\u3002\u66F4\u6539\u6B64\u8A2D\u5B9A\u5F8C\uFF0C\u6240\u6709\u77ED\u7247\u5247\u9808\u6709\u5148\u5C0D\u61C9\u7684 MD5/oshash \u96DC\u6E4A\u503C\u3002\u56E0\u6B64\uFF0C\u4E4B\u524D\u5DF2\u7D93\u751F\u6210\u7684\u6A94\u6848\u53EF\u80FD\u9700\u8981\u91CD\u65B0\u9077\u79FB\u6216\u91CD\u65B0\u751F\u6210\u3002\u8ACB\u53C3\u95B1\u300E\u9077\u79FB\u300F\u8A2D\u5B9A\u3002","generated_file_naming_hash_head":"\u751F\u6210\u6A94\u6848\u540D\u6240\u4F7F\u7528\u7684\u96DC\u6E4A\u6F14\u7B97\u6CD5","generated_files_location":"\u751F\u6210\u6587\u4EF6\u7684\u6A94\u6848\u4F4D\u7F6E\uFF08\u77ED\u7247\u6A19\u8A18\u3001\u77ED\u7247\u9810\u89BD\u3001\u9810\u89BD\u5716\u7B49\uFF09","generated_path_head":"\u751F\u6210\u6A94\u6848\u5132\u5B58\u8DEF\u5F91","hashing":"\u96DC\u6E4A\u503C\u8A2D\u5B9A","image_ext_desc":"\u4EE5\u9017\u865F\u70BA\u5340\u9694\u7684\u526F\u6A94\u540D\u540D\u7A31\uFF0C\u9019\u4E9B\u6A94\u6848\u5C07\u88AB\u8996\u70BA\u5716\u7247","image_ext_head":"\u5716\u7247\u526F\u6A94\u540D","logging":"\u65E5\u8A8C\u8A2D\u5B9A","maximum_streaming_transcode_size_desc":"\u8F49\u78BC\u751F\u6210\u7684\u4E32\u6D41\u6700\u5927\u5927\u5C0F","maximum_streaming_transcode_size_head":"\u6700\u5927\u7684\u4E32\u6D41\u8F49\u78BC\u89E3\u6790\u5EA6\u5927\u5C0F","maximum_transcode_size_desc":"\u8F49\u78BC\u751F\u6210\u7684\u5F71\u7247\u6700\u5927\u5927\u5C0F","maximum_transcode_size_head":"\u6700\u5927\u7684\u8F49\u78BC\u89E3\u6790\u5EA6\u5927\u5C0F","number_of_parallel_task_for_scan_generation_desc":"\u8A2D\u7F6E\u70BA 0 \u4EE5\u81EA\u52D5\u5075\u6E2C\u3002\u8ACB\u6CE8\u610F\uFF0C\u904B\u884C\u6BD4\u4F7F\u7528 100% CPU \u4F7F\u7528\u7387\u6240\u9700\u7684\u6392\u7A0B\u6578\u91CF\uFF0C\u53EF\u80FD\u6703\u964D\u4F4E\u6027\u80FD\u4E26\u5C0E\u81F4\u5176\u4ED6\u554F\u984C\u3002","number_of_parallel_task_for_scan_generation_head":"\u6383\u63CF/\u751F\u6210\u7684\u4E26\u884C\u6392\u7A0B\u6578\u91CF","parallel_scan_head":"\u4E26\u884C\u6383\u63CF/\u751F\u6210","preview_generation":"\u9810\u89BD\u6A94\u6848\u751F\u6210","scraper_user_agent":"\u722C\u87F2\u7528\u6236\u4EE3\u7406\u540D\u7A31 (User Agent)","scraper_user_agent_desc":"\u6293\u53D6 HTTP \u8CC7\u6599\u6642\u6240\u7528\u7684\u7528\u6236\u4EE3\u7406\u5B57\u4E32 (User-Agent)","scraping":"\u722C\u87F2\u8A2D\u5B9A","sqlite_location":"SQLite \u8CC7\u6599\u5EAB\u7684\u4F4D\u7F6E\uFF08\u9700\u91CD\u65B0\u555F\u52D5\uFF09","video_ext_desc":"\u4EE5\u9017\u865F\u70BA\u5340\u9694\u7684\u526F\u6A94\u540D\u540D\u7A31\uFF0C\u9019\u4E9B\u6A94\u6848\u5C07\u88AB\u8996\u70BA\u5F71\u7247","video_ext_head":"\u5F71\u7247\u526F\u6A94\u540D","video_head":"\u5F71\u7247\u8A2D\u5B9A","include_audio_desc":"\u7522\u751F\u9810\u89BD\u6A94\u6848\u6642\uFF0C\u9806\u4FBF\u7522\u751F\u97F3\u8A0A\u9810\u89BD\u3002","include_audio_head":"\u5305\u542B\u97F3\u8A0A","metadata_path":{"heading":"Metadata \u8DEF\u5F91","description":"\u9032\u884C\u5B8C\u6574\u532F\u51FA\u6216\u532F\u5165\u6642\u6240\u4F7F\u7528\u7684\u6A94\u6848\u4F4D\u7F6E"}},"logs":{"log_level":"\u65E5\u8A8C\u7D1A\u5225"},"scraping":{"entity_metadata":"{entityType}\u8CC7\u8A0A","entity_scrapers":"{entityType}\u722C\u87F2","scrapers":"\u722C\u87F2","search_by_name":"\u900F\u904E\u540D\u7A31\u641C\u5C0B","supported_types":"\u652F\u63F4\u985E\u578B","supported_urls":"\u652F\u63F4\u7DB2\u5740","excluded_tag_patterns_head":"\u6392\u9664\u7B26\u5408\u6B63\u5247\u8868\u9054\u5F0F\u7684\u6A19\u7C64","excluded_tag_patterns_desc":"\u81EA\u722C\u87F2\u7D50\u679C\u4E2D\uFF0C\u6392\u9664\u7B26\u5408\u4EE5\u4E0B\u6B63\u5247\u8868\u9054\u5F0F\u7684\u6A19\u7C64","scraper":"\u722C\u87F2"},"stashbox":{"add_instance":"\u65B0\u589E Stash-box \u7AEF\u9EDE","api_key":"API \u91D1\u9470","description":"Stash-box \u6709\u52A9\u65BC\u6839\u64DA\u5F71\u7247\u7684\u7279\u5FB5\u78BC\u548C\u6A94\u6848\u540D\u7A31\u81EA\u52D5\u6A19\u8A18\u77ED\u7247\u53CA\u6F14\u54E1\u3002\\n\u60A8\u53EF\u5728\u60A8\u7684 Stash-box \u7AEF\u9EDE\u4E2D\u7684\u5E33\u6236\u8CC7\u8A0A\u5167\u627E\u5230\u7AEF\u9EDE\u8CC7\u8A0A\u4EE5\u53CA\u60A8\u7684 API \u91D1\u9470\u3002\\n\u5982\u679C\u60A8\u6709\u591A\u500B\u7AEF\u9EDE\u6578\u91CF\u7684\u8A71\uFF0C\u540D\u7A31\u8CC7\u8A0A\u4E0D\u53EF\u7559\u7A7A\u3002","endpoint":"\u7AEF\u9EDE","graphql_endpoint":"GraphQL \u7AEF\u9EDE","name":"\u540D\u7A31","title":"Stash-box \u7AEF\u9EDE"},"tasks":{"added_job_to_queue":"\u5DF2\u5C07\u300E{operation_name}\u300F\u52A0\u5165\u81F3\u5DE5\u4F5C\u6392\u7A0B","auto_tag_based_on_filenames":"\u6839\u64DA\u6A94\u6848\u540D\u7A31\u81EA\u52D5\u6A19\u8A18\u5167\u5BB9\u3002","auto_tagging":"\u81EA\u52D5\u5957\u7528\u6A19\u7C64","backing_up_database":"\u5099\u4EFD\u8CC7\u6599\u5EAB\u4E2D","backup_and_download":"\u57F7\u884C\u8CC7\u6599\u5EAB\u5099\u4EFD\uFF0C\u4E26\u4E0B\u8F09\u5176\u751F\u6210\u7684\u6A94\u6848\u3002","backup_database":"\u5C07\u6574\u500B\u8CC7\u6599\u5EAB\u5099\u4EFD\u81F3\u8207\u8CC7\u6599\u5EAB\u76F8\u540C\u7684\u76EE\u9304\u4E0B\uFF0C\u8A72\u532F\u51FA\u7684\u540D\u7A31\u683C\u5F0F\u70BA {filename_format}","cleanup_desc":"\u6AA2\u67E5\u7F3A\u5931\u7684\u6A94\u6848\uFF0C\u4E26\u5C07\u5B83\u5011\u5F9E\u8CC7\u6599\u5EAB\u4E2D\u522A\u9664\u3002\u8ACB\u6CE8\u610F\uFF0C\u672C\u52D5\u4F5C\u5177\u7834\u58DE\u6027\u4E14\u7121\u6CD5\u5FA9\u539F\uFF01","dont_include_file_extension_as_part_of_the_title":"\u4E0D\u8981\u5728\u6A19\u984C\u4E2D\u9644\u4E0A\u6A94\u6848\u526F\u6A94\u540D","export_to_json":"\u5C07\u8CC7\u6599\u5EAB\u4E2D\u7684 Metadata \u532F\u51FA\u70BA JSON \u6A94\u3002","generate_desc":"\u7522\u751F\u8F14\u52A9\u5716\u7247\u3001\u9810\u89BD\u3001\u5F71\u7247\u6A94\u3001VTT \u5B57\u5E55\u7B49\u6A94\u6848\u3002","generate_phashes_during_scan":"\u6383\u63CF\u6642\uFF0C\u9806\u4FBF\u7522\u751F PHash\uFF08\u7528\u65BC\u5075\u6E2C\u91CD\u8907\u7684\u5F71\u7247\u6A94\u6848\u53CA\u8FA8\u8A8D\u77ED\u7247\uFF09","generate_previews_during_scan":"\u6383\u63CF\u6642\uFF0C\u9806\u4FBF\u7522\u751F\u5716\u50CF\u9810\u89BD\uFF08\u52D5\u614B WebP \u9810\u89BD\uFF0C\u50C5\u7576\u9810\u89BD\u985E\u578B\u8A2D\u7F6E\u70BA\u300E\u52D5\u5716\u300F\u6642\u624D\u9700\u8981\uFF09","generate_sprites_during_scan":"\u6383\u63CF\u6642\uFF0C\u9806\u4FBF\u7522\u751F\u6642\u9593\u8EF8\u9810\u89BD\uFF08\u7528\u65BC\u77ED\u7247\u4E2D\u6642\u9593\u8EF8\u7684\u9810\u89BD\u5716\uFF09","generate_video_previews_during_scan":"\u6383\u63CF\u6642\uFF0C\u9806\u4FBF\u7522\u751F\u5F71\u7247\u9810\u89BD\uFF08\u7576\u6ED1\u9F20\u79FB\u81F3\u4EFB\u4E00\u77ED\u7247\u4E0A\u6642\u6240\u64AD\u653E\u7684\u9810\u89BD\u77ED\u7247\uFF09","generated_content":"\u751F\u6210\u7684\u5167\u5BB9","import_from_exported_json":"\u532F\u5165\u5148\u524D\u5F9E Metadata \u8CC7\u6599\u593E\u4E2D\u532F\u51FA\u7684 JSON \u6A94\u3002\u672C\u52D5\u4F5C\u5C07\u6E05\u9664\u73FE\u6709\u8CC7\u6599\u5EAB\u4E2D\u7684\u5167\u5BB9\u3002","incremental_import":"\u5F9E\u532F\u51FA ZIP \u6A94\u9032\u884C\u589E\u91CF\u532F\u5165\u3002","job_queue":"\u5DE5\u4F5C\u6392\u7A0B","maintenance":"\u7DAD\u8B77","migrate_hash_files":"\u5728\u66F4\u6539\u751F\u6210\u7684\u6A94\u6848\u547D\u540D\u96DC\u6E4A\u4EE5\u5C07\u73FE\u6709\u751F\u6210\u7684\u6587\u4EF6\u91CD\u547D\u540D\u70BA\u65B0\u7684\u96DC\u6E4A\u683C\u5F0F\u5F8C\u4F7F\u7528\u3002","migrations":"\u9077\u79FB","only_dry_run":"\u50C5\u6A21\u64EC\u4F5C\u696D\uFF0C\u4E0D\u8981\u522A\u9664\u4EFB\u4F55\u6771\u897F","plugin_tasks":"\u63D2\u4EF6\u6392\u7A0B","scan_for_content_desc":"\u6383\u63CF\u65B0\u5167\u5BB9\uFF0C\u4E26\u5C07\u5176\u65B0\u589E\u5230\u8CC7\u6599\u5EAB\u4E2D\u3002","set_name_date_details_from_metadata_if_present":"\u4F7F\u7528\u591A\u5A92\u9AD4\u6A94\u6848\u4E2D\u5167\u5EFA\u7684\u6A19\u984C\u3001\u65E5\u671F\u3001\u8A73\u7D30\u8CC7\u8A0A\uFF08\u5982\u679C\u9069\u7528\u7684\u8A71\uFF09","generate_thumbnails_during_scan":"\u6383\u63CF\u5716\u7247\u6642\uFF0C\u9806\u4FBF\u7522\u751F\u7E2E\u5716\u3002","identify":{"create_missing":"\u65B0\u589E\u5C1A\u6709\u7684\u6B04\u4F4D","set_organized":"\u8A2D\u70BA\u300E\u5DF2\u6574\u7406\u300F","source":"\u4F86\u6E90","include_male_performers":"\u5305\u542B\u7537\u512A","identifying_from_paths":"\u8FA8\u8A8D\u4E0B\u5217\u8DEF\u5F91\u4E2D\u7684\u77ED\u7247","set_cover_images":"\u8A2D\u5B9A\u5C01\u9762","identifying_scenes":"\u8FA8\u8A8D{num}{scene}\u4E2D","heading":"\u81EA\u52D5\u8FA8\u8B58\u6A94\u6848","and_create_missing":"\u53CA\u5EFA\u7ACB\u5C1A\u6709\u6B04\u4F4D","default_options":"\u9810\u8A2D\u9078\u9805","description":"\u81EA\u52D5\u5957\u7528 Stash-box \u53CA\u722C\u87F2\u641C\u5C0B\u7D50\u679C\u5957\u7528\u81F3\u77ED\u7247\u8CC7\u6599\u4E2D\u3002","field":"\u6B04\u4F4D","field_options":"\u6B04\u4F4D\u9078\u9805","source_options":"{source} \u9078\u9805","explicit_set_description":"\u7576\u5C1A\u672A\u6307\u5B9A\u4F86\u6E90\u9078\u9805\u6642\uFF0C\u5C07\u6703\u4F7F\u7528\u4E0B\u5217\u8A2D\u5B9A\u3002","sources":"\u4F86\u6E90","strategy":"\u65B9\u6CD5","field_behaviour":"{strategy}{field}"}},"tools":{"scene_duplicate_checker":"\u77ED\u7247\u76F8\u8FD1\u6027\u6AA2\u67E5\u5DE5\u5177","scene_filename_parser":{"add_field":"\u65B0\u589E\u9805\u76EE","capitalize_title":"\u5C07\u6A19\u984C\u6539\u70BA\u5927\u5BEB","display_fields":"\u9078\u64C7\u986F\u793A\u9805\u76EE","escape_chars":"\u4F7F\u7528\u53CD\u659C\u7DDA (\\\\) \u8DF3\u812B\u5B57\u5143","filename":"\u6A94\u6848\u540D\u7A31","filename_pattern":"\u6A94\u6848\u540D\u7A31\u898F\u5247","ignored_words":"\u5FFD\u7565\u5B57\u4E32","matches_with":"\u4F7F\u7528 {i} \u5339\u914D","select_parser_recipe":"\u9078\u64C7\u9810\u8A2D\u5206\u6790\u5B57\u4E32","title":"\u77ED\u7247\u540D\u7A31\u5206\u6790\u5DE5\u5177","whitespace_chars":"\u7A7A\u767D\u5B57\u5143","whitespace_chars_desc":"\u9019\u4E9B\u5B57\u5143\u5C07\u5728\u6A19\u984C\u4E2D\u88AB\u7684\u7A7A\u683C\u66FF\u63DB","ignore_organized":"\u5FFD\u7565\u5DF2\u6574\u7406\u7684\u77ED\u7247"},"scene_tools":"\u77ED\u7247\u5DE5\u5177"},"ui":{"custom_css":{"description":"\u5982\u9700\u5957\u7528\uFF0C\u8ACB\u91CD\u65B0\u6574\u7406\u9801\u9762\u3002","heading":"\u81EA\u5B9A\u7FA9 CSS","option_label":"\u555F\u7528\u81EA\u5B9A\u7FA9 CSS"},"handy_connection_key":{"description":"\u64AD\u653E\u652F\u63F4\u4E92\u52D5\u6027\u7684\u77ED\u7247\u6642\u6240\u7528\u7684 Handy \u9023\u7DDA\u91D1\u9470\u3002","heading":"Handy \u9023\u7DDA\u91D1\u9470"},"language":{"heading":"\u8A9E\u8A00"},"max_loop_duration":{"description":"\u5982\u679C\u5F71\u7247\u9577\u5EA6\u4F4E\u65BC\u8A72\u81E8\u754C\u503C\uFF0C\u5247\u5F71\u7247\u7D50\u675F\u6642\uFF0C\u5C07\u81EA\u52D5\u91CD\u65B0\u64AD\u653E (\u9069\u7528\u65BC\u9577\u5EA6\u8F03\u77ED\u7684\u5F71\u7247)\uFF0D\u8A2D\u70BA 0 \u4EE5\u95DC\u9589\u6B64\u529F\u80FD","heading":"\u91CD\u65B0\u64AD\u653E\u9580\u6ABB"},"menu_items":{"description":"\u986F\u793A\u6216\u96B1\u85CF\u5C0E\u89BD\u5217\u8868\u4E2D\u7684\u9805\u76EE","heading":"\u9078\u55AE\u9805\u76EE"},"preview_type":{"description":"\u5F71\u7247\u9810\u89BD\u8A2D\u5B9A","heading":"\u9810\u89BD\u7A2E\u985E","options":{"animated":"\u52D5\u5716","static":"\u975C\u614B","video":"\u5F71\u7247"}},"scene_list":{"heading":"\u77ED\u7247\u5217\u8868","options":{"show_studio_as_text":"\u986F\u793A\u77ED\u7247\u6240\u5C6C\u5DE5\u4F5C\u5BA4\u540D\u7A31"}},"scene_player":{"heading":"\u77ED\u7247\u64AD\u653E\u5668","options":{"auto_start_video":"\u81EA\u52D5\u64AD\u653E"}},"scene_wall":{"heading":"\u77ED\u7247 / \u7AE0\u7BC0\u6A19\u8A18\u9810\u89BD\u7246","options":{"display_title":"\u986F\u793A\u5F71\u7247\u6A19\u984C\u53CA\u6A19\u7C64","toggle_sound":"\u64AD\u653E\u8072\u97F3"}},"slideshow_delay":{"description":"\u5E7B\u71C8\u7247\u529F\u80FD\u50C5\u9069\u7528\u65BC\u300C\u5716\u5EAB\u300D\u7A2E\u985E\u4E0B\u7684\u9810\u89BD\u7246\u6A21\u5F0F","heading":"\u5E7B\u71C8\u7247\u5EF6\u9072"},"title":"\u4F7F\u7528\u8005\u4ECB\u9762","performers":{"options":{"image_location":{"description":"\u81EA\u8A02\u6F14\u54E1\u5716\u50CF\u8DEF\u5F91\uFF0C\u7559\u7A7A\u4EE5\u4F7F\u7528\u5167\u5EFA\u9810\u8A2D\u3002","heading":"\u81EA\u8A02\u6F14\u54E1\u5716\u50CF\u8DEF\u5F91"}}},"funscript_offset":{"description":"\u4E92\u52D5\u5F0F\u8173\u672C\u7684\u6642\u9593\u504F\u79FB\u91CF (\u6BEB\u79D2)\u3002","heading":"Funscript \u504F\u79FB\u91CF (\u6BEB\u79D2)"},"images":{"options":{"write_image_thumbnails":{"heading":"\u5EFA\u7ACB\u5716\u7247\u7E2E\u5716","description":"\u5EFA\u7ACB\u7E2E\u5716\u6642\uFF0C\u5C07\u6A94\u6848\u5BEB\u81F3\u78C1\u789F\u4E2D"}}},"editing":{"heading":"\u7DE8\u8F2F","disable_dropdown_create":{"description":"\u95DC\u9589\u4E0B\u62C9\u9078\u55AE\u5EFA\u7ACB\u7269\u4EF6\u529F\u80FD","heading":"\u95DC\u9589\u4E0B\u62C9\u9078\u55AE\u5EFA\u7ACB"}},"delete_options":{"options":{"delete_file":"\u5C07\u300E\u522A\u9664\u6A94\u6848\u300F\u8A2D\u70BA\u9810\u8A2D\u9078\u9805","delete_generated_supporting_files":"\u5C07\u300E\u522A\u9664\u5DF2\u751F\u6210\u7684\u8CC7\u8A0A\u6A94\u6848\u300F\u8A2D\u70BA\u9810\u8A2D\u9078\u9805"},"description":"\u522A\u9664\u5716\u7247\u3001\u5716\u5EAB\u3001\u53CA\u77ED\u7247\u6642\u7684\u9810\u8A2D\u8A2D\u5B9A","heading":"\u522A\u9664\u9078\u9805"}},"plugins":{"triggers_on":"\u89F8\u767C\u65BC","hooks":"Hooks"}},"configuration":"\u8A2D\u5B9A","countables":{"galleries":"\u5716\u5EAB","images":"\u5716\u7247","markers":"\u7AE0\u7BC0\u6A19\u8A18","movies":"\u96FB\u5F71","performers":"\u6F14\u54E1","scenes":"\u77ED\u7247","studios":"\u5DE5\u4F5C\u5BA4","tags":"\u6A19\u7C64","files":"\u6A94\u6848"},"country":"\u570B\u5BB6","cover_image":"\u5C01\u9762\u5716\u7247","created_at":"\u5EFA\u7ACB\u65BC","criterion_modifier":{"equals":"\u662F","excludes":"\u5C4F\u9664","format_string":"{criterion}{modifierString}{valueString}","greater_than":"\u5927\u65BC","includes":"\u5305\u542B","includes_all":"\u6240\u6709\u5305\u542B","is_null":"\u70BA\u7A7A","less_than":"\u5C0F\u65BC","matches_regex":"\u7B26\u5408\u6B63\u5247\u8868\u9054\u5F0F","not_equals":"\u4E0D\u662F","not_matches_regex":"\u4E0D\u7B26\u5408\u6B63\u5247\u8868\u9054\u5F0F","not_null":"\u4E0D\u70BA\u7A7A","between":"\u8207 ... \u4E4B\u9593","not_between":"\u4E0D\u8207 ... \u4E4B\u9593"},"date":"\u65E5\u671F","death_date":"\u53BB\u4E16\u65E5\u671F","death_year":"\u53BB\u4E16\u5E74\u5206","descending":"\u964D\u5E8F","details":"\u7D30\u7BC0","developmentVersion":"\u958B\u767C\u7248\u672C","dialogs":{"delete_confirm":"\u4F60\u78BA\u5B9A\u8981\u522A\u9664 {entityName} \u55CE\uFF1F","delete_entity_desc":"{count, plural, one {\u4F60\u78BA\u5B9A\u8981\u522A\u9664\u8A72{singularEntity}\u55CE\uFF1F\u9664\u975E\u9023\u540C\u6A94\u6848\u4E00\u8D77\u522A\u9664\uFF0C\u5426\u5247\uFF0C\u4E0B\u6B21\u9032\u884C\u6A94\u6848\u6383\u63CF\u6642\uFF0C\u8A72{singularEntity}\u6703\u88AB\u91CD\u65B0\u52A0\u5230\u8CC7\u6599\u5EAB\u4E2D\u3002} other {\u4F60\u78BA\u5B9A\u8981\u522A\u9664\u9019\u4E9B{pluralEntity}\u55CE\uFF1F\u9664\u975E\u9023\u540C\u6A94\u6848\u4E00\u8D77\u522A\u9664\uFF0C\u5426\u5247\uFF0C\u4E0B\u6B21\u9032\u884C\u6A94\u6848\u6383\u63CF\u6642\uFF0C\u9019\u4E9B{pluralEntity}\u6703\u88AB\u91CD\u65B0\u52A0\u5230\u8CC7\u6599\u5EAB\u4E2D\u3002}}","delete_entity_title":"{count, plural, other {\u522A\u9664{pluralEntity}}}","delete_object_desc":"\u4F60\u78BA\u5B9A\u8981\u522A\u9664{count, plural, =1 {\u9019\u500B{singularEntity}} other {\u9019\u4E9B{pluralEntity}}}\u55CE?","delete_object_overflow":"\u2026\u4EE5\u53CA {count} \u500B\u5176\u4ED6 {count, plural, =1 {{singularEntity}} other {{pluralEntity}}}\u3002","delete_object_title":"\u522A\u9664{count, plural, =1 {{singularEntity}} other {{pluralEntity}}}","edit_entity_title":"\u7DE8\u8F2F{pluralEntity}","export_include_related_objects":"\u532F\u51FA\u6240\u6709\u76F8\u95DC\u7269\u4EF6","export_title":"\u532F\u51FA","scene_gen":{"image_previews":"\u5716\u50CF\u9810\u89BD\uFF08\u52D5\u614B WebP \u9810\u89BD\uFF0C\u50C5\u7576\u9810\u89BD\u985E\u578B\u8A2D\u7F6E\u70BA\u300E\u52D5\u5716\u300F\u6642\u624D\u9700\u8981\uFF09","markers":"\u7AE0\u7BC0\u6A19\u8A18\uFF08\u65BC\u7D66\u5B9A\u6642\u9593\u78BC\u958B\u59CB\u7684 20 \u79D2\u5F71\u7247\uFF09","overwrite":"\u8986\u84CB\u73FE\u6709\u7684\u751F\u6210\u6A94\u6848","phash":"PHash\uFF08\u7528\u65BC\u5075\u6E2C\u91CD\u8907\u7684\u5F71\u7247\u6A94\u6848\u53CA\u8FA8\u8A8D\u77ED\u7247\uFF09","preview_exclude_end_time_desc":"\u5F9E\u5834\u666F\u9810\u89BD\u4E2D\u6392\u9664\u6700\u5F8C x \u79D2\u3002\u9019\u53EF\u4EE5\u662F\u4E00\u500B\u4EE5\u79D2\u70BA\u55AE\u4F4D\u7684\u503C\uFF0C\u4E5F\u53EF\u4EE5\u662F\u6574\u500B\u5834\u666F\u6301\u7E8C\u6642\u9593\u7684\u767E\u5206\u6BD4\uFF08\u4F8B\u5982 2%\uFF09\u3002","preview_exclude_end_time_head":"\u6392\u9664\u7D50\u675F\u6642\u9593","preview_exclude_start_time_desc":"\u5F9E\u5834\u666F\u9810\u89BD\u4E2D\u6392\u9664\u524D x \u79D2\u3002\u9019\u53EF\u4EE5\u662F\u4E00\u500B\u4EE5\u79D2\u70BA\u55AE\u4F4D\u7684\u503C\uFF0C\u4E5F\u53EF\u4EE5\u662F\u6574\u500B\u5834\u666F\u6301\u7E8C\u6642\u9593\u7684\u767E\u5206\u6BD4\uFF08\u4F8B\u5982 2%\uFF09\u3002","preview_exclude_start_time_head":"\u6392\u9664\u958B\u59CB\u6642\u9593","preview_options":"\u9810\u89BD\u9078\u9805","preview_preset_desc":"\u9810\u8A2D\u503C\u6703\u5F71\u97FF\u9810\u89BD\u5F71\u50CF\u7684\u5927\u5C0F\u3001\u54C1\u8CEA\u548C\u7DE8\u78BC\u6642\u9593\u3002\u201Cslow\u201D \u4EE5\u4E0B\u7684\u9810\u8A2D\u503C\u6703\u96A8\u8457\u5C64\u7D1A\u964D\u4F4E\u6574\u9AD4CP\u503C\uFF0C\u4E0D\u63A8\u85A6\u4F7F\u7528\u3002","preview_preset_head":"\u8ABF\u6574\u9810\u8A2D\u503C (Preset)","preview_seg_count_desc":"\u8A2D\u5B9A\u9810\u89BD\u5F71\u7247\u4E2D\u7684\u6BB5\u6578\u3002","preview_seg_count_head":"\u9810\u89BD\u5F71\u7247\u6BB5\u6578","preview_seg_duration_desc":"\u6BCF\u500B\u9810\u89BD\u7247\u6BB5\u7684\u9577\u5EA6\uFF0C\u4EE5\u79D2\u70BA\u55AE\u4F4D\u3002","preview_seg_duration_head":"\u9810\u89BD\u7247\u6BB5\u9577\u5EA6","sprites":"\u6642\u9593\u8EF8\u9810\u89BD\uFF08\u7528\u65BC\u77ED\u7247\u4E2D\u6642\u9593\u8EF8\u7684\u9810\u89BD\u5716\uFF09","transcodes":"\u8F49\u78BC\uFF08\u5C07\u4E0D\u652F\u63F4\u7684\u5F71\u7247\u683C\u5F0F\u8F49\u63DB\u6210 MP4\uFF09","video_previews":"\u5F71\u7247\u9810\u89BD\uFF08\u7576\u6ED1\u9F20\u79FB\u81F3\u4EFB\u4E00\u77ED\u7247\u4E0A\u6642\u6240\u64AD\u653E\u7684\u9810\u89BD\u77ED\u7247\uFF09","marker_image_previews":"\u7AE0\u7BC0\u9810\u89BD\uFF08\u52D5\u614B WebP \u9810\u89BD\uFF0C\u50C5\u7576\u9810\u89BD\u985E\u578B\u8A2D\u7F6E\u70BA\u300E\u52D5\u5716\u300F\u6642\u624D\u9700\u8981\uFF09","marker_screenshots":"\u7AE0\u7BC0\u622A\u5716\uFF08\u975C\u614B JPG \u9810\u89BD\uFF0C\u50C5\u7576\u9810\u89BD\u985E\u578B\u8A2D\u7F6E\u70BA\u300E\u975C\u614B\u300F\u6642\u624D\u9700\u8981\uFF09"},"scrape_entity_title":"{entity_type}\u722C\u53D6\u7D50\u679C","scrape_results_existing":"\u73FE\u6709\u8CC7\u8A0A","scrape_results_scraped":"\u722C\u53D6\u8CC7\u8A0A","set_image_url_title":"\u5716\u7247\u9023\u7D50","unsaved_changes":"\u5C1A\u6709\u672A\u4FDD\u5B58\u7684\u66F4\u6539\u3002\u4F60\u78BA\u5B9A\u8981\u96E2\u958B\u55CE\uFF1F","merge_tags":{"source":"\u4F86\u6E90","destination":"\u76EE\u7684\u5730"},"overwrite_filter_confirm":"\u60A8\u78BA\u5B9A\u8981\u8986\u84CB\u73FE\u6709\u7684\u689D\u4EF6 {entityName} \u55CE\uFF1F","scenes_found":"\u5DF2\u627E\u5230 {count} \u500B\u77ED\u7247","scrape_entity_query":"{entity_type}\u722C\u87F2\u641C\u5C0B","lightbox":{"delay":"\u5EF6\u9072 (\u79D2)","display_mode":{"fit_horizontally":"\u6A6B\u5411\u7F6E\u653E","label":"\u986F\u793A\u6A21\u5F0F","fit_to_screen":"\u9069\u61C9\u87A2\u5E55\u5927\u5C0F","original":"\u539F\u59CB"},"options":"\u9078\u9805","reset_zoom_on_nav":"\u7576\u66F4\u63DB\u5716\u7247\u6642\uFF0C\u91CD\u7F6E\u7E2E\u653E\u5927\u5C0F","scale_up":{"label":"\u7E2E\u653E\u9069\u61C9","description":"\u5C07\u8F03\u5C0F\u7684\u5716\u7247\u653E\u5927\uFF0C\u4EE5\u586B\u6EFF\u6574\u500B\u756B\u9762"},"scroll_mode":{"description":"\u6309\u4F4F Shift \u4EE5\u66AB\u6642\u4F7F\u7528\u5176\u4ED6\u6A21\u5F0F\u3002","pan_y":"Y \u8EF8\u6ED1\u52D5","label":"\u6ED1\u52D5\u6A21\u5F0F","zoom":"\u653E\u5927"}},"aliases_must_be_unique":"\u5225\u540D\u4E0D\u53EF\u91CD\u8907","delete_galleries_extra":"\u2026\u53CA\u5176\u4ED6\u4E0D\u5728\u5716\u5EAB\u5167\u7684\u5716\u7247\u6A94\u6848\u3002","delete_alert":"\u4EE5\u4E0B{count, plural, one {{singularEntity}} other {{pluralEntity}}}\u5C07\u88AB\u6C38\u4E45\u522A\u9664\uFF1A","delete_gallery_files":"\u522A\u9664\u6240\u6709\u4E0D\u5728\u4EFB\u4E00\u5716\u5EAB\u5167\u7684\u5716\u5EAB\u8CC7\u6599\u593E\u3001\u58D3\u7E2E\u6A94\u3001\u53CA\u5716\u6A94"},"dimensions":"\u89E3\u6790\u5EA6","director":"\u5C0E\u6F14","display_mode":{"grid":"\u683C\u72C0\u986F\u793A","list":"\u689D\u5217\u986F\u793A","tagger":"\u6A19\u8A18\u5DE5\u5177","unknown":"\u672A\u77E5","wall":"\u9810\u89BD\u7246\u986F\u793A"},"donate":"\u8D0A\u52A9","dupe_check":{"description":"\u4F4E\u65BC\u201C\u7CBE\u78BA\u201D\u7684\u6E96\u78BA\u5EA6\u53EF\u80FD\u9700\u8981\u66F4\u9577\u7684\u6642\u9593\u4F86\u8A08\u7B97\u3002\u8AA4\u5831\u4E5F\u6BD4\u8F03\u53EF\u80FD\u5728\u8F03\u4F4E\u7684\u6E96\u78BA\u5EA6\u7D1A\u5225\u4E0A\u3002","found_sets":"{setCount, plural, other{\u627E\u5230 # \u7D44\u76F8\u8FD1\u7684\u77ED\u7247\u3002}}","options":{"exact":"\u7CBE\u78BA","high":"\u9AD8","low":"\u4F4E","medium":"\u4E2D"},"search_accuracy_label":"\u641C\u5C0B\u6E96\u78BA\u5EA6","title":"\u76F8\u8FD1\u7684\u77ED\u7247"},"duration":"\u9577\u5EA6","effect_filters":{"aspect":"\u6BD4\u4F8B","blue":"\u85CD","blur":"\u6A21\u7CCA","brightness":"\u4EAE\u5EA6","contrast":"\u5C0D\u6BD4","gamma":"\u4F3D\u746A","green":"\u7DA0","hue":"\u8272\u8ABF","name":"\u5F71\u7247\u6FFE\u93E1","name_transforms":"\u5F71\u7247\u8B8A\u5F62","red":"\u7D05","reset_filters":"\u91CD\u8A2D\u6FFE\u93E1","reset_transforms":"\u91CD\u8A2D\u8B8A\u5F62","rotate":"\u65CB\u8F49","rotate_left_and_scale":"\u5411\u5DE6\u65CB\u8F49 & \u8ABF\u6574\u5927\u5C0F","rotate_right_and_scale":"\u5411\u53F3\u65CB\u8F49 & \u8ABF\u6574\u5927\u5C0F","saturation":"\u98FD\u548C","scale":"\u5927\u5C0F","warmth":"\u6696\u5EA6"},"ethnicity":"\u4EBA\u7A2E","eye_color":"\u773C\u775B\u984F\u8272","fake_tits":"\u5047\u5976","favourite":"\u6536\u85CF","file_info":"\u6A94\u6848\u8CC7\u8A0A","file_mod_time":"\u6A94\u6848\u4FEE\u6539\u65BC","filesize":"\u6A94\u6848\u5927\u5C0F","framerate":"\u5E40\u7387","galleries":"\u5716\u5EAB","gallery":"\u5716\u5EAB","gallery_count":"\u5716\u5EAB\u6578\u91CF","gender":"\u6027\u5225","hair_color":"\u982D\u9AEE\u984F\u8272","hasMarkers":"\u542B\u6709\u7AE0\u7BC0\u6A19\u8A18","height":"\u8EAB\u9AD8","help":"\u8AAA\u660E","image":"\u5716\u7247","image_count":"\u5716\u7247\u6578\u91CF","images":"\u5716\u7247","interactive":"\u4E92\u52D5\u6027\u652F\u63F4","isMissing":"\u7F3A\u5931","library":"\u6536\u85CF\u5EAB","loading":{"generic":"\u8F09\u5165\u4E2D\u2026"},"marker_count":"\u7AE0\u7BC0\u6A19\u8A18\u6578\u91CF","markers":"\u7AE0\u7BC0\u6A19\u8A18","measurements":"\u4E09\u570D","media_info":{"audio_codec":"\u97F3\u6548\u7DE8\u78BC","checksum":"\u6821\u9A57\u503C","downloaded_from":"\u4E0B\u8F09\u65BC","hash":"\u96DC\u6E4A\u503C","performer_card":{"age":"{age} {years_old}","age_context":"\u9019\u9F63\u6232\u88E1\u9762 {age} {years_old}"},"stream":"\u4E32\u6D41\u9023\u7D50","video_codec":"\u5F71\u7247\u7DE8\u78BC","phash":"PHash"},"movie":"\u96FB\u5F71","movie_scene_number":"\u96FB\u5F71\u77ED\u7247\u7DE8\u865F","movies":"\u96FB\u5F71","name":"\u540D\u7A31","new":"\u65B0\u589E","none":"\u7121","o_counter":"\u5C3B\u5C3B\u8A08\u6578","operations":"\u52D5\u4F5C","organized":"\u662F\u5426\u5DF2\u6574\u7406","pagination":{"first":"\u6700\u524D\u4E00\u9801","last":"\u6700\u5F8C\u4E00\u9801","next":"\u4E0B\u4E00\u9801","previous":"\u4E0A\u4E00\u9801"},"parent_studios":"\u6BCD\u5DE5\u4F5C\u5BA4","path":"\u8DEF\u5F91","performer":"\u6F14\u54E1","performer_count":"\u6F14\u54E1\u6578\u91CF","performer_image":"\u6F14\u54E1\u5716\u50CF","performers":"\u6F14\u54E1","performerTags":"\u6F14\u54E1\u6A19\u7C64","piercings":"\u7A7F\u6D1E","queue":"\u4F47\u5217","random":"\u96A8\u6A5F","rating":"\u8A55\u6BD4","resolution":"\u89E3\u6790\u5EA6","scene":"\u77ED\u7247","scene_count":"\u77ED\u7247\u6578\u91CF","scene_id":"\u77ED\u7247 ID","scenes":"\u77ED\u7247","scenes_updated_at":"\u77ED\u7247\u66F4\u65B0\u6642\u9593","sceneTagger":"\u77ED\u7247\u6A19\u7C64\u5668","sceneTags":"\u77ED\u7247\u6A19\u7C64","search_filter":{"add_filter":"\u65B0\u589E\u7BE9\u9078","name":"\u7BE9\u9078","update_filter":"\u66F4\u65B0\u7BE9\u9078","saved_filters":"\u5DF2\u5132\u5B58\u7684\u904E\u6FFE\u689D\u4EF6"},"seconds":"\u79D2","settings":"\u8A2D\u5B9A","status":"\u72C0\u614B\uFF1A{statusText}","studio":"\u5DE5\u4F5C\u5BA4","studio_depth":"\u6DF1\u5EA6 (\u7559\u7A7A\u5247\u7BE9\u9078\u5168\u90E8)","studios":"\u5DE5\u4F5C\u5BA4","synopsis":"\u6982\u8981","tag":"\u6A19\u7C64","tag_count":"\u6A19\u7C64\u6578\u91CF","tags":"\u6A19\u7C64","tattoos":"\u523A\u9752","title":"\u6A19\u984C","toast":{"added_entity":"\u5DF2\u65B0\u589E{singularEntity}","added_generation_job_to_queue":"\u5DF2\u5C07\u300E\u751F\u6210\u4F5C\u696D\u300F\u52A0\u5165\u81F3\u5DE5\u4F5C\u6392\u7A0B","delete_entity":"\u522A\u9664{singularEntity}","delete_past_tense":"\u5DF2\u522A\u9664{singularEntity}","generating_screenshot":"\u7522\u751F\u622A\u5716\u4E2D\u2026","rescanning_entity":"\u91CD\u65B0\u6383\u63CF{singularEntity}\u4E2D\u2026","started_auto_tagging":"\u5DF2\u5C07\u300E\u81EA\u52D5\u5957\u7528\u6A19\u7C64\u300F\u52A0\u5165\u81F3\u5DE5\u4F5C\u6392\u7A0B","updated_entity":"\u5DF2\u66F4\u65B0{entity}","merged_tags":"\u5DF2\u5408\u4F75\u7684\u6A19\u7C64","create_entity":"\u5DF2\u5EFA\u7ACB {entity}","default_filter_set":"\u5DF2\u8A2D\u5B9A\u9810\u8A2D\u904E\u6FFE\u9078\u9805","saved_entity":"\u5DF2\u5132\u5B58 {entity}"},"total":"\u7E3D\u8A08","up-dir":"\u5F80\u4E0A\u4E00\u5C64","updated_at":"\u66F4\u65B0\u65BC","url":"\u9023\u7D50","weight":"\u9AD4\u91CD","years_old":"\u6B72","twitter":"Twitter","stash_id":"Stash ID","instagram":"Instagram","filters":"\u904E\u6FFE\u689D\u4EF6","filter":"\u904E\u6FFE","filter_name":"\u904E\u6FFE\u689D\u4EF6\u540D\u7A31","detail":"\u8A73\u60C5","criterion":{"greater_than":"\u5927\u65BC","less_than":"\u5C0F\u65BC","value":"\u6578\u503C"},"custom":"\u81EA\u8A02","frames_per_second":"{value} \u5E40/\u79D2","megabits_per_second":"{value} megabits/\u79D2","stats":{"image_size":"\u5716\u7247\u5927\u5C0F","scenes_size":"\u77ED\u7247\u5927\u5C0F","scenes_duration":"\u77ED\u7247\u9577\u5EA6"},"metadata":"Metadata","include_sub_studios":"\u5305\u542B\u5B50\u5DE5\u4F5C\u5BA4","include_sub_tags":"\u5305\u542B\u5B50\u6A19\u7C64","parent_tags":"\u6BCD\u6A19\u7C64","sub_tags":"\u5B50\u6A19\u7C64","include_parent_tags":"\u5305\u542B\u6BCD\u6A19\u7C64","parent_tag_count":"\u6BCD\u6A19\u7C64\u6578\u91CF","sub_tag_count":"\u5B50\u6A19\u7C64\u6578\u91CF","parent_of":"{children} \u7684\u6BCD\u7269\u4EF6","sub_tag_of":"{parent} \u7684\u5B50\u6A19\u7C64","part_of":"{parent} \u7684\u4E00\u90E8\u5206","setup":{"github_repository":"GitHub \u7248\u672C\u5EAB","welcome_to_stash":"\u6B61\u8FCE\u4F7F\u7528 Stash","welcome_specific_config":{"config_path":"Stash \u5C07\u4F7F\u7528\u4E0B\u5217\u8A2D\u5B9A\u6A94\u6848\u8DEF\u5F91\uFF1A{path}","next_step":"\u7576\u60A8\u6E96\u5099\u7E7C\u7E8C\u8A2D\u5B9A\u6642\uFF0C\u9EDE\u64CA\u300C\u4E0B\u4E00\u6B65\u300D\u3002","unable_to_locate_specified_config":"\u5982\u679C\u770B\u5230\u6B64\u756B\u9762\u7684\u8A71\uFF0C\u5247\u4EE3\u8868 Stash \u7121\u6CD5\u627E\u5230\u60A8\u5728\u547D\u4EE4\u5217\u6240\u63D0\u4F9B\u7684\u8A2D\u5B9A\u6A94\u8DEF\u5F91\u3002\u672C\u5B89\u88DD\u756B\u9762\u5C07\u5E36\u60A8\u5EFA\u7ACB\u65B0\u7684\u8A2D\u5B9A\u6A94\u6848\u3002"},"welcome":{"unable_to_locate_config":"\u5982\u679C\u770B\u5230\u6B64\u756B\u9762\u7684\u8A71\uFF0C\u5247\u4EE3\u8868 Stash \u7121\u6CD5\u627E\u5230\u5148\u524D\u7684\u8A2D\u5B9A\u6A94\u6848\u3002\u672C\u5B89\u88DD\u756B\u9762\u5C07\u5E36\u60A8\u5EFA\u7ACB\u65B0\u7684\u8A2D\u5B9A\u6A94\u6848\u3002","config_path_logic_explained":"Stash \u65BC\u57F7\u884C\u6642\uFF0C\u6703\u5148\u5728\u57F7\u884C\u76EE\u9304\u4E2D\u627E\u5C0B\u5176\u8A2D\u5B9A\u6A94\u6848 (<code>config.yml</code>)\uFF0C\u7576\u627E\u4E0D\u5230\u6642\uFF0C\u5B83\u5C07\u6703\u518D\u8A66\u8457\u4F7F\u7528 <code>$HOME/.stash/config.yml</code>\uFF08\u65BC Windows \u4E2D\uFF0C\u6B64\u8DEF\u5F91\u70BA <code>%USERPROFILE%\\\\.stash\\\\config.yml</code>\uFF09\u3002\u60A8\u4E5F\u53EF\u5728\u57F7\u884C Stash \u6642\u900F\u904E <code>-c <\u8A2D\u5B9A\u6A94\u8DEF\u5F91></code> \u63D0\u4F9B\u8A2D\u5B9A\u8DEF\u5F91\uFF0C\u6216\u8005 <code>--config <path to config file></code>\u3002","unexpected_explained":"\u5982\u679C\u60A8\u89BA\u5F97\u6B64\u756B\u9762\u4E0D\u61C9\u8A72\u51FA\u73FE\u7684\u8A71\uFF0C\u8ACB\u8A66\u8457\u5728\u6B63\u78BA\u7684 Stash \u8CC7\u6599\u593E\u4E2D\u91CD\u65B0\u555F\u52D5\u672C\u7A0B\u5F0F\uFF0C\u6216\u8005\u5C07\u8A2D\u5B9A\u8DEF\u5F91\u8A2D\u70BA  <code>-c</code>\u3002","next_step":"\u5982\u679C\u60A8\u5DF2\u6E96\u5099\u597D\u7E7C\u7E8C\u5B89\u88DD\u672C\u7A0B\u5F0F\uFF0C\u8ACB\u9078\u64C7\u60A8\u60F3\u8981\u5132\u5B58\u8A2D\u5B9A\u6A94\u6848\u7684\u4F4D\u7F6E\uFF0C\u7136\u5F8C\u9EDE\u64CA\u300C\u4E0B\u4E00\u6B65\u300D\u3002 ","store_stash_config":"\u60A8\u5E0C\u671B\u5728\u54EA\u88E1\u5132\u5B58\u60A8\u7684 Stash \u8A2D\u5B9A\u5462\uFF1F","in_the_current_working_directory":"\u65BC\u76EE\u524D\u7684\u5DE5\u4F5C\u8DEF\u5F91","in_current_stash_directory":"\u65BC <code>$HOME/.stash</code> \u8CC7\u6599\u593E\u4E2D"},"paths":{"set_up_your_paths":"\u8A2D\u7F6E\u4F60\u7684\u8DEF\u5F91","description":"\u63A5\u4E0B\u4F86\uFF0C\u6211\u5011\u9700\u8981\u78BA\u5B9A\u53EF\u4EE5\u5728\u54EA\u88E1\u627E\u5230\u4F60\u7684\u7247\u7247\uFF0C\u5728\u54EA\u88E1\u5132\u5B58\u8CC7\u6599\u5EAB\u53CA\u5176\u751F\u6210\u6A94\u6848\u7B49\u7B49\u3002\u5982\u679C\u9700\u8981\uFF0C\u60A8\u7A0D\u5F8C\u53EF\u4EE5\u518D\u66F4\u6539\u9019\u4E9B\u8A2D\u5B9A\u3002","where_is_your_porn_located":"\u4F60\u7684\u7247\u7247\u90FD\u85CF\u54EA\uFF1F","where_is_your_porn_located_description":"\u5728\u6B64\u9078\u64C7\u4F60A\u7247\u53CA\u5716\u7247\u7684\u8CC7\u6599\u593E\uFF0CStash \u5C07\u5728\u6383\u63CF\u5F71\u7247\u53CA\u5716\u7247\u6642\u4F7F\u7528\u9019\u4E9B\u8DEF\u5F91\u3002","where_can_stash_store_its_database":"Stash \u53EF\u4EE5\u5728\u54EA\u88E1\u5132\u5B58\u8CC7\u6599\u5EAB\uFF1F","where_can_stash_store_its_database_description":"Stash \u4F7F\u7528 SQLite \u6578\u64DA\u5EAB\u4F86\u5132\u5B58\u60A8\u7247\u7247\u7684\u8CC7\u6599\u3002\u9810\u8A2D\u60C5\u6CC1\u4E0B\uFF0CStash \u5C07\u5728\u60A8\u7684\u8A2D\u5B9A\u6A94\u8DEF\u5F91\u4E0B\u4EE5 <code>stash-go.sqlite</code> \u9019\u500B\u6A94\u6848\u4F86\u5132\u5B58\u672C\u8CC7\u6599\u5EAB\u5167\u5BB9\u3002\u5982\u679C\u60A8\u60F3\u8981\u66F4\u6539\u6B64\u8A2D\u5B9A\uFF0C\u8ACB\u5728\u6B64\u8F38\u5165\u60A8\u6240\u60F3\u8981\u7684\u7D55\u5C0D\u6216\u76F8\u5C0D\u8DEF\u5F91\uFF08\u76F8\u5C0D\u65BC\u7576\u524D\u5DE5\u4F5C\u76EE\u9304\uFF09\u3002","database_filename_empty_for_default":"\u8CC7\u6599\u5EAB\u6A94\u6848\u540D\u7A31\uFF08\u7559\u7A7A\u4EE5\u4F7F\u7528\u9810\u8A2D\uFF09","where_can_stash_store_its_generated_content":"Stash \u53EF\u4EE5\u5728\u54EA\u88E1\u5132\u5B58\u5176\u751F\u6210\u5167\u5BB9\uFF1F","where_can_stash_store_its_generated_content_description":"\u70BA\u63D0\u4F9B\u7E2E\u7565\u5716\u3001\u9810\u89BD\u548C\u5176\u4ED6\u9810\u89BD\u8CC7\u6599\uFF0CStash \u5C07\u81EA\u52D5\u751F\u6210\u5716\u7247\u548C\u5F71\u7247\u8CC7\u8A0A\u3002\u9019\u5305\u62EC\u4E0D\u652F\u63F4\u7684\u6A94\u6848\u683C\u5F0F\u4E4B\u8F49\u78BC\u3002\u9810\u8A2D\u60C5\u6CC1\u4E0B\uFF0CStash \u5C07\u5728\u5305\u542B\u60A8\u8A2D\u5B9A\u6A94\u6848\u7684\u8CC7\u6599\u593E\u4E2D\u5EFA\u7ACB\u4E00\u500B\u65B0\u7684 <code>generated</code> \u8CC7\u6599\u593E\u3002\u5982\u679C\u8981\u66F4\u6539\u6B64\u751F\u6210\u5A92\u9AD4\u7684\u5132\u5B58\u4F4D\u7F6E\uFF0C\u8ACB\u5728\u6B64\u8F38\u5165\u7D55\u5C0D\u6216\u76F8\u5C0D\u8DEF\u5F91\uFF08\u76F8\u5C0D\u65BC\u7576\u524D\u5DE5\u4F5C\u76EE\u9304\uFF09\u3002\u5982\u679C\u8A72\u8CC7\u6599\u593E\u4E0D\u5B58\u5728\uFF0CStash \u5C07\u81EA\u52D5\u5EFA\u7ACB\u6B64\u76EE\u9304\u3002","path_to_generated_directory_empty_for_default":"\u751F\u6210\u5A92\u9AD4\u8CC7\u6599\u593E\u8DEF\u5F91\uFF08\u7559\u7A7A\u4EE5\u4F7F\u7528\u9810\u8A2D\uFF09"},"confirm":{"almost_ready":"\u6211\u5011\u5FEB\u8981\u8A2D\u5B9A\u5B8C\u4E86\uFF0C\u8ACB\u78BA\u8A8D\u4EE5\u4E0B\u8A2D\u5B9A\u662F\u5426\u6B63\u78BA\u3002\u82E5\u6709\u4EFB\u4F55\u4E0D\u6B63\u78BA\u7684\u5167\u5BB9\uFF0C\u60A8\u53EF\u4EE5\u56DE\u4E0A\u4E00\u6B65\u9032\u884C\u4FEE\u6539\u3002\u82E5\u4E00\u5207\u770B\u8D77\u4F86\u6B63\u78BA\uFF0C\u8ACB\u9EDE\u9078\u4E0B\u65B9\u7684\u300C\u78BA\u8A8D\u300D\u6309\u9215\u4EE5\u5B8C\u6210\u8A2D\u5B9A\u3002","nearly_there":"\u5FEB\u597D\u4E86\uFF01","configuration_file_location":"\u8A2D\u5B9A\u6A94\u6848\u8DEF\u5F91\uFF1A","database_file_path":"\u8CC7\u6599\u5EAB\u6A94\u6848\u8DEF\u5F91","generated_directory":"\u751F\u6210\u5A92\u9AD4\u8DEF\u5F91","stash_library_directories":"Stash \u591A\u5A92\u9AD4\u6A94\u6848\u8DEF\u5F91","default_db_location":"<\u8A2D\u5B9A\u6A94\u6848\u4F4D\u7F6E>/stash-go.sqlite","default_generated_content_location":"<\u8A2D\u5B9A\u6A94\u6848\u4F4D\u7F6E>/generated"},"errors":{"something_went_wrong":"\u5662\u4E0D\uFF01\u597D\u50CF\u51FA\u4E86\u4E9B\u554F\u984C\uFF01","something_went_wrong_while_setting_up_your_system":"\u8A2D\u5B9A\u7CFB\u7D71\u6642\u51FA\u4E86\u4E9B\u554F\u984C\u3002\u4EE5\u4E0B\u662F\u6211\u5011\u6536\u5230\u7684\u932F\u8AA4\uFF1A{error}","something_went_wrong_description":"\u5982\u679C\u60A8\u6240\u8F38\u5165\u7684\u8CC7\u6599\u770B\u8D77\u4F86\u6709\u554F\u984C\uFF0C\u8ACB\u9EDE\u9078\u4E0A\u4E00\u6B65\u8FD4\u56DE\u4EE5\u66F4\u6B63\u60A8\u7684\u8CC7\u6599\u3002\u5426\u5247\uFF0C\u8ACB\u5728 {githubLink} \u4E0A\u63D0\u51FA\u932F\u8AA4\u6216\u5728 {discordLink} \u4E2D\u5C0B\u6C42\u5E6B\u52A9\u3002"},"success":{"your_system_has_been_created":"\u6210\u529F\uFF01\u60A8\u7684\u7CFB\u7D71\u5DF2\u5B8C\u6210\u5B89\u88DD\uFF01","next_config_step_one":"\u63A5\u4E0B\u4F86\u60A8\u5C07\u88AB\u5E36\u5230\u8A2D\u5B9A\u9801\u9762\u3002\u6B64\u9801\u9762\u5C07\u5141\u8A31\u60A8\u81EA\u8A02\u8981\u5305\u542B\u548C\u6392\u9664\u7684\u6587\u4EF6\uFF0C\u8A2D\u5B9A\u7528\u6236\u540D\u548C\u5BC6\u78BC\u4EE5\u4FDD\u8B77\u60A8\u7684\u7CFB\u7D71\uFF0C\u4EE5\u53CA\u4E00\u5927\u5806\u5176\u4ED6\u9078\u9805\u3002","next_config_step_two":"\u7576\u60A8\u5C0D\u9019\u4E9B\u8A2D\u5B9A\u611F\u5230\u6EFF\u610F\u6642\uFF0C\u60A8\u53EF\u4EE5\u9EDE\u9078 <code>{localized_task}</code> \u958B\u59CB\u5C07\u60A8\u7684\u5167\u5BB9\u6383\u63CF\u5230 Stash\uFF0C\u7136\u5F8C\u9EDE\u64CA <code>{localized_scan}</code>\u3002","thanks_for_trying_stash":"\u611F\u8B1D\u60A8\u4F7F\u7528 Stash\uFF01","welcome_contrib":"\u6211\u5011\u4E5F\u6B61\u8FCE\u4EE5\u7A0B\u5F0F\u78BC\uFF08\u932F\u8AA4\u4FEE\u5FA9\u3001\u6539\u9032\u548C\u65B0\u529F\u80FD\u5BE6\u4F5C\uFF09\u3001\u6E2C\u8A66\u3001\u932F\u8AA4\u5831\u544A\u3001\u6539\u9032\u548C\u529F\u80FD\u8ACB\u6C42\u4EE5\u53CA\u7528\u6236\u652F\u63F4\u7684\u5F62\u5F0F\u505A\u51FA\u8CA2\u737B\u3002\u8A73\u60C5\u8ACB\u898B\u7A0B\u5F0F\u5167\u8AAA\u660E\u7684 Contribution\uFF08\u8CA2\u737B\uFF09\u9801\u9762\u3002","getting_help":"\u5C0B\u6C42\u5354\u52A9","in_app_manual_explained":"\u6211\u5011\u9F13\u52F5\u60A8\u67E5\u770B\u672C\u7A0B\u5F0F\u5167\u5EFA\u7684\u8AAA\u660E\u624B\u518A\uFF0C\u60A8\u53EF\u5728\u672C\u7A0B\u5F0F\u7684\u53F3\u4E0A\u89D2\u7684\u5716\u6848\u4E2D\u958B\u555F\u6B64\u624B\u518A\uFF0C\u6B64\u5716\u6848\u5982\u4E0B\uFF1A{icon}","help_links":"\u5982\u679C\u60A8\u6709\u4EFB\u4F55\u554F\u984C\u6216\u5EFA\u8B70\uFF0C\u8ACB\u96A8\u6642\u5728 {githubLink} \u4E2D\u5EFA\u7ACB\u65B0\u7684\u8B70\u984C\uFF08Issue\uFF09\uFF0C\u6216\u5728 {discordLink} \u4E2D\u8A62\u6C42\u5354\u52A9\u3002","open_collective":"\u60A8\u53EF\u67E5\u770B\u6211\u5011\u7684 {open_collective_link}\uFF0C\u4E86\u89E3\u60A8\u53EF\u4EE5\u5982\u4F55\u70BA Stash \u7684\u6301\u7E8C\u767C\u5C55\u505A\u51FA\u8CA2\u737B\u3002","support_us":"\u652F\u6301\u6211\u5011"},"creating":{"creating_your_system":"\u5EFA\u7ACB\u7CFB\u7D71\u4E2D","ffmpeg_notice":"\u5982\u679C <code>ffmpeg</code> \u5C1A\u672A\u5728\u60A8\u7684\u5168\u57DF\u8DEF\u5F91\u4E2D\uFF0C\u8ACB\u8010\u5FC3\u7B49\u5F85 Stash \u9032\u884C\u5176\u4E0B\u8F09\u3002\u60A8\u53EF\u5728\u547D\u4EE4\u63D0\u793A\u5B57\u5143\u4E2D\u67E5\u770B\u4E0B\u8F09\u9032\u5EA6\u3002"},"stash_setup_wizard":"Stash \u5B89\u88DD\u7CBE\u9748","migrate":{"migrating_database":"\u9077\u79FB\u8CC7\u6599\u5EAB\u4E2D","migration_failed":"\u9077\u79FB\u5931\u6557","migration_failed_help":"\u8ACB\u9032\u884C\u6240\u9700\u7684\u66F4\u6B63\u4E26\u91CD\u8A66\u3002\u5426\u5247\uFF0C\u8ACB\u5728 {githubLink} \u4E0A\u63D0\u51FA\u554F\u984C\u6216\u5728 {discordLink} \u4E2D\u5C0B\u6C42\u5354\u52A9\u3002","migration_failed_error":"\u9077\u79FB\u8CC7\u6599\u5EAB\u6642\u9047\u5230\u4EE5\u4E0B\u932F\u8AA4\uFF1A","migration_required":"\u9077\u79FB\u9808\u77E5","schema_too_old":"\u60A8\u7576\u524D\u7684\u8CC7\u6599\u5EAB\u7248\u672C\u70BA {databaseSchema}\uFF0C\u9700\u8981\u9077\u79FB\u81F3\u7248\u672C {appSchema}\u3002\u5982\u679C\u4E0D\u9032\u884C\u8CC7\u6599\u5EAB\u9077\u79FB\uFF0C\u6B64\u7248\u672C\u7684 Stash \u5C07\u7121\u6CD5\u904B\u884C\u3002","migration_irreversible_warning":"\u67B6\u69CB\u9077\u79FB\u662F\u4E0D\u53EF\u9006\u7684\u904E\u7A0B\u3002\u9077\u79FB\u5F8C\uFF0C\u60A8\u7684\u8CC7\u6599\u5EAB\u5C07\u7121\u6CD5\u8207\u5148\u524D\u7684 Stash \u7248\u672C\u76F8\u5BB9\u3002","backup_recommended":"\u5EFA\u8B70\u60A8\u5728\u9077\u79FB\u4E4B\u524D\u5099\u4EFD\u73FE\u6709\u8CC7\u6599\u5EAB\u6A94\u6848\u3002\u5982\u679C\u9700\u8981\uFF0C\u6211\u5011\u53EF\u4EE5\u66FF\u60A8\u5B8C\u6210\u6B64\u64CD\u4F5C\uFF0C\u4E26\u5C07\u60A8\u7684\u5099\u4EFD\u8907\u88FD\u5230 <code>{defaultBackupPath}</code>\u3002","backup_database_path_leave_empty_to_disable_backup":"\u5099\u4EFD\u8CC7\u6599\u5EAB\u8DEF\u5F91\uFF08\u7559\u7A7A\u4EE5\u95DC\u9589\u5099\u4EFD\uFF09\uFF1A","perform_schema_migration":"\u57F7\u884C\u67B6\u69CB\u9077\u79FB"}},"all":"\u6240\u6709","false":"\u5426","true":"\u662F","stash_ids":"Stash IDs","file":"\u6A94\u6848","files":"\u6A94\u6848"}')},399:function(vt){vt.exports=JSON.parse('{"actions":{"add":"\u6DFB\u52A0","add_directory":"\u6DFB\u52A0\u76EE\u5F55","add_entity":"\u6DFB\u52A0 {entityType}","add_to_entity":"\u6DFB\u52A0\u5230 {entityType}","allow":"\u5141\u8BB8","allow_temporarily":"\u6682\u65F6\u5141\u8BB8","apply":"\u5E94\u7528","auto_tag":"\u81EA\u52A8\u6DFB\u52A0\u6807\u7B7E","backup":"\u5907\u4EFD","cancel":"\u53D6\u6D88","clean":"\u6E05\u9664","clear_back_image":"\u6E05\u9664\u80CC\u666F\u56FE\u7247","clear_front_image":"\u6E05\u9664\u6B63\u9762\u56FE\u7247","clear_image":"\u6E05\u9664\u56FE\u7247","close":"\u5173\u95ED","create":"\u521B\u5EFA","create_entity":"\u521B\u5EFA {entityType}","create_marker":"\u521B\u5EFA\u6807\u8BB0","created_entity":"\u5DF2\u7ECF\u521B\u5EFA {entity_type}: {entity_name}","delete":"\u5220\u9664","delete_entity":"\u5220\u9664 {entityType}","delete_file":"\u5220\u9664\u6587\u4EF6","delete_generated_supporting_files":"\u5220\u9664\u5DF2\u7ECF\u751F\u6210\u7684\u652F\u6301\u6587\u4EF6","disallow":"\u4E0D\u5141\u8BB8","download":"\u4E0B\u8F7D","download_backup":"\u5BFC\u51FA\u5907\u4EFD","edit":"\u7F16\u8F91","export":"\u5BFC\u51FA...","export_all":"\u5BFC\u51FA\u6240\u6709...","find":"\u641C\u7D22","from_file":"\u4ECE\u6587\u4EF6...","from_url":"\u4ECE\u7F51\u5740...","full_export":"\u5B8C\u6574\u5BFC\u51FA","full_import":"\u5B8C\u6574\u5BFC\u5165","generate":"\u751F\u6210","generate_thumb_default":"\u751F\u6210\u9ED8\u8BA4\u9884\u89C8\u56FE","generate_thumb_from_current":"\u4ECE\u73B0\u5728\u7684\u753B\u9762\u751F\u6210\u9884\u89C8\u56FE","hash_migration":"\u91CD\u65B0\u751F\u6210hash\u503C","hide":"\u9690\u85CF","import":"\u5BFC\u5165...","import_from_file":"\u4ECE\u6587\u4EF6\u5BFC\u5165","merge":"\u5408\u5E76","merge_from":"\u5408\u5E76\u6E90","merge_into":"\u5408\u5E76\u5165","not_running":"\u672A\u8FD0\u884C","overwrite":"\u8986\u76D6","play_random":"\u968F\u673A\u64AD\u653E","play_selected":"\u64AD\u653E\u5DF2\u9009\u62E9\u7684","preview":"\u9884\u89C8","refresh":"\u5237\u65B0","reload_plugins":"\u91CD\u65B0\u52A0\u8F7D\u63D2\u4EF6","reload_scrapers":"\u91CD\u65B0\u52A0\u8F7D\u722C\u866B","remove":"\u79FB\u9664","rename_gen_files":"\u91CD\u547D\u540D\u751F\u6210\u7684\u6587\u4EF6","rescan":"\u91CD\u65B0\u626B\u63CF","reshuffle":"\u91CD\u65B0\u6392\u5217","running":"\u8FD0\u884C\u4E2D","save":"\u4FDD\u5B58","save_filter":"\u4FDD\u5B58\u8FC7\u6EE4\u6761\u4EF6","scan":"\u626B\u63CF","scrape_with":"\u4F7F\u7528\u722C\u866B...","search":"\u641C\u7D22","select_all":"\u9009\u62E9\u6240\u6709","select_none":"\u6E05\u9664\u9009\u62E9","selective_auto_tag":"\u9009\u62E9\u6027\u81EA\u52A8\u751F\u6210\u6807\u7B7E","selective_scan":"\u9009\u62E9\u6027\u626B\u63CF","set_as_default":"\u8BBE\u7F6E\u4E3A\u9ED8\u8BA4","set_back_image":"\u8BBE\u7F6E\u80CC\u666F\u56FE...","set_front_image":"\u8BBE\u7F6E\u6B63\u9762\u56FE...","set_image":"\u8BBE\u7F6E\u56FE\u7247...","show":"\u5C55\u793A","skip":"\u8DF3\u8FC7","tasks":{"clean_confirm_message":"\u786E\u5B9A\u8981\u6E05\u9664\u5417\uFF1F \u8FD9\u5C06\u5220\u9664\u7CFB\u7EDF\u4E2D\u4E0D\u5B58\u5728\u7684\u6240\u6709\u77ED\u7247\u548C\u56FE\u5E93\u7684\u6570\u636E\u5E93\u4FE1\u606F\u548C\u5DF2\u7ECF\u751F\u6210\u7684\u5185\u5BB9\u3002","dry_mode_selected":"\u5DF2\u7ECF\u9009\u62E9\u4E86\u6A21\u62DF\u5220\u9664\u6A21\u5F0F\u3002\u4E0D\u4F1A\u5B9E\u9645\u5220\u9664\u6587\u4EF6\uFF0C\u53EA\u4F1A\u8FDB\u884C\u6A21\u62DF\u5220\u9664\u3002","import_warning":"\u786E\u5B9A\u8981\u5BFC\u5165\u5417\uFF1F \u8FD9\u5C06\u5220\u9664\u73B0\u6709\u6570\u636E\u5E93\u5E76\u4ECE\u5BFC\u51FA\u7684\u5143\u6570\u636E\u4E2D\u91CD\u65B0\u5BFC\u5165\u3002"},"temp_disable":"\u6682\u65F6\u5173\u95ED...","temp_enable":"\u6682\u65F6\u542F\u7528...","view_random":"\u968F\u673A\u67E5\u770B","confirm":"\u786E\u8BA4","select_folders":"\u9009\u62E9\u76EE\u5F55","browse_for_image":"\u6D4F\u89C8\u56FE\u7247\u2026","open_random":"\u5F00\u542F\u968F\u673A"},"actions_name":"\u64CD\u4F5C","age":"\u5E74\u9F84","aliases":"\u522B\u540D","also_known_as":"\u53C8\u79F0\u4F5C","ascending":"\u5347\u5E8F","average_resolution":"\u5E73\u5747\u65F6\u957F","birth_year":"\u51FA\u751F\u5E74\u4EFD","birthdate":"\u51FA\u751F\u65E5\u671F","bitrate":"\u6BD4\u7279\u7387","career_length":"\u6D3B\u8DC3\u5E74\u4EE3","subsidiary_studios":"\u5B50\u5DE5\u4F5C\u5BA4","component_tagger":{"config":{"active_instance":"\u76EE\u524D\u4F7F\u7528\u7684 Stash-box\uFF1A","blacklist_desc":"\u4ECE\u67E5\u8BE2\u4E2D\u6392\u9664\u9ED1\u540D\u5355\u9879\u76EE\u3002 \u8BF7\u6CE8\u610F\uFF0C\u5B83\u4EEC\u662F\u6B63\u5219\u8868\u8FBE\u5F0F\u5E76\u4E14\u4E0D\u533A\u5206\u5927\u5C0F\u5199\u3002 \u67D0\u4E9B\u5B57\u7B26\u5FC5\u987B\u7528\u53CD\u659C\u6760\u8F6C\u4E49: {chars_require_escape}","blacklist_label":"\u9ED1\u540D\u5355","query_mode_auto":"\u81EA\u52A8","query_mode_auto_desc":"\u4F18\u5148\u4F7F\u7528\u5143\u6570\u636E\u6216\u6587\u4EF6\u540D","query_mode_dir":"\u76EE\u5F55\u540D","query_mode_dir_desc":"\u4EC5\u4F7F\u7528\u6587\u4EF6\u6240\u5728\u7684\u76EE\u5F55\u540D\u79F0","query_mode_filename":"\u6587\u4EF6\u540D","query_mode_filename_desc":"\u4EC5\u4F7F\u7528\u6587\u4EF6\u540D","query_mode_label":"\u67E5\u8BE2\u65B9\u5F0F","query_mode_metadata":"\u5143\u6570\u636E","query_mode_metadata_desc":"\u4EC5\u4F7F\u7528\u5143\u6570\u636E","query_mode_path":"\u8DEF\u5F84","query_mode_path_desc":"\u4F7F\u7528\u6587\u4EF6\u5B8C\u6574\u8DEF\u5F84","set_cover_desc":"\u53D1\u73B0\u77ED\u7247\u7684\u5C01\u9762\u65F6\u4F7F\u7528\u8BE5\u5C01\u9762","set_cover_label":"\u8BBE\u7F6E\u77ED\u7247\u5C01\u9762","set_tag_desc":"\u901A\u8FC7\u8986\u76D6\u6216\u4E0E\u77ED\u7247\u4E2D\u7684\u73B0\u6709\u6807\u7B7E\u5408\u5E76\uFF0C\u5C06\u6807\u7B7E\u9644\u52A0\u5230\u77ED\u7247\u3002","set_tag_label":"\u8BBE\u7F6E\u6807\u7B7E","show_male_desc":"\u9009\u62E9\u641C\u7D22\u65F6\u662F\u5426\u83B7\u53D6\u7537\u6F14\u5458\u4FE1\u606F","show_male_label":"\u5C55\u793A\u7537\u6F14\u5458\u6807\u7B7E"},"noun_query":"\u5173\u952E\u5B57","results":{"fp_found":"{fpCount, plural, =0 {\u6CA1\u6709\u65B0\u7684\u5339\u914D\u6307\u7EB9} other {# \u5339\u914D\u5230\u65B0\u7684\u6307\u7EB9}}","fp_matches":"\u65F6\u957F\u7B26\u5408","fp_matches_multi":"\u65F6\u957F\u7B26\u5408 {matchCount}/{durationsLength} \u4E2A\u6307\u7EB9","hash_matches":"{hash_type} \u7B26\u5408\u7684\u503C","match_failed_already_tagged":"\u77ED\u7247\u5DF2\u7ECF\u6DFB\u52A0\u6807\u7B7E","match_failed_no_result":"\u6CA1\u6709\u627E\u5230","match_success":"\u77ED\u7247\u6210\u529F\u6DFB\u52A0\u6807\u7B7E","duration_off":"\u65F6\u957F\u81F3\u5C11 {number}s \u622A\u6B62","duration_unknown":"\u957F\u5EA6\u672A\u77E5"},"verb_match_fp":"\u5339\u914D\u6307\u7EB9","verb_matched":"\u7B26\u5408","verb_submit_fp":"\u63D0\u4EA4 {fpCount, plural, one{# \u6307\u7EB9} other{# \u6307\u7EB9}}","verb_toggle_config":"{toggle} {configuration}","verb_toggle_unmatched":"{toggle} \u672A\u5339\u914D\u7684\u77ED\u7247"},"config":{"about":{"build_hash":"\u7248\u672CHash:","build_time":"\u7F16\u8BD1\u65F6\u95F4:","check_for_new_version":"\u68C0\u67E5\u65B0\u7248\u672C","latest_version_build_hash":"\u6700\u65B0\u7248\u672CHash:","new_version_notice":"[\u65B0\u7248\u672C]","stash_discord":"\u52A0\u5165\u6211\u4EEC\u7684 {url} \u9891\u9053","stash_home":"Stash \u4E3B\u9875\u5728 {url}","stash_open_collective":"\u901A\u8FC7 {url} \u652F\u6301\u6211\u4EEC","stash_wiki":"Stash {url} \u9875\u9762","version":"\u7248\u672C"},"categories":{"about":"\u5173\u4E8E","interface":"\u754C\u9762","logs":"\u65E5\u5FD7","plugins":"\u63D2\u4EF6","scraping":"\u722C\u866B","tasks":"\u4EFB\u52A1","tools":"\u5DE5\u5177"},"dlna":{"allow_temp_ip":"\u5141\u8BB8 {tempIP}","allowed_ip_addresses":"\u5DF2\u7ECF\u5141\u8BB8\u7684 IP \u5730\u5740","default_ip_whitelist":"\u9ED8\u8BA4 IP \u767D\u540D\u5355","default_ip_whitelist_desc":"\u9ED8\u8BA4IP\u5730\u5740\u5141\u8BB8\u8FDE\u63A5\u5230DLNA\uFF0C\u4F7F\u7528 {wildcard} \u4EE5\u5141\u8BB8\u6240\u6709IP\u5730\u5740\u8FDE\u63A5\u3002","enabled_by_default":"\u9ED8\u8BA4\u542F\u7528","network_interfaces":"\u7F51\u7EDC\u63A5\u53E3","network_interfaces_desc":"\u9009\u62E9\u8981\u5728\u54EA\u4E2A\u63A5\u53E3\u4E0A\u66B4\u9732 DLNA \u670D\u52A1\uFF0C\u5982\u679C\u4E3A\u7A7A\uFF0C\u5219\u8868\u793A\u6240\u6709\u63A5\u53E3\u90FD\u53EF\u7528\uFF0C\u66F4\u6539\u4E4B\u540E\u9700\u8981\u91CD\u542F\u3002","recent_ip_addresses":"\u6700\u8FD1\u8FDE\u63A5\u7684IP\u5730\u5740","server_display_name":"\u670D\u52A1\u5668\u540D\u79F0","server_display_name_desc":"DLAN\u670D\u52A1\u5668\u7684\u540D\u79F0\u3002\u5982\u679C\u4E3A\u7A7A\uFF0C\u5219\u9ED8\u8BA4\u4E3A {server_name}\u3002","until_restart":"\u76F4\u5230\u670D\u52A1\u91CD\u542F"},"general":{"auth":{"api_key":"API \u5BC6\u94A5","api_key_desc":"\u5916\u90E8\u7CFB\u7EDF\u4F7F\u7528\u7684 API \u5BC6\u94A5\uFF0C\u53EA\u6709\u5728\u8BBE\u7F6E\u4E86\u7528\u6237\u540D\u548C\u5BC6\u7801\u4E4B\u540E\u624D\u80FD\u8BBE\u7F6E\u3002\u5728\u751F\u6210\u4E4B\u524D\u5FC5\u987B\u5148\u8BBE\u7F6E\u7528\u6237\u540D\u3002","authentication":"\u8BA4\u8BC1\u8BBE\u7F6E","clear_api_key":"\u6E05\u9664 API \u5BC6\u94A5","generate_api_key":"\u751F\u6210 API \u5BC6\u94A5","log_file":"\u65E5\u5FD7\u6587\u4EF6","log_file_desc":"\u65E5\u5FD7\u6587\u4EF6\u7684\u8DEF\u5F84\uFF0C\u5982\u679C\u4E3A\u7A7A\u5219\u8868\u793A\u5173\u95ED\u65E5\u5FD7\u8BB0\u5F55\u3002\u66F4\u6539\u4E4B\u540E\u9700\u8981\u91CD\u542F\u3002","log_http":"\u8BB0\u5F55 HTTP \u8BBF\u95EE\u65E5\u5FD7","log_http_desc":"\u8F93\u51FA HTTP \u8BBF\u95EE\u65E5\u5FD7\u5230\u7EC8\u7AEF\uFF0C\u66F4\u6539\u4E4B\u540E\u9700\u8981\u91CD\u542F\u3002","log_to_terminal":"\u8F93\u51FA\u65E5\u5FD7\u5230\u7EC8\u7AEF","log_to_terminal_desc":"\u65E5\u5FD7\u9664\u4E86\u8F93\u51FA\u5230\u6587\u4EF6\u5916\u8FD8\u8F93\u51FA\u5230\u7EC8\u7AEF\uFF0C\u5982\u679C\u5173\u95ED\u65E5\u5FD7\u8BB0\u5F55\u5219\u59CB\u7EC8\u5F00\u542F\u3002\u66F4\u6539\u4E4B\u540E\u9700\u8981\u91CD\u542F\u3002","maximum_session_age":"\u6700\u5927\u4F1A\u8BDD\u6709\u6548\u671F","maximum_session_age_desc":"\u65E0\u64CD\u4F5C\u591A\u4E45\u540E\u767B\u51FA, \u5355\u4F4D\u4E3A\u79D2\u3002","password":"\u5BC6\u7801","password_desc":"\u767B\u5F55 Stash \u65F6\u6240\u9700\u7684\u5BC6\u7801\uFF0C\u7559\u7A7A\u8868\u793A\u5173\u95ED\u8EAB\u4EFD\u9A8C\u8BC1\u3002","stash-box_integration":"\u6574\u5408 Stash-box","username":"\u7528\u6237\u540D","username_desc":"\u767B\u5F55 Stash \u65F6\u6240\u9700\u7684\u7528\u6237\u540D\uFF0C\u7559\u7A7A\u8868\u793A\u5173\u95ED\u8EAB\u4EFD\u9A8C\u8BC1\u3002"},"cache_location":"\u7F13\u5B58\u76EE\u5F55\u7684\u4F4D\u7F6E","cache_path_head":"\u7F13\u5B58\u8DEF\u5F84","calculate_md5_and_ohash_desc":"\u9664\u4E86 oshash \u5916\u8FD8\u8BA1\u7B97 MD5 \u503C\u3002\u5982\u679C\u5F00\u542F\uFF0C\u521D\u6B21\u626B\u63CF\u65F6\u901F\u5EA6\u4F1A\u8F83\u6162\u3002\u5982\u679C\u5173\u95ED MD5 \u503C\u8BA1\u7B97\uFF0C\u5219\u5FC5\u987B\u5C06\u6587\u4EF6\u540Dhash\u7B97\u6CD5\u8BBE\u7F6E\u4E3A oshash\u3002","calculate_md5_and_ohash_label":"\u8BA1\u7B97\u5F71\u7247 MD5","check_for_insecure_certificates":"\u68C0\u67E5\u8BC1\u4E66\u5B89\u5168\u6027","check_for_insecure_certificates_desc":"\u67D0\u4E9B\u7F51\u7AD9\u6240\u4F7F\u7528\u7684\u8BC1\u4E66\u53EF\u80FD\u6709\u5B89\u5168\u95EE\u9898\u3002\u53D6\u6D88\u52FE\u9009\u4E4B\u540E\u722C\u866B\u4F1A\u8DF3\u8FC7\u8BC1\u4E66\u5B89\u5168\u6027\u68C0\u67E5\uFF0C\u5982\u679C\u4F60\u9047\u5230\u4E86\u8BC1\u4E66\u9519\u8BEF\u7684\u95EE\u9898\uFF0C\u53EF\u4EE5\u53D6\u6D88\u6B64\u9009\u9879\u3002","chrome_cdp_path":"Chrome CDP \u8DEF\u5F84","chrome_cdp_path_desc":"Chrome \u53EF\u6267\u884C\u6587\u4EF6\u7684\u8DEF\u5F84, \u6216\u8005\u8FDC\u7AEF\u5730\u5740 (\u4EE5 http:// \u6216 https:// \u5F00\u5934, \u6BD4\u5982 http://localhost:9222/json/version)\u3002","create_galleries_from_folders_desc":"\u5982\u679C\u52FE\u9009\uFF0C\u5219\u4F1A\u4ECE\u5305\u542B\u56FE\u7247\u7684\u6587\u4EF6\u5939\u5EFA\u7ACB\u56FE\u5E93\u3002","create_galleries_from_folders_label":"\u4ECE\u5305\u542B\u56FE\u7247\u7684\u6587\u4EF6\u5939\u5EFA\u7ACB\u56FE\u5E93","db_path_head":"Stash\u6570\u636E\u5B58\u50A8\u8DEF\u5F84","directory_locations_to_your_content":"\u5F71\u7247\u7B49\u4FE1\u606F\u7684\u8DEF\u5F84","exclude_image":"\u6392\u9664\u56FE\u7247","exclude_video":"\u6392\u9664\u89C6\u9891","excluded_image_gallery_patterns_desc":"\u8981\u4ECE\u626B\u63CF\u4E2D\u6392\u9664\u5E76\u4F1A\u88AB[\u6E05\u9664]\u529F\u80FD\u6240\u79FB\u9664\u7684\u56FE\u7247\u53CA\u56FE\u5E93\u6587\u4EF6/\u8DEF\u5F84\u7684\u6B63\u5219\u8868\u8FBE\u5F0F","excluded_image_gallery_patterns_head":"\u56FE\u7247/\u56FE\u5E93\u6392\u9664\u89C4\u5219","excluded_video_patterns_desc":"\u8981\u4ECE\u626B\u63CF\u4E2D\u6392\u9664\u5E76\u4F1A\u88AB[\u6E05\u9664]\u529F\u80FD\u6240\u79FB\u9664\u7684\u56FE\u7247\u53CA\u56FE\u5E93\u6587\u4EF6/\u8DEF\u5F84\u7684\u6B63\u5219\u8868\u8FBE\u5F0F","excluded_video_patterns_head":"\u5F71\u7247\u6392\u9664\u89C4\u5219","gallery_ext_desc":"\u9017\u53F7(\u534A\u89D2)\u5206\u9694\u7684\u6587\u4EF6\u6269\u5C55\u540D\u5217\u8868\uFF0C\u5C06\u88AB\u6807\u8BC6\u4E3A\u56FE\u5E93\u6216\u56FE\u5305\u3002","gallery_ext_head":"\u56FE\u5E93\u538B\u7F29\u5305\u6269\u5C55\u540D","generated_file_naming_hash_desc":"\u4F7F\u7528 MD5 \u6216 oshash \u4E3A\u751F\u6210\u7684\u6587\u4EF6\u547D\u540D\u3002 \u66F4\u6539\u6B64\u8BBE\u7F6E\u8981\u6C42\u6240\u6709\u77ED\u7247\u90FD\u6709\u5BF9\u5E94\u7684 MD5/oshash \u503C\u3002 \u66F4\u6539\u6B64\u503C\u540E\uFF0C\u4E4B\u524D\u751F\u6210\u7684\u6570\u636E\u9700\u8981\u8FC1\u79FB\u6216\u91CD\u65B0\u751F\u6210\u3002 \u8BF7\u53C2\u9605 [\u8FC1\u79FB] \u9875\u9762\u3002","generated_file_naming_hash_head":"\u751F\u6210\u6587\u4EF6\u540D\u6240\u4F7F\u7528\u7684 hash \u7B97\u6CD5","generated_files_location":"\u751F\u6210\u6570\u636E\u7684\u5B58\u50A8\u76EE\u5F55\uFF08\u77ED\u7247\u6807\u8BB0\uFF0C\u77ED\u7247\u9884\u89C8\uFF0C\u9884\u89C8\u56FE\u7B49\uFF09","generated_path_head":"\u751F\u6210\u6570\u636E\u7684\u5B58\u50A8\u8DEF\u5F84","hashing":"Hash\u8BBE\u7F6E","image_ext_desc":"\u9017\u53F7\u5206\u9694\u7684\u6587\u4EF6\u6269\u5C55\u540D\u5217\u8868\uFF0C\u5C06\u88AB\u6807\u8BC6\u4E3A\u56FE\u7247\u3002","image_ext_head":"\u56FE\u7247\u6269\u5C55\u540D","logging":"\u65E5\u5FD7\u8BBE\u7F6E","maximum_streaming_transcode_size_desc":"\u8F6C\u7801\u751F\u6210\u7684\u4E32\u6D41\u6700\u5927\u503C","maximum_streaming_transcode_size_head":"\u8F6C\u7801\u751F\u6210\u7684\u4E32\u6D41\u7684\u6700\u5927\u6E05\u6670\u5EA6","maximum_transcode_size_desc":"\u8F6C\u7801\u751F\u6210\u7684\u5F71\u7247\u7684\u6700\u5927\u5927\u5C0F","maximum_transcode_size_head":"\u6700\u5927\u7684\u8F6C\u7801\u6E05\u6670\u5EA6","number_of_parallel_task_for_scan_generation_desc":"\u8BBE\u7F6E\u4E3A 0 \u4EE5\u8FDB\u884C\u81EA\u52A8\u68C0\u6D4B\u3002 \u8B66\u544A\uFF0C\u8FD0\u884C\u6BD4\u5B9E\u73B0 100% cpu \u5229\u7528\u7387\u6240\u9700\u7684\u66F4\u591A\u4EFB\u52A1\u5C06\u964D\u4F4E\u6027\u80FD\u5E76\u53EF\u80FD\u5BFC\u81F4\u5176\u4ED6\u95EE\u9898\u3002","number_of_parallel_task_for_scan_generation_head":"\u626B\u63CF/\u751F\u6210\u7684\u5E76\u884C\u4EFB\u52A1\u6570\u91CF","parallel_scan_head":"\u5E76\u884C\u626B\u63CF/\u751F\u6210","preview_generation":"\u751F\u6210\u9884\u89C8","scraper_user_agent":"\u722C\u866BUA(User Agent)","scraper_user_agent_desc":"\u722C\u866B\u8FD0\u884C\u65F6\u7684UA(User Agent)","scraping":"\u722C\u866B\u8BBE\u7F6E","sqlite_location":"Sqlite \u6570\u636E\u5E93\u7684\u4F4D\u7F6E\uFF08\u9700\u8981\u91CD\u542F\uFF09","video_ext_desc":"\u9017\u53F7(\u534A\u89D2)\u5206\u9694\u7684\u6587\u4EF6\u6269\u5C55\u540D\u5217\u8868\uFF0C\u5C06\u88AB\u6807\u8BC6\u4E3A\u5F71\u7247\u3002","video_ext_head":"\u5F71\u7247\u6269\u5C55\u540D","video_head":"\u5F71\u7247\u8BBE\u7F6E"},"logs":{"log_level":"\u65E5\u5FD7\u7B49\u7EA7"},"plugins":{"hooks":"\u56DE\u8C03","triggers_on":"\u89E6\u53D1"},"scraping":{"entity_metadata":"{entityType} \u5143\u6570\u636E","entity_scrapers":"{entityType} \u722C\u866B","excluded_tag_patterns_desc":"\u4ECE\u6293\u53D6\u7ED3\u679C\u4E2D\u6392\u9664\u7684\u6807\u7B7E\u540D\u79F0\u7684\u6B63\u5219\u8868\u8FBE\u5F0F","excluded_tag_patterns_head":"\u6392\u9664\u6807\u7B7E\u7684\u6B63\u5219\u8868\u8FBE\u5F0F","scrapers":"\u722C\u866B","search_by_name":"\u6309\u540D\u79F0\u641C\u7D22","supported_types":"\u652F\u6301\u7C7B\u578B","supported_urls":"\u652F\u6301\u94FE\u63A5"},"stashbox":{"add_instance":"\u65B0\u589E stash-box \u5165\u53E3","api_key":"API \u5BC6\u94A5","description":"Stash-box \u6709\u52A9\u4E8E\u6839\u636E\u6307\u7EB9\u548C\u6587\u4EF6\u540D\u81EA\u52A8\u6807\u8BB0\u77ED\u7247\u548C\u6F14\u5458\u3002\\n\u5165\u53E3\u548C API \u5BC6\u94A5\u53EF\u4EE5\u5728\u60A8\u7684\u5E10\u6237\u9875\u9762\u4E0A\u7684 stash-box \u5B9E\u4F8B\u4E2D\u627E\u5230\u3002 \u6DFB\u52A0\u591A\u4E2A\u5B9E\u4F8B\u65F6\u5FC5\u987B\u8BBE\u7F6E\u540D\u79F0\u3002","endpoint":"\u5165\u53E3","graphql_endpoint":"GraphQL \u5165\u53E3","name":"\u540D\u79F0","title":"Stash-box \u5165\u53E3"},"tasks":{"added_job_to_queue":"\u5DF2\u7ECF\u6DFB\u52A0 {operation_name} \u5230\u961F\u5217","auto_tag_based_on_filenames":"\u6839\u636E\u6587\u4EF6\u540D\u81EA\u52A8\u6DFB\u52A0\u6807\u8BB0\u3002","auto_tagging":"\u81EA\u52A8\u6807\u8BB0","backing_up_database":"\u81EA\u52A8\u5907\u4EFD\u6570\u636E\u4E2D","backup_and_download":"\u5907\u4EFD\u5E76\u4E0B\u8F7D\u6570\u636E","backup_database":"\u5C06\u6570\u636E\u5E93\u5907\u4EFD\u5230\u4E0E\u6570\u636E\u5E93\u76F8\u540C\u7684\u76EE\u5F55\uFF0C\u6587\u4EF6\u540D\u683C\u5F0F\u4E3A {filename_format}","cleanup_desc":"\u68C0\u67E5\u7F3A\u5931\u7684\u6587\u4EF6\u5E76\u5C06\u5B83\u4EEC\u7684\u6570\u636E\u4ECE\u6570\u636E\u5E93\u4E2D\u5220\u9664\u3002 \u6CE8\u610F\uFF0C\u8FD9\u662F\u4E00\u4E2A\u7834\u574F\u6027\u7684\u52A8\u4F5C\u4E14\u4E0D\u53EF\u6062\u590D\u3002","dont_include_file_extension_as_part_of_the_title":"\u4E0D\u8981\u628A\u6269\u5C55\u540D\u4F5C\u4E3A\u6807\u9898\u7684\u4E00\u90E8\u5206","export_to_json":"\u5C06\u6570\u636E\u5E93\u4E2D\u7684\u5143\u6570\u636E\u5BFC\u51FA\u4E3A JSON \u6587\u4EF6","generate_desc":"\u751F\u6210\u8F85\u52A9\u7684\u56FE\u7247\uFF0C\u9884\u89C8\uFF0C\u7247\u6BB5\u7B49\u5176\u4ED6\u6587\u4EF6\u3002","generate_phashes_during_scan":"\u5728\u626B\u63CF\u671F\u95F4\u751F\u6210 PHashes\uFF08\u7528\u4E8E\u91CD\u590D\u6570\u636E\u5220\u9664\u548C\u77ED\u7247\u8BC6\u522B\uFF09","generate_previews_during_scan":"\u5728\u626B\u63CF\u671F\u95F4\u751F\u6210\u7247\u6BB5\u9884\u89C8\uFF08\u52A8\u753B WebP \u9884\u89C8\uFF0C\u4EC5\u5F53\u9884\u89C8\u7C7B\u578B\u8BBE\u7F6E\u4E3A\u52A8\u56FE\u65F6\u624D\u9700\u8981\uFF09","generate_sprites_during_scan":"\u5728\u626B\u63CF\u671F\u95F4\u751F\u6210\u65F6\u95F4\u8F74\u9884\u89C8\uFF08\u7528\u4E8E\u65F6\u95F4\u8F74\u9884\u89C8\u56FE\uFF09","generate_video_previews_during_scan":"\u5728\u626B\u63CF\u671F\u95F4\u751F\u6210\u9884\u89C8\uFF08\u60AC\u505C\u5728\u573A\u666F\u4E0A\u65F6\u64AD\u653E\u7684\u89C6\u9891\u9884\u89C8\uFF09","generated_content":"\u751F\u6210\u7684\u5185\u5BB9","import_from_exported_json":"\u5BFC\u5165\u4E4B\u524D\u5BFC\u51FA\u7684json\u683C\u5F0F\u5143\u6570\u636E\u3002 \u6CE8\u610F\uFF0C\u8FD9\u5C06\u4F1A\u5220\u9664\u73B0\u6709\u6570\u636E\u5E93\u5185\u5BB9\u3002","incremental_import":"\u4ECE\u7684\u5BFC\u51FA zip \u6587\u4EF6\u589E\u91CF\u5BFC\u5165\u3002","job_queue":"\u5DE5\u4F5C\u961F\u5217","maintenance":"\u7EF4\u62A4","migrate_hash_files":"\u4F7F\u7528\u66F4\u6539\u4E4B\u540E\u7684hash\u7B97\u6CD5\u91CD\u547D\u540D\u5DF2\u7ECF\u5B58\u5728\u7684\u6587\u4EF6hash\u3002","migrations":"\u8FC1\u79FB","only_dry_run":"\u4EC5\u6A21\u62DF\u8FD0\u884C\uFF0C\u4E0D\u8981\u5220\u9664\u4EFB\u4F55\u4E1C\u897F","plugin_tasks":"\u63D2\u4EF6\u4EFB\u52A1","scan_for_content_desc":"\u626B\u63CF\u65B0\u5185\u5BB9\u5E76\u6DFB\u52A0\u81F3\u6570\u636E\u5E93\u4E2D\u3002","set_name_date_details_from_metadata_if_present":"\u4F7F\u7528\u5185\u7F6E\u7684\u6807\u9898\u3001\u65E5\u671F\u3001\u8BE6\u7EC6\u4FE1\u606F\uFF08\u5982\u679C\u53EF\u7528\u7684\u8BDD\uFF09\u3002"},"tools":{"scene_duplicate_checker":"\u77ED\u7247\u91CD\u590D\u6027\u68C0\u67E5\u5DE5\u5177","scene_filename_parser":{"add_field":"\u65B0\u589E\u5B57\u6BB5","capitalize_title":"\u6807\u9898\u5927\u5199\u663E\u793A","display_fields":"\u663E\u793A\u5B57\u6BB5","escape_chars":"\u4F7F\u7528\\\\\u8F6C\u4E49\u7279\u6B8A\u5B57\u7B26","filename":"\u6587\u4EF6\u540D\u79F0","filename_pattern":"\u6587\u4EF6\u540D\u89C4\u5219","ignore_organized":"\u5FFD\u7565\u5DF2\u7ECF\u6574\u7406\u7684\u77ED\u7247","ignored_words":"\u5FFD\u7565\u5B57\u7B26","matches_with":"\u4F7F\u7528 {i} \u8FDB\u884C\u5339\u914D","select_parser_recipe":"\u9009\u62E9\u9700\u8981\u5206\u6790\u7684\u5B57\u6BB5","title":"\u77ED\u7247\u6587\u4EF6\u540D\u89C4\u5219","whitespace_chars":"\u7A7A\u767D\u5B57\u7B26","whitespace_chars_desc":"\u8FD9\u4E9B\u5B57\u7B26\u5728\u6807\u9898\u4E2D\u4F1A\u66FF\u6362\u4E3A\u7A7A\u767D\u5B57\u7B26"},"scene_tools":"\u77ED\u7247\u5DE5\u5177"},"ui":{"custom_css":{"description":"\u5FC5\u987B\u91CD\u65B0\u52A0\u8F7D\u9875\u9762\u624D\u80FD\u4F7F\u66F4\u6539\u751F\u6548\u3002","heading":"\u81EA\u5B9A\u4E49\u6837\u5F0F","option_label":"\u81EA\u5B9A\u4E49\u6837\u5F0F\u5DF2\u542F\u7528"},"handy_connection_key":{"description":"\u7528\u4E8E\u4E92\u52A8\u573A\u666F\u7684\u5FEB\u901F\u8FDE\u63A5\u5BC6\u94A5","heading":"\u5FEB\u901F\u8FDE\u63A5\u5BC6\u94A5"},"funscript_offset":{"description":"\u4EA4\u4E92\u5F0F\u811A\u672C\u64AD\u653E\u7684\u65F6\u95F4\u504F\u79FB\u91CF\uFF08\u4EE5\u6BEB\u79D2\u4E3A\u5355\u4F4D\uFF09\u3002","heading":"Funscript\u504F\u79FB\u91CF\uFF08\u6BEB\u79D2\uFF09"},"language":{"heading":"\u8BED\u8A00"},"max_loop_duration":{"description":"\u5982\u679C\u77ED\u7247\u957F\u5EA6\u5C0F\u4E8E\u9884\u8BBE\u503C\uFF0C\u5219\u64AD\u653E\u7ED3\u675F\u65F6\u5C06\u81EA\u52A8\u91CD\u64AD\uFF08\u9002\u7528\u4E8E\u957F\u5EA6\u8F83\u77ED\u7684\u77ED\u7247\uFF09\uFF0C\u8BBE\u7F6E\u4E3A0\u53EF\u4EE5\u5173\u95ED\u6B64\u529F\u80FD","heading":"\u81EA\u52A8\u91CD\u64AD\u6700\u5C0F\u503C"},"menu_items":{"description":"\u5728\u5BFC\u822A\u680F\u4E0A\u663E\u793A\u6216\u9690\u85CF\u4E0D\u540C\u7C7B\u578B\u7684\u5185\u5BB9","heading":"\u83DC\u5355\u5217\u8868"},"performers":{"options":{"image_location":{"heading":"\u81EA\u5B9A\u4E49\u6F14\u5458\u56FE\u50CF\u8DEF\u5F84","description":"\u9ED8\u8BA4\u6F14\u5458\u56FE\u50CF\u7684\u81EA\u5B9A\u4E49\u8DEF\u5F84\u3002 \u7559\u7A7A\u4EE5\u4F7F\u7528\u5185\u7F6E\u9ED8\u8BA4\u503C"}}},"preview_type":{"description":"\u5F71\u7247\u9884\u89C8\u8BBE\u7F6E","heading":"\u9884\u89C8\u7C7B\u578B","options":{"animated":"\u52A8\u56FE","static":"\u9759\u6001\u56FE\u7247","video":"\u7247\u6BB5"}},"scene_list":{"heading":"\u77ED\u7247\u5217\u8868","options":{"show_studio_as_text":"\u5C55\u793A\u77ED\u7247\u6240\u5C5E\u7684\u5DE5\u4F5C\u5BA4\u540D\u79F0"}},"scene_player":{"heading":"\u77ED\u7247\u64AD\u653E\u5668","options":{"auto_start_video":"\u81EA\u52A8\u64AD\u653E"}},"scene_wall":{"heading":"\u77ED\u7247/\u6807\u8BB0 \u9884\u89C8\u5899","options":{"display_title":"\u663E\u793A\u6807\u9898\u548C\u6807\u8BB0","toggle_sound":"\u64AD\u653E\u58F0\u97F3"}},"slideshow_delay":{"description":"\u5E7B\u706F\u7247\u529F\u80FD\u4EC5\u5728 [\u56FE\u5E93] \u4E2D\u53EF\u7528","heading":"\u5E7B\u706F\u7247\u5EF6\u8FDF"},"title":"\u7528\u6237\u754C\u9762"}},"configuration":"\u8BBE\u7F6E","countables":{"galleries":"{count, plural, one {\u56FE\u5E93} other {\u56FE\u5E93}}","images":"{count, plural, one {\u56FE\u7247} other {\u56FE\u7247}}","markers":"{count, plural, one {\u6807\u8BB0} other {\u6807\u8BB0}}","movies":"{count, plural, one {\u7535\u5F71} other {\u7535\u5F71}}","performers":"{count, plural, one {\u6F14\u5458} other {\u6F14\u5458}}","scenes":"{count, plural, one {\u77ED\u7247} other {\u77ED\u7247}}","studios":"{count, plural, one {\u5DE5\u4F5C\u5BA4} other {\u5DE5\u4F5C\u5BA4}}","tags":"{count, plural, one {\u6807\u7B7E} other {\u6807\u7B7E}}"},"country":"\u56FD\u5BB6","cover_image":"\u5C01\u9762\u56FE\u7247","created_at":"\u521B\u5EFA\u65F6\u95F4","criterion":{"greater_than":"\u5927\u4E8E","less_than":"\u5C0F\u4E8E","value":"\u503C"},"criterion_modifier":{"equals":"\u662F","excludes":"\u4E0D\u5305\u542B","format_string":"{criterion} {modifierString} {valueString}","greater_than":"\u5927\u4E8E","includes":"\u5305\u542B","includes_all":"\u5305\u542B\u6240\u6709","is_null":"\u4E3A\u7A7A","less_than":"\u5C0F\u4E8E","matches_regex":"\u7B26\u5408\u6B63\u5219\u8868\u8FBE\u5F0F","not_equals":"\u4E0D\u662F","not_matches_regex":"\u4E0D\u7B26\u5408\u6B63\u5219\u8868\u8FBE\u5F0F","not_null":"\u4E0D\u4E3A\u7A7A","between":"\u5728\u4E2D\u95F4","not_between":"\u4E0D\u5728\u4E2D\u95F4"},"custom":"\u81EA\u5B9A\u4E49","date":"\u65E5\u671F","death_date":"\u53BB\u4E16\u65E5\u671F","death_year":"\u53BB\u4E16\u5E74\u4EFD","descending":"\u964D\u5E8F","detail":"\u8BE6\u60C5","details":"\u7B80\u4ECB","developmentVersion":"\u5F00\u53D1\u7248\u672C","dialogs":{"delete_confirm":"\u786E\u5B9A\u8981\u5220\u9664 {entityName} \u5417?","delete_entity_desc":"{count, plural, one {\u786E\u5B9A\u8981\u5220\u9664{singularEntity}\u5417? \u9664\u975E\u540C\u65F6\u5220\u9664\u6587\u4EF6, \u5426\u5219\u4E0B\u6B21\u626B\u63CF\u65F6{singularEntity}\u4F1A\u91CD\u65B0\u88AB\u6DFB\u52A0\u5230\u6570\u636E\u5E93\u4E2D\u3002} other {\u786E\u5B9A\u8981\u5220\u9664{pluralEntity}\u5417? \u9664\u975E\u540C\u65F6\u5220\u9664\u6587\u4EF6, \u5426\u5219\u4E0B\u6B21\u626B\u63CF\u65F6{pluralEntity}\u4F1A\u91CD\u65B0\u88AB\u6DFB\u52A0\u5230\u6570\u636E\u5E93\u4E2D\u3002}}","delete_entity_title":"{count, plural, one {\u5220\u9664 {singularEntity}} other {\u5220\u9664 {pluralEntity}}}","delete_object_desc":"\u786E\u5B9A\u8981\u5220\u9664{count, plural, one {\u8FD9\u4E2A{singularEntity}} other {\u8FD9\u4E9B{pluralEntity}}}?","delete_object_overflow":"\u2026\u4EE5\u53CA {count} \u4E2A\u5176\u4ED6 {count, plural, one {{singularEntity}} other {{pluralEntity}}}.","delete_object_title":"\u5220\u9664 {count, plural, one {{singularEntity}} other {{pluralEntity}}}","edit_entity_title":"\u7F16\u8F91 {count, plural, one {{singularEntity}} other {{pluralEntity}}}","export_include_related_objects":"\u5BFC\u51FA\u65F6\u5305\u542B\u76F8\u5173\u7684\u6570\u636E","export_title":"\u5BFC\u51FA","merge_tags":{"destination":"\u7B80\u4ECB","source":"\u6E90"},"overwrite_filter_confirm":"\u786E\u5B9A\u8981\u8986\u76D6\u73B0\u6709\u7684\u5DF2\u4FDD\u5B58\u67E5\u8BE2 {entityName} \u5417\uFF1F","scene_gen":{"image_previews":"\u56FE\u7247\u9884\u89C8\uFF08\u52A8\u6001 WebP \u9884\u89C8, \u5F53\u9884\u89C8\u7C7B\u578B\u8BBE\u7F6E\u4E3A[\u52A8\u56FE]\u65F6\u624D\u9700\u8981\uFF09","markers":"\u6807\u8BB0\uFF08\u7ED9\u5B9A\u65F6\u95F4\u5F00\u59CB\u768420s\u5F71\u7247\uFF09","overwrite":"\u8986\u76D6\u5DF2\u7ECF\u751F\u6210\u7684\u6587\u4EF6","phash":"PHash\uFF08\u7528\u4E8E\u68C0\u6D4B\u77ED\u7247\u662F\u5426\u91CD\u590D\uFF09","preview_exclude_end_time_desc":"\u4ECE\u77ED\u7247\u9884\u89C8\u4E2D\u6392\u9664\u6700\u540E x \u79D2\u3002\u53EF\u4EE5\u662F\u4E00\u4E2A\u4EE5\u79D2\u4E3A\u5355\u4F4D\u7684\u503C\uFF0C\u4E5F\u53EF\u4EE5\u662F\u767E\u5206\u6BD4\uFF08\u6BD4\u59822%\uFF09\u3002","preview_exclude_end_time_head":"\u6392\u9664\u7ED3\u675F\u65F6\u95F4","preview_exclude_start_time_desc":"\u4ECE\u77ED\u7247\u9884\u89C8\u4E2D\u6392\u9664\u6700\u5F00\u59CB x \u79D2\u3002\u53EF\u4EE5\u662F\u4E00\u4E2A\u4EE5\u79D2\u4E3A\u5355\u4F4D\u7684\u503C\uFF0C\u4E5F\u53EF\u4EE5\u662F\u767E\u5206\u6BD4\uFF08\u6BD4\u59822%\uFF09\u3002","preview_exclude_start_time_head":"\u6392\u9664\u5F00\u59CB\u65F6\u95F4","preview_options":"\u9884\u89C8\u9009\u9879","preview_preset_desc":"\u9884\u8BBE\u8C03\u8282\u9884\u89C8\u751F\u6210\u7684\u5927\u5C0F\u3001\u8D28\u91CF\u548C\u7F16\u7801\u65F6\u95F4\u3002 \u201Cslow\u201D\u4EE5\u4E0B\u7684\u9009\u9879\u4E0D\u63A8\u8350\u4F7F\u7528\u3002","preview_preset_head":"\u8C03\u6574\u9884\u8BBE\u503C","preview_seg_count_desc":"\u8BBE\u7F6E\u9884\u89C8\u7247\u6BB5\u4E2D\u7684\u6BB5\u6570\u3002","preview_seg_count_head":"\u8BBE\u7F6E\u9884\u89C8\u7247\u6BB5\u6BB5\u6570","preview_seg_duration_desc":"\u6BCF\u4E2A\u9884\u89C8\u7247\u6BB5\u7684\u957F\u5EA6\uFF0C\u4EE5\u79D2\u4E3A\u5355\u4F4D\u3002","preview_seg_duration_head":"\u9884\u89C8\u7247\u6BB5\u957F\u5EA6","sprites":"\u65F6\u95F4\u8F74\u9884\u89C8\uFF08\u7528\u4E8E\u77ED\u7247\u4E2D\u65F6\u95F4\u8F74\u4E0A\u7684\u9884\u89C8\u56FE\uFF09","transcodes":"\u8F6C\u7801\uFF08\u628A\u4E0D\u652F\u6301\u7684\u683C\u5F0F\u8F6C\u6362\u6210MP4\uFF09","video_previews":"\u9884\u89C8\u77ED\u7247\uFF08\u5F53\u9F20\u6807\u653E\u5728\u77ED\u7247\u4E0A\u65F6\u6240\u64AD\u653E\u7684\u9884\u89C8\u77ED\u7247\uFF09"},"scrape_entity_title":"{entity_type}\u722C\u53D6\u7ED3\u679C","scrape_results_existing":"\u73B0\u6709\u4FE1\u606F","scrape_results_scraped":"\u722C\u53D6\u4FE1\u606F","set_image_url_title":"\u56FE\u7247\u94FE\u63A5","unsaved_changes":"\u66F4\u6539\u672A\u4FDD\u5B58\uFF0C\u786E\u5B9A\u79BB\u5F00\u5417\uFF1F"},"dimensions":"\u6E05\u6670\u5EA6","director":"\u5BFC\u6F14","display_mode":{"grid":"\u683C\u72B6\u663E\u793A","list":"\u5217\u8868\u663E\u793A","tagger":"\u6807\u8BB0\u5DE5\u5177","unknown":"\u4F4D\u7F6E","wall":"\u9884\u89C8\u5899\u663E\u793A"},"donate":"\u8D5E\u52A9","dupe_check":{"description":"\u4F4E\u4E8E\u201C\u7CBE\u786E\u201D\u7684\u51C6\u786E\u5EA6\u53EF\u80FD\u9700\u8981\u66F4\u957F\u7684\u65F6\u95F4\u6765\u8BA1\u7B97\u3002\u8BEF\u62A5\u4E5F\u53EF\u80FD\u5728\u8F83\u4F4E\u7684\u51C6\u786E\u5EA6\u7EA7\u522B\u4E0A\u53D1\u751F\u3002","found_sets":"{setCount, plural, one{# \u53D1\u73B0\u7684\u91CD\u590D\u6570\u636E\u3002} other {# \u53D1\u73B0\u7684\u91CD\u590D\u6570\u636E\u3002}}","options":{"exact":"\u7CBE\u786E","high":"\u9AD8","low":"\u4F4E","medium":"\u4E2D"},"search_accuracy_label":"\u641C\u7D22\u51C6\u786E\u5EA6","title":"\u91CD\u590D\u77ED\u7247"},"duration":"\u65F6\u957F","effect_filters":{"aspect":"\u6BD4\u4F8B","blue":"\u84DD\u8272","blur":"\u6A21\u7CCA","brightness":"\u4EAE\u5EA6","contrast":"\u5BF9\u6BD4","gamma":"\u4F3D\u9A6C","green":"\u7EFF\u8272","hue":"\u8272\u8C03","name":"\u6EE4\u955C","name_transforms":"\u89C6\u9891\u53D8\u6362","red":"\u7EA2\u8272","reset_filters":"\u91CD\u7F6E\u6EE4\u955C","reset_transforms":"\u91CD\u7F6E\u53D8\u6362","rotate":"\u65CB\u8F6C","rotate_left_and_scale":"\u5411\u5DE6\u65CB\u8F6C 90 \u5EA6","rotate_right_and_scale":"\u5411\u53F3\u65CB\u8F6C 90 \u5EA6","saturation":"\u9971\u548C","scale":"\u5927\u5C0F","warmth":"\u8272\u6E29"},"ethnicity":"\u4EBA\u79CD","eye_color":"\u773C\u775B\u989C\u8272","fake_tits":"\u5047\u5976","favourite":"\u6536\u85CF","file_info":"\u6587\u4EF6\u4FE1\u606F","file_mod_time":"\u6587\u4EF6\u4FEE\u6539\u65F6\u95F4","filesize":"\u6587\u4EF6\u5927\u5C0F","filter":"\u8FC7\u6EE4","filter_name":"\u8FC7\u6EE4\u5668\u540D\u79F0","filters":"\u8FC7\u6EE4\u5668","framerate":"\u5E27\u7387","frames_per_second":"{value} \u5E27\u6BCF\u79D2","galleries":"\u56FE\u5E93","gallery":"\u56FE\u5E93","gallery_count":"\u56FE\u5E93\u6570\u91CF","gender":"\u6027\u522B","hair_color":"\u5934\u53D1\u989C\u8272","hasMarkers":"\u542B\u6709\u7AE0\u8282\u6807\u8BB0","height":"\u8EAB\u9AD8","help":"\u8BF4\u660E","image":"\u56FE\u7247","image_count":"\u56FE\u7247\u6570\u91CF","images":"\u56FE\u7247","include_sub_studios":"\u5305\u542B\u5B50\u5DE5\u4F5C\u5BA4","instagram":"Instagram","interactive":"\u4E92\u52A8","isMissing":"\u7F3A\u5931","library":"\u6536\u85CF\u5E93","loading":{"generic":"\u52A0\u8F7D\u4E2D..."},"marker_count":"\u6807\u8BB0\u6570\u91CF","markers":"\u6807\u8BB0","measurements":"\u4E09\u56F4","media_info":{"audio_codec":"\u58F0\u97F3\u7F16\u7801","checksum":"\u6821\u9A8C\u503C","downloaded_from":"\u4E0B\u8F7D\u5730\u5740","hash":"Hash\u503C","performer_card":{"age":"{age} {years_old}","age_context":"\u77ED\u7247\u91CC\u9762 {age} {years_old}"},"phash":"PHash","stream":"\u89C6\u9891\u6D41\u5730\u5740","video_codec":"\u89C6\u9891\u7F16\u7801"},"megabits_per_second":"{value} Mbps/s","metadata":"\u5143\u6570\u636E","movie":"\u7535\u5F71","movie_scene_number":"\u7535\u5F71\u77ED\u7247\u7F16\u7801","movies":"\u7535\u5F71","name":"\u540D\u79F0","new":"\u65B0\u589E","none":"\u7A7A","o_counter":"\u6B21\u6570","operations":"\u64CD\u4F5C","organized":"\u662F\u5426\u5DF2\u7ECF\u6574\u7406","pagination":{"first":"\u9996\u9875","last":"\u5C3E\u9875","next":"\u4E0B\u4E00\u9875","previous":"\u4E0A\u4E00\u9875"},"parent_studios":"\u4E0A\u7EA7\u5DE5\u4F5C\u5BA4","path":"\u8DEF\u5F84","performer":"\u6F14\u5458","performer_count":"\u6F14\u5458\u6570\u91CF","performer_image":"\u6F14\u5458\u56FE\u7247","performers":"\u6F14\u5458","performerTags":"\u6F14\u5458\u6807\u7B7E","piercings":"\u7A7F\u6D1E","queue":"\u5217\u8868","random":"\u968F\u673A","rating":"\u8BC4\u5206","resolution":"\u5206\u8FA8\u7387","scene":"\u77ED\u7247","scene_count":"\u77ED\u7247\u6570\u91CF","scene_id":"\u77ED\u7247ID","scenes":"\u77ED\u7247","scenes_updated_at":"\u77ED\u7247\u66F4\u65B0\u65F6\u95F4","sceneTagger":"\u77ED\u7247\u6807\u8BB0\u5668","sceneTags":"\u77ED\u7247\u6807\u8BB0","search_filter":{"add_filter":"\u6DFB\u52A0\u8FC7\u6EE4\u5668","name":"\u8FC7\u6EE4","saved_filters":"\u4FDD\u5B58\u8FC7\u6EE4\u5668","update_filter":"\u66F4\u65B0\u8FC7\u6EE4\u5668"},"seconds":"\u79D2","settings":"\u8BBE\u7F6E","stash_id":"Stash ID","status":"\u72B6\u6001\uFF1A{statusText}","studio":"\u5DE5\u4F5C\u5BA4","studio_depth":"\u6DF1\u5EA6\uFF08\u4E3A\u7A7A\u65F6\u663E\u793A\u6240\u6709\uFF09","studios":"\u5DE5\u4F5C\u5BA4","synopsis":"\u8BE5\u8981","tag":"\u6807\u7B7E","tag_count":"\u6807\u7B7E\u6570\u91CF","tags":"\u6807\u7B7E","tattoos":"\u7EB9\u8EAB","title":"\u6807\u9898","toast":{"added_entity":"\u5DF2\u6DFB\u52A0{entity}","added_generation_job_to_queue":"\u5DF2\u6DFB\u52A0\u81F3\u961F\u5217","create_entity":"\u5DF2\u7ECF\u521B\u5EFA{entity}","default_filter_set":"\u9ED8\u8BA4\u8FC7\u6EE4\u5668","delete_entity":"\u5220\u9664 {count, plural, one {{singularEntity}} other {{pluralEntity}}}","delete_past_tense":"\u5DF2\u7ECF\u5220\u9664 {count, plural, one {{singularEntity}} other {{pluralEntity}}}","generating_screenshot":"\u6B63\u5728\u751F\u6210\u622A\u56FE...","merged_tags":"\u5DF2\u7ECF\u5408\u5E76\u6807\u7B7E","rescanning_entity":"\u6B63\u5728\u91CD\u65B0\u626B\u63CF {count, plural, one {{singularEntity}} other {{pluralEntity}}}\u2026","started_auto_tagging":"\u5DF2\u7ECF\u5F00\u59CB\u81EA\u52A8\u751F\u6210\u6807\u7B7E","saved_entity":"\u5DF2\u7ECF\u4FDD\u5B58 {entity}","updated_entity":"\u5DF2\u7ECF\u66F4\u65B0 {entity}"},"total":"\u6570\u91CF","twitter":"Twitter","up-dir":"\u4E0A\u7EA7\u76EE\u5F55","updated_at":"\u66F4\u65B0\u65F6\u95F4","url":"\u94FE\u63A5","weight":"\u4F53\u91CD","years_old":"\u5C81","stats":{"image_size":"\u56FE\u7247\u5927\u5C0F","scenes_size":"\u77ED\u7247\u5927\u5C0F"}}')},438:function(vt,nr,ne){},475:function(vt,nr){},722:function(vt,nr){},724:function(vt,nr){},859:function(vt,nr,ne){"use strict";ne.r(nr);var d=ne(0),e=ne.n(d),E=ne(1),tf=ne(49),af=ne.n(tf),Le=ne(11),ke=ne(38),nf=ne(246),Tt=ne(25),ia=ne(15),Re=ne.n(ia),gs=ne(886),rf=Object.defineProperty,sf=Object.defineProperties,lf=Object.getOwnPropertyDescriptors,uo=Object.getOwnPropertySymbols,of=Object.prototype.hasOwnProperty,cf=Object.prototype.propertyIsEnumerable,mo=(t,a,n)=>a in t?rf(t,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[a]=n,uf=(t,a)=>{for(var n in a||(a={}))of.call(a,n)&&mo(t,n,a[n]);if(uo)for(var n of uo(a))cf.call(a,n)&&mo(t,n,a[n]);return t},df=(t,a)=>sf(t,lf(a));let mf=0;const go=Object(d.createContext)(()=>{}),gf=({children:t})=>{const[a,n]=Object(d.useState)([]),r=u=>n(a.filter(o=>o.id!==u)),s=a.map(u=>{var o,i;return e.a.createElement(gs.a,{autohide:!0,key:u.id,onClose:()=>r(u.id),className:(o=u.variant)!=null?o:"success",delay:(i=u.delay)!=null?i:3e3},e.a.createElement(gs.a.Header,null,e.a.createElement("span",{className:"mr-auto"},u.header)),e.a.createElement(gs.a.Body,null,u.content))}),l=u=>n([...a,df(uf({},u),{id:mf++})]);return e.a.createElement(go.Provider,{value:l},t,e.a.createElement("div",{className:"toast-container row"},s))};function fo(t){return{success:t,error:a=>{var n;let r;if(a instanceof Error)r=(n=a.message)!=null?n:a.toString();else if(a.toString)r=a.toString();else{console.error(a),t({variant:"danger",header:"Error",content:"Unknown error"});return}console.error(r),t({variant:"danger",header:"Error",content:r})}}}var He=()=>{const t=Object(d.useContext)(go),[a,n]=Object(d.useState)(fo(t));return Object(d.useEffect)(()=>n(fo(t)),[t]),a},m=ne(884),xe=ne(870),Se=ne(404),In=ne(887),q=ne(401),zr=ne(426),Ze=ne(874),ff=ne(8),St=ne.n(ff),Ia=ne(3),B=ne.n(Ia),pf=ne(416),_f=ne.n(pf),hf=ne(402),po=ne(90),_o=ne(187),ho=ne(256);po.b.add(_o.a,ho.b,ho.a);var le=({icon:t,className:a,color:n,size:r})=>e.a.createElement(hf.a,{icon:t,className:`fa-icon ${a}`,color:n,size:r}),nn=ne(871);const vo="LoadingIndicator",vf=`${vo}-message`;var $e=({message:t,inline:a=!1,small:n=!1,card:r=!1})=>e.a.createElement("div",{className:St()(vo,{inline:a,small:n,"card-based":r})},e.a.createElement(nn.a,{animation:"border",role:"status",size:n?"sm":void 0},e.a.createElement("span",{className:"sr-only"},"Loading...")),t!==""&&e.a.createElement("h4",{className:vf},t!=null?t:"Loading...")),Ef=t=>{const a=Object(d.useRef)();Object(d.useEffect)(()=>{let n="",r="";if(typeof document.hidden!="undefined"?(n="hidden",r="visibilitychange"):typeof document.msHidden!="undefined"?(n="msHidden",r="msvisibilitychange"):typeof document.webkitHidden!="undefined"&&(n="webkitHidden",r="webkitvisibilitychange"),!(typeof document.addEventListener=="undefined"||n===void 0))return a.current=t,document.addEventListener(r,a.current),()=>{a.current&&document.removeEventListener(r,a.current)}},[t])},yf=ne(259),Eo=ne.n(yf);const yo=1e3;var bf=(t,a=5e3)=>{const n=Object(d.useRef)(),r=Object(d.useRef)(),[s,l]=Object(d.useState)(a);Object(d.useEffect)(()=>{n.current=t},[t]),Object(d.useEffect)(()=>{let i;a!==null?i=a>=yo?a:yo:i=a,l(i)},[a]);const u=()=>{const i=r.current;i&&(r.current=void 0,clearInterval(i))},o=()=>{u();const i=()=>{n.current&&n.current()};s!==null&&(r.current=setInterval(i,s))};return Object(d.useEffect)(()=>{u();const i=()=>{n.current&&n.current()};if(s!==null)return r.current=setInterval(i,s),u},[t,s]),a?[u,o]:[Eo.a,Eo.a]},ge=ne(98),b=ne(308),bo=Math.pow;const So=1.1,wo=75,Sf="Lightbox-carousel-image";var Yt;(function(t){t.ORIGINAL="ORIGINAL",t.FIT_XY="FIT_XY",t.FIT_X="FIT_X"})(Yt||(Yt={}));var Jt;(function(t){t.ZOOM="ZOOM",t.PAN_Y="PAN_Y"})(Jt||(Jt={}));const wf=({src:t,onLeft:a,onRight:n,displayMode:r,scaleUp:s,scrollMode:l,zoom:u,setZoom:o,resetPosition:i})=>{const[c,g]=Object(d.useState)(1),[f,p]=Object(d.useState)(!1),[_,S]=Object(d.useState)(0),[v,x]=Object(d.useState)(0),[w,D]=Object(d.useState)(0),[M,y]=Object(d.useState)(0),[k,F]=Object(d.useState)(0),[I,j]=Object(d.useState)(0),R=Object(d.useRef)(),P=Object(d.useRef)(i),z=e.a.createRef(),L=Object(d.useRef)([0,0]),G=Object(d.useRef)([]),Y=Object(d.useRef)();Object(d.useEffect)(()=>{const T=z.current;T&&(F(T.offsetWidth),j(T.offsetHeight))},[z]),Object(d.useEffect)(()=>{let T=!0;const N=new Image;function C(){T&&(D(N.width),y(N.height))}return N.onload=C,N.src=t,()=>{T=!1}},[t]),Object(d.useEffect)(()=>{if(!w||!M||!k||!I)return;if(!s&&w<k&&M<I){g(1),S(0),x(0);return}let T,N,C=1,O=0;switch(r){case Yt.FIT_XY:T=k/w,N=I/M,s||(T=Math.min(T,1),N=Math.min(N,1)),C=Math.min(T,N);break;case Yt.FIT_X:C=k/w,s||(C=Math.min(C,1));break;case Yt.ORIGINAL:C=1;break}const $=Math.min((k-w)/2,0);r===Yt.FIT_XY?O=Math.min((I-M)/2,0):O=Math.min((M*C-M)/2,0),g(C),S($),x(O)},[w,M,k,I,r,s]);const V=Object(d.useCallback)(()=>{const T=Math.min((k-w)/2,0);let N;return u*c*M>I?N=(M*u*c-M)/2:N=Math.min((I-M)/2,0),[T,N]},[k,w,I,M,u,c]);Object(d.useEffect)(()=>{if(i!==P.current){P.current=i;const[T,N]=V();S(T),x(N)}},[i,P,V]);function U(T){if(T.shiftKey)switch(l){case Jt.ZOOM:return Jt.PAN_Y;case Jt.PAN_Y:return Jt.ZOOM}return l}function te(T){U(T)===Jt.PAN_Y&&oe(T)}function oe(T){const N=T.deltaY<0?So:1/So,C=(c*M-M)/2-c*M+1,O=(c*M-M)/2+I-1;let $=v+(T.deltaY<0?wo:-wo);switch(U(T)){case Jt.ZOOM:o(u*N);break;case Jt.PAN_Y:$=Math.max($,C),$=Math.min($,O),x($),T.stopPropagation();break}}function Q(T){if(!f)return;if(!T.buttons){p(!1);return}const N=T.pageX-L.current[0],C=T.pageY-L.current[1];L.current=[T.pageX,T.pageY],S(_+N),x(v+C)}function J(T){L.current=[T.pageX,T.pageY],p(!0),R.current=T.nativeEvent}function re(T){!R.current||T.timeStamp-R.current.timeStamp>200||T.pageX!==L.current[0]||T.pageY!==L.current[1]||(T.nativeEvent.offsetX>=T.target.offsetWidth/2?n():a())}function Z(T){T.preventDefault(),T.touches.length===1&&(L.current=[T.touches[0].pageX,T.touches[0].pageY],p(!0))}function W(T){if(!!f&&T.touches.length===1){const N=T.touches[0].pageX-L.current[0],C=T.touches[0].pageY-L.current[1];L.current=[T.touches[0].pageX,T.touches[0].pageY],S(_+N),x(v+C)}}function H(T){G.current=G.current.filter(N=>N.pointerId!==T.pointerId),G.current.push(T),Y.current=void 0}function de(T){for(let N=0;N<G.current.length;N++)if(G.current[N].pointerId===T.pointerId){G.current.splice(N,1);break}}function A(T){const N=G.current.findIndex(C=>C.pointerId===T.pointerId);if(N!==-1&&(G.current[N]=T),G.current.length===2){const C=G.current[0],O=G.current[1],$=Math.abs(C.clientX-O.clientX),X=Math.abs(C.clientY-O.clientY),ie=Math.sqrt(bo($,2)+bo(X,2));if(Y.current!==void 0){const ae=ie-Y.current,se=Math.abs(ae)/20*.1+1;ae>0?o(u*se):ae<0&&o(u*1/se)}Y.current=ie}}return e.a.createElement("div",{ref:z,className:`${Sf}`,onWheel:T=>te(T)},c?e.a.createElement("picture",{style:{transform:`translate(${_}px, ${v}px) scale(${c*u})`}},e.a.createElement("source",{srcSet:t,media:"(min-width: 800px)"}),e.a.createElement("img",{src:t,alt:"",draggable:!1,style:{touchAction:"none"},onWheel:T=>oe(T),onMouseDown:T=>J(T),onMouseUp:T=>re(T),onMouseMove:T=>Q(T),onTouchStart:T=>Z(T),onTouchMove:T=>W(T),onPointerDown:T=>H(T),onPointerUp:T=>de(T),onPointerMove:T=>A(T)})):void 0)},Et=e.a.createContext({}),kf=({loading:t,configuration:a,children:n})=>e.a.createElement(Et.Provider,{value:{configuration:a,loading:t}},n);var xf=Object.defineProperty,Pf=Object.defineProperties,Cf=Object.getOwnPropertyDescriptors,qr=Object.getOwnPropertySymbols,ko=Object.prototype.hasOwnProperty,xo=Object.prototype.propertyIsEnumerable,Po=(t,a,n)=>a in t?xf(t,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[a]=n,Co=(t,a)=>{for(var n in a||(a={}))ko.call(a,n)&&Po(t,n,a[n]);if(qr)for(var n of qr(a))xo.call(a,n)&&Po(t,n,a[n]);return t},Mf=(t,a)=>Pf(t,Cf(a)),Of=(t,a)=>{var n={};for(var r in t)ko.call(t,r)&&a.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&qr)for(var r of qr(t))a.indexOf(r)<0&&xo.call(t,r)&&(n[r]=t[r]);return n};const Dn="Lightbox",rr=`${Dn}-header`,Nf=`${rr}-left-spacer`,If=`${rr}-indicator`,fs=`${rr}-options`,Df=`${fs}-icon`,Tf=`${fs}-inline`,Ff=`${rr}-right`,jf=`${Dn}-display`,ps=`${Dn}-carousel`,Lf=`${ps}-instant`,Mo=`${ps}-image`,$r=`${Dn}-navbutton`,_s=`${Dn}-nav`,hs=`${_s}-image`,vs=`${_s}-selected`,Af=5e3,Es=1e3,Oo=1,Rf=({images:t,isVisible:a,isLoading:n,initialIndex:r=0,showNavigation:s,slideshowEnabled:l=!1,pageHeader:u,pageCallback:o,hide:i})=>{var c;const[g,f]=Object(d.useState)(null),p=Object(d.useRef)(null),[_,S]=Object(d.useState)(!1),[v,x]=Object(d.useState)(!0),[w,D]=Object(d.useState)(!1),[M,y]=Object(d.useState)(!1),k=Object(d.useRef)([]),[F,I]=Object(d.useState)(Yt.FIT_XY),j=Object(d.useRef)(F),[R,P]=Object(d.useState)(!1),[z,L]=Object(d.useState)(Jt.ZOOM),[G,Y]=Object(d.useState)(!0),[V,U]=Object(d.useState)(1),[te,oe]=Object(d.useState)(!1),Q=Object(d.useRef)(null),J=Object(d.useRef)(null),re=Object(d.useRef)(null),Z=Object(d.useRef)(null),W=Object(d.useRef)(null),H=Object(d.useRef)(),de=Object(d.useRef)(),A=t.length>1||o,T=Object(ge.a)(),{configuration:N}=e.a.useContext(Et),C=(c=N==null?void 0:N.interface.slideshowDelay)!=null?c:Af,[O,$]=Object(d.useState)(null),[X,ie]=Object(d.useState)((C/Es).toString());Object(d.useEffect)(()=>{t!==k.current&&v&&(k.current=t,g===-1&&f(t.length-1),x(!1))},[v,t,g]);const ae=_f()(()=>S(!1),400),se=Object(d.useCallback)(()=>{S(!0),ae()},[ae]);Object(d.useEffect)(()=>{var Ce;if(!(t.length<2)&&g!==p.current&&g!==null){if(G&&U(1),oe(pe=>!pe),re.current&&(re.current.style.left=`${g*-100}vw`),Z.current&&(Z.current.innerHTML=`${g+1} / ${t.length}`),W.current){const pe=W.current.children[g+1];if(pe instanceof HTMLImageElement){const Xe=-1*(pe.offsetLeft-document.documentElement.clientWidth/2);W.current.style.left=`${Xe}px`;const at=(Ce=W.current.getElementsByClassName(vs))==null?void 0:Ce[0];at&&(at.className=hs),pe.className=`${hs} ${vs}`}}p.current=g}},[g,t.length,G]),Object(d.useEffect)(()=>{F!==j.current&&(G&&U(1),oe(Ce=>!Ce)),j.current=F},[F,G]);const ye=(Ce,pe)=>{f(pe),Ce.stopPropagation()};Object(d.useEffect)(()=>{a&&(g===null&&f(r),document.body.style.overflow="hidden",B.a.pause())},[r,a,f,g]);const Pe=Object(d.useCallback)(()=>{if(O)$(null);else if(X!==null&&typeof X!="undefined"){const Ce=Number.parseInt(X,10);$(Ce*Es)}else $(C)},[O,C,X]);Ef(()=>{Pe()});const Fe=Object(d.useCallback)(()=>{w?document.exitFullscreen():(i(),document.body.style.overflow="auto",B.a.unpause())},[w,i]),ve=Ce=>{const{className:pe}=Ce.target;pe&&pe.includes&&pe.includes(Mo)&&Fe()},Te=Object(d.useCallback)((Ce=!0)=>{v||g===-1||(g===0?o?(o(-1),f(-1),x(!0)):f(t.length-1):f((g!=null?g:0)-1),Ce&&de.current&&de.current())},[t,o,v,de,g]),Ve=Object(d.useCallback)((Ce=!0)=>{v||(g===t.length-1?(o&&(o(1),x(!0)),f(0)):f((g!=null?g:0)+1),Ce&&de.current&&de.current())},[t,f,o,v,de,g]),he=Object(d.useCallback)(Ce=>{Ce.repeat&&(Ce.key==="ArrowRight"||Ce.key==="ArrowLeft")&&se(),Ce.key==="ArrowLeft"?Te():Ce.key==="ArrowRight"?Ve():Ce.key==="Escape"&&Fe()},[se,Te,Ve,Fe]),be=()=>{H.current&&H.current(),D(document.fullscreenElement!==null)},[Ne,Ie]=bf(()=>{Ve(!1)},l?O:null);de.current=Ie,H.current=Ne,Object(d.useEffect)(()=>(a&&(document.addEventListener("keydown",he),document.addEventListener("fullscreenchange",be)),()=>{document.removeEventListener("keydown",he),document.removeEventListener("fullscreenchange",be)}),[a,he]);const je=Object(d.useCallback)(()=>{var Ce;w?document.exitFullscreen():(Ce=Q.current)==null||Ce.requestFullscreen()},[w]),Ke=Ce=>{$(Ce)},Ye=t.map((Ce,pe)=>{var Xe;return e.a.createElement("img",{src:(Xe=Ce.paths.thumbnail)!=null?Xe:"",alt:"",className:St()(hs,{[vs]:pe===g}),onClick:at=>ye(at,pe),role:"presentation",loading:"lazy",key:Ce.paths.thumbnail})}),ee=Ce=>{let pe=Number.parseInt(Ce.currentTarget.value,10);if(Ce.currentTarget.value==="-"||Ce.currentTarget.value===""){ie(Ce.currentTarget.value);return}ie(Ce.currentTarget.value),O!==null&&(pe=pe>=Oo?pe:Oo,Ke(pe*Es))},we=g===null?r:g,_e=()=>e.a.createElement(e.a.Fragment,null,l?e.a.createElement(m.a.Group,{controlId:"delay",as:xe.a,className:"form-container"},e.a.createElement(Se.a,{xs:4},e.a.createElement(m.a.Label,{className:"col-form-label"},e.a.createElement(b.a,{id:"dialogs.lightbox.delay"}))),e.a.createElement(Se.a,{xs:8},e.a.createElement(m.a.Control,{type:"number",className:"text-input",min:1,value:X!=null?X:0,onChange:ee,size:"sm"}))):void 0,e.a.createElement(m.a.Group,{controlId:"displayMode",as:xe.a},e.a.createElement(Se.a,{xs:4},e.a.createElement(m.a.Label,{className:"col-form-label"},e.a.createElement(b.a,{id:"dialogs.lightbox.display_mode.label"}))),e.a.createElement(Se.a,{xs:8},e.a.createElement(m.a.Control,{as:"select",onChange:Ce=>I(Ce.target.value),value:F,className:"btn-secondary mx-1 mb-1"},e.a.createElement("option",{value:Yt.ORIGINAL,key:Yt.ORIGINAL},T.formatMessage({id:"dialogs.lightbox.display_mode.original"})),e.a.createElement("option",{value:Yt.FIT_XY,key:Yt.FIT_XY},T.formatMessage({id:"dialogs.lightbox.display_mode.fit_to_screen"})),e.a.createElement("option",{value:Yt.FIT_X,key:Yt.FIT_X},T.formatMessage({id:"dialogs.lightbox.display_mode.fit_horizontally"}))))),e.a.createElement(m.a.Group,null,e.a.createElement(m.a.Group,{controlId:"scaleUp",as:xe.a,className:"mb-1"},e.a.createElement(Se.a,null,e.a.createElement(m.a.Check,{type:"checkbox",label:T.formatMessage({id:"dialogs.lightbox.scale_up.label"}),checked:R,disabled:F===Yt.ORIGINAL,onChange:Ce=>P(Ce.currentTarget.checked)}))),e.a.createElement(m.a.Text,{className:"text-muted"},T.formatMessage({id:"dialogs.lightbox.scale_up.description"}))),e.a.createElement(m.a.Group,null,e.a.createElement(m.a.Group,{controlId:"resetZoomOnNav",as:xe.a,className:"mb-1"},e.a.createElement(Se.a,null,e.a.createElement(m.a.Check,{type:"checkbox",label:T.formatMessage({id:"dialogs.lightbox.reset_zoom_on_nav"}),checked:G,onChange:Ce=>Y(Ce.currentTarget.checked)})))),e.a.createElement(m.a.Group,{controlId:"scrollMode"},e.a.createElement(m.a.Group,{as:xe.a,className:"mb-1"},e.a.createElement(Se.a,{xs:4},e.a.createElement(m.a.Label,{className:"col-form-label"},e.a.createElement(b.a,{id:"dialogs.lightbox.scroll_mode.label"}))),e.a.createElement(Se.a,{xs:8},e.a.createElement(m.a.Control,{as:"select",onChange:Ce=>L(Ce.target.value),value:z,className:"btn-secondary mx-1 mb-1"},e.a.createElement("option",{value:Jt.ZOOM,key:Jt.ZOOM},T.formatMessage({id:"dialogs.lightbox.scroll_mode.zoom"})),e.a.createElement("option",{value:Jt.PAN_Y,key:Jt.PAN_Y},T.formatMessage({id:"dialogs.lightbox.scroll_mode.pan_y"}))))),e.a.createElement(m.a.Text,{className:"text-muted"},T.formatMessage({id:"dialogs.lightbox.scroll_mode.description"})))),Oe=e.a.createElement(e.a.Fragment,null,e.a.createElement(In.a.Title,null,T.formatMessage({id:"dialogs.lightbox.options"})),e.a.createElement(In.a.Content,null,e.a.createElement(_e,null)));return a?e.a.createElement("div",{className:Dn,role:"presentation",ref:Q,onClick:ve},t.length>0&&!n&&!v?e.a.createElement(e.a.Fragment,null,e.a.createElement("div",{className:rr},e.a.createElement("div",{className:Nf}),e.a.createElement("div",{className:If},e.a.createElement("span",null,u),e.a.createElement("b",{ref:Z},`${we+1} / ${t.length}`)),e.a.createElement("div",{className:Ff},e.a.createElement("div",{className:fs},e.a.createElement("div",{className:Df},e.a.createElement(q.a,{ref:J,variant:"link",title:"Options",onClick:()=>y(!M)},e.a.createElement(le,{icon:"cog"})),e.a.createElement(zr.a,{target:J.current,show:M,placement:"bottom",container:Q,rootClose:!0,onHide:()=>y(!1)},Ce=>{var pe=Ce,{placement:Xe,arrowProps:at,show:ft}=pe,Dt=Of(pe,["placement","arrowProps","show"]);return e.a.createElement("div",Mf(Co({className:"popover"},Dt),{style:Co({},Dt.style)}),Oe)})),e.a.createElement(Ze.a,{className:Tf},e.a.createElement(_e,null))),l&&e.a.createElement(q.a,{variant:"link",onClick:Pe,title:"Toggle Slideshow"},e.a.createElement(le,{icon:O!==null?"pause":"play"})),V!==1&&e.a.createElement(q.a,{variant:"link",onClick:()=>{oe(!te),U(1)},title:"Reset zoom"},e.a.createElement(le,{icon:"search-minus"})),document.fullscreenEnabled&&e.a.createElement(q.a,{variant:"link",onClick:je,title:"Toggle Fullscreen"},e.a.createElement(le,{icon:"expand"})),e.a.createElement(q.a,{variant:"link",onClick:()=>Fe(),title:"Close Lightbox"},e.a.createElement(le,{icon:"times"})))),e.a.createElement("div",{className:jf},A&&e.a.createElement(q.a,{variant:"link",onClick:Te,className:`${$r} d-none d-lg-block`},e.a.createElement(le,{icon:"chevron-left"})),e.a.createElement("div",{className:St()(ps,{[Lf]:_}),style:{left:`${we*-100}vw`},ref:re},t.map((Ce,pe)=>{var Xe;return e.a.createElement("div",{className:`${Mo}`,key:Ce.paths.image},pe>=we-1&&pe<=we+1?e.a.createElement(wf,{src:(Xe=Ce.paths.image)!=null?Xe:"",displayMode:F,scaleUp:R,scrollMode:z,onLeft:Te,onRight:Ve,zoom:pe===we?V:1,setZoom:at=>U(at),resetPosition:te}):void 0)})),A&&e.a.createElement(q.a,{variant:"link",onClick:Ve,className:`${$r} d-none d-lg-block`},e.a.createElement(le,{icon:"chevron-right"}))),s&&!w&&t.length>1&&e.a.createElement("div",{className:_s,ref:W},e.a.createElement(q.a,{variant:"link",onClick:()=>f(t.length-1),className:$r},e.a.createElement(le,{icon:"arrow-left",className:"mr-4"})),Ye,e.a.createElement(q.a,{variant:"link",onClick:()=>f(0),className:$r},e.a.createElement(le,{icon:"arrow-right",className:"ml-4"})))):e.a.createElement($e,null)):e.a.createElement(e.a.Fragment,null)};var zf=Object.defineProperty,qf=Object.defineProperties,$f=Object.getOwnPropertyDescriptors,No=Object.getOwnPropertySymbols,Gf=Object.prototype.hasOwnProperty,Vf=Object.prototype.propertyIsEnumerable,Io=(t,a,n)=>a in t?zf(t,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[a]=n,Gr=(t,a)=>{for(var n in a||(a={}))Gf.call(a,n)&&Io(t,n,a[n]);if(No)for(var n of No(a))Vf.call(a,n)&&Io(t,n,a[n]);return t},Do=(t,a)=>qf(t,$f(a));const ys=e.a.createContext({setLightboxState:()=>{}});var Bf=({children:t})=>{const[a,n]=Object(d.useState)({images:[],isVisible:!1,isLoading:!1,showNavigation:!0,slideshowEnabled:!1}),r=Object(d.useCallback)(l=>{n(u=>Gr(Gr({},u),l))},[n]),s=()=>{n(Do(Gr({},a),{isVisible:!1})),a.onClose&&a.onClose()};return e.a.createElement(ys.Provider,{value:{setLightboxState:r}},t,a.isVisible&&e.a.createElement(Rf,Do(Gr({},a),{hide:s})))},Uf=ne(389),Qf=ne.n(Uf),Hf=ne(286),Wf=ne(287),Kf=ne(288),Yf=ne(289),tD=ne(484),To=(t,a,n)=>new Promise((r,s)=>{var l=i=>{try{o(n.next(i))}catch(c){s(c)}},u=i=>{try{o(n.throw(i))}catch(c){s(c)}},o=i=>i.done?r(i.value):Promise.resolve(i.value).then(l,u);o((n=n.apply(t,a)).next())});Qf.a.shim();function Jf(){return To(this,null,function*(){Object(Hf.shouldPolyfill)()&&(yield Promise.all([ne.e(1),ne.e(8)]).then(ne.t.bind(null,912,7))),Object(Wf.shouldPolyfill)()&&(yield Promise.all([ne.e(0),ne.e(1),ne.e(6)]).then(ne.t.bind(null,913,7))),Object(Kf.shouldPolyfill)()&&(yield Promise.all([ne.e(0),ne.e(5)]).then(ne.t.bind(null,914,7)),yield ne.e(10).then(ne.t.bind(null,915,7)),yield ne.e(9).then(ne.t.bind(null,916,7))),Object(Yf.shouldPolyfill)()&&(yield Promise.all([ne.e(0),ne.e(7)]).then(ne.t.bind(null,917,7)),yield ne.e(11).then(ne.t.bind(null,918,7)))})}const Xf=()=>To(void 0,null,function*(){yield Jf()});var Zf=ne(390),ep=ne(391),tp=ne(392),ap=ne(393),np=ne(394),rp=ne(395),ip=ne(396),sp=ne(397),lp=ne(398),op=ne(399),Fo={deDE:Zf,enGB:ep,enUS:tp,esES:ap,ptBR:np,frFR:rp,itIT:ip,svSE:sp,zhTW:lp,zhCN:op},ir=ne(6),cp=Object.defineProperty,jo=Object.getOwnPropertySymbols,up=Object.prototype.hasOwnProperty,dp=Object.prototype.propertyIsEnumerable,Lo=(t,a,n)=>a in t?cp(t,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[a]=n,h=(t,a)=>{for(var n in a||(a={}))up.call(a,n)&&Lo(t,n,a[n]);if(jo)for(var n of jo(a))dp.call(a,n)&&Lo(t,n,a[n]);return t};const K={};var wt;(function(t){t.Low="LOW",t.Standard="STANDARD",t.StandardHd="STANDARD_HD",t.FullHd="FULL_HD",t.FourK="FOUR_K",t.Original="ORIGINAL"})(wt||(wt={}));var Tn;(function(t){t.Ultrafast="ultrafast",t.Veryfast="veryfast",t.Fast="fast",t.Medium="medium",t.Slow="slow",t.Slower="slower",t.Veryslow="veryslow"})(Tn||(Tn={}));var Da;(function(t){t.Md5="MD5",t.Oshash="OSHASH"})(Da||(Da={}));var Xt;(function(t){t.Asc="ASC",t.Desc="DESC"})(Xt||(Xt={}));var Vt;(function(t){t.VeryLow="VERY_LOW",t.Low="LOW",t.R360P="R360P",t.Standard="STANDARD",t.WebHd="WEB_HD",t.StandardHd="STANDARD_HD",t.FullHd="FULL_HD",t.QuadHd="QUAD_HD",t.VrHd="VR_HD",t.FourK="FOUR_K",t.FiveK="FIVE_K",t.SixK="SIX_K",t.EightK="EIGHT_K"})(Vt||(Vt={}));var ue;(function(t){t.Equals="EQUALS",t.NotEquals="NOT_EQUALS",t.GreaterThan="GREATER_THAN",t.LessThan="LESS_THAN",t.IsNull="IS_NULL",t.NotNull="NOT_NULL",t.IncludesAll="INCLUDES_ALL",t.Includes="INCLUDES",t.Excludes="EXCLUDES",t.MatchesRegex="MATCHES_REGEX",t.NotMatchesRegex="NOT_MATCHES_REGEX",t.Between="BETWEEN",t.NotBetween="NOT_BETWEEN"})(ue||(ue={}));var nt;(function(t){t.Scenes="SCENES",t.Performers="PERFORMERS",t.Studios="STUDIOS",t.Galleries="GALLERIES",t.SceneMarkers="SCENE_MARKERS",t.Movies="MOVIES",t.Tags="TAGS",t.Images="IMAGES"})(nt||(nt={}));var Ot;(function(t){t.Ready="READY",t.Running="RUNNING",t.Finished="FINISHED",t.Stopping="STOPPING",t.Cancelled="CANCELLED"})(Ot||(Ot={}));var Fn;(function(t){t.Add="ADD",t.Remove="REMOVE",t.Update="UPDATE"})(Fn||(Fn={}));var bs;(function(t){t.Trace="Trace",t.Debug="Debug",t.Info="Info",t.Progress="Progress",t.Warning="Warning",t.Error="Error"})(bs||(bs={}));var jn;(function(t){t.Ignore="IGNORE",t.Merge="MERGE",t.Overwrite="OVERWRITE"})(jn||(jn={}));var ha;(function(t){t.Ignore="IGNORE",t.Overwrite="OVERWRITE",t.Fail="FAIL"})(ha||(ha={}));var va;(function(t){t.Ignore="IGNORE",t.Fail="FAIL",t.Create="CREATE"})(va||(va={}));var Ln;(function(t){t.Setup="SETUP",t.NeedsMigration="NEEDS_MIGRATION",t.Ok="OK"})(Ln||(Ln={}));var At;(function(t){t.Male="MALE",t.Female="FEMALE",t.TransgenderMale="TRANSGENDER_MALE",t.TransgenderFemale="TRANSGENDER_FEMALE",t.Intersex="INTERSEX",t.NonBinary="NON_BINARY"})(At||(At={}));var ot;(function(t){t.Set="SET",t.Add="ADD",t.Remove="REMOVE"})(ot||(ot={}));var Rt;(function(t){t.Name="NAME",t.Fragment="FRAGMENT",t.Url="URL"})(Rt||(Rt={}));const Ao=E.gql`
    fragment ConfigGeneralData on ConfigGeneralResult {
  stashes {
    path
    excludeVideo
    excludeImage
  }
  databasePath
  generatedPath
  metadataPath
  cachePath
  calculateMD5
  videoFileNamingAlgorithm
  parallelTasks
  previewAudio
  previewSegments
  previewSegmentDuration
  previewExcludeStart
  previewExcludeEnd
  previewPreset
  maxTranscodeSize
  maxStreamingTranscodeSize
  writeImageThumbnails
  apiKey
  username
  password
  maxSessionAge
  trustedProxies
  logFile
  logOut
  logLevel
  logAccess
  createGalleriesFromFolders
  videoExtensions
  imageExtensions
  galleryExtensions
  excludes
  imageExcludes
  customPerformerImageLocation
  scraperUserAgent
  scraperCertCheck
  scraperCDPPath
  stashBoxes {
    name
    endpoint
    api_key
  }
}
    `,Ro=E.gql`
    fragment ConfigInterfaceData on ConfigInterfaceResult {
  menuItems
  soundOnPreview
  wallShowTitle
  wallPlayback
  maximumLoopDuration
  noBrowser
  autostartVideo
  autostartVideoOnPlaySelected
  continuePlaylistDefault
  showStudioAsText
  css
  cssEnabled
  language
  slideshowDelay
  disabledDropdownCreate {
    performer
    tag
    studio
  }
  handyKey
  funscriptOffset
}
    `,zo=E.gql`
    fragment ConfigDLNAData on ConfigDLNAResult {
  serverName
  enabled
  whitelistedIPs
  interfaces
}
    `,qo=E.gql`
    fragment ConfigScrapingData on ConfigScrapingResult {
  scraperUserAgent
  scraperCertCheck
  scraperCDPPath
  excludeTagPatterns
}
    `,mp=E.gql`
    fragment ScraperSourceData on ScraperSource {
  stash_box_index
  stash_box_endpoint
  scraper_id
}
    `,gp=E.gql`
    fragment IdentifyFieldOptionsData on IdentifyFieldOptions {
  field
  strategy
  createMissing
}
    `,fp=E.gql`
    fragment IdentifyMetadataOptionsData on IdentifyMetadataOptions {
  fieldOptions {
    ...IdentifyFieldOptionsData
  }
  setCoverImage
  setOrganized
  includeMalePerformers
}
    ${gp}`,$o=E.gql`
    fragment ConfigDefaultSettingsData on ConfigDefaultSettingsResult {
  identify {
    sources {
      source {
        ...ScraperSourceData
      }
      options {
        ...IdentifyMetadataOptionsData
      }
    }
    options {
      ...IdentifyMetadataOptionsData
    }
  }
  deleteFile
  deleteGenerated
}
    ${mp}
${fp}`,pp=E.gql`
    fragment ConfigData on ConfigResult {
  general {
    ...ConfigGeneralData
  }
  interface {
    ...ConfigInterfaceData
  }
  dlna {
    ...ConfigDLNAData
  }
  scraping {
    ...ConfigScrapingData
  }
  defaults {
    ...ConfigDefaultSettingsData
  }
}
    ${Ao}
${Ro}
${zo}
${qo}
${$o}`,Ss=E.gql`
    fragment SavedFilterData on SavedFilter {
  id
  mode
  name
  filter
}
    `,sr=E.gql`
    fragment SlimImageData on Image {
  id
  checksum
  title
  rating
  organized
  o_counter
  path
  file {
    size
    width
    height
  }
  paths {
    thumbnail
    image
  }
  galleries {
    id
    path
    title
  }
  studio {
    id
    name
    image_path
  }
  tags {
    id
    name
  }
  performers {
    id
    name
    gender
    favorite
    image_path
  }
}
    `,lr=E.gql`
    fragment SlimStudioData on Studio {
  id
  name
  image_path
  stash_ids {
    endpoint
    stash_id
  }
  parent_studio {
    id
  }
  details
  rating
  aliases
}
    `,or=E.gql`
    fragment SlimTagData on Tag {
  id
  name
  aliases
  image_path
}
    `,Ua=E.gql`
    fragment PerformerData on Performer {
  id
  checksum
  name
  url
  gender
  twitter
  instagram
  birthdate
  ethnicity
  country
  eye_color
  height
  measurements
  fake_tits
  career_length
  tattoos
  piercings
  aliases
  favorite
  image_path
  scene_count
  image_count
  gallery_count
  movie_count
  tags {
    ...SlimTagData
  }
  stash_ids {
    stash_id
    endpoint
  }
  rating
  details
  death_date
  hair_color
  weight
}
    ${or}`,cr=E.gql`
    fragment SlimSceneData on Scene {
  id
  checksum
  oshash
  title
  details
  url
  date
  rating
  o_counter
  organized
  path
  phash
  interactive
  file {
    size
    duration
    video_codec
    audio_codec
    width
    height
    framerate
    bitrate
  }
  paths {
    screenshot
    preview
    stream
    webp
    vtt
    chapters_vtt
    sprite
    funscript
  }
  scene_markers {
    id
    title
    seconds
  }
  galleries {
    id
    path
    title
  }
  studio {
    id
    name
    image_path
  }
  movies {
    movie {
      id
      name
      front_image_path
    }
    scene_index
  }
  tags {
    id
    name
  }
  performers {
    id
    name
    gender
    favorite
    image_path
  }
  stash_ids {
    endpoint
    stash_id
  }
}
    `,An=E.gql`
    fragment GalleryData on Gallery {
  id
  checksum
  path
  title
  date
  url
  details
  rating
  organized
  images {
    ...SlimImageData
  }
  cover {
    ...SlimImageData
  }
  studio {
    ...SlimStudioData
  }
  tags {
    ...SlimTagData
  }
  performers {
    ...PerformerData
  }
  scenes {
    ...SlimSceneData
  }
}
    ${sr}
${lr}
${or}
${Ua}
${cr}`,_p=E.gql`
    fragment ImageData on Image {
  id
  checksum
  title
  rating
  organized
  o_counter
  path
  file {
    size
    width
    height
  }
  paths {
    thumbnail
    image
  }
  galleries {
    ...GalleryData
  }
  studio {
    ...SlimStudioData
  }
  tags {
    ...SlimTagData
  }
  performers {
    ...PerformerData
  }
}
    ${An}
${lr}
${or}
${Ua}`,Go=E.gql`
    fragment JobData on Job {
  id
  status
  subTasks
  description
  progress
  startTime
  endTime
  addTime
}
    `,Vo=E.gql`
    fragment LogEntryData on LogEntry {
  time
  level
  message
}
    `,hp=E.gql`
    fragment SlimMovieData on Movie {
  id
  name
  front_image_path
}
    `,vp=E.gql`
    fragment SlimPerformerData on Performer {
  id
  name
  gender
  image_path
  favorite
  tags {
    id
    name
  }
  stash_ids {
    endpoint
    stash_id
  }
  rating
}
    `,Rn=E.gql`
    fragment SceneMarkerData on SceneMarker {
  id
  title
  seconds
  stream
  preview
  screenshot
  scene {
    id
  }
  primary_tag {
    id
    name
    aliases
  }
  tags {
    id
    name
    aliases
  }
}
    `,Bo=E.gql`
    fragment SlimGalleryData on Gallery {
  id
  checksum
  path
  title
  date
  url
  details
  rating
  organized
  image_count
  cover {
    file {
      size
      width
      height
    }
    paths {
      thumbnail
    }
  }
  studio {
    id
    name
    image_path
  }
  tags {
    id
    name
  }
  performers {
    id
    name
    gender
    favorite
    image_path
  }
  scenes {
    id
    title
    path
  }
}
    `,ur=E.gql`
    fragment MovieData on Movie {
  id
  checksum
  name
  aliases
  duration
  date
  rating
  director
  studio {
    ...SlimStudioData
  }
  synopsis
  url
  front_image_path
  back_image_path
  scene_count
  scenes {
    id
    title
    path
  }
}
    ${lr}`,dr=E.gql`
    fragment SceneData on Scene {
  id
  checksum
  oshash
  title
  details
  url
  date
  rating
  o_counter
  organized
  path
  phash
  interactive
  file {
    size
    duration
    video_codec
    audio_codec
    width
    height
    framerate
    bitrate
  }
  paths {
    screenshot
    preview
    stream
    webp
    vtt
    chapters_vtt
    sprite
    funscript
  }
  scene_markers {
    ...SceneMarkerData
  }
  galleries {
    ...SlimGalleryData
  }
  studio {
    ...SlimStudioData
  }
  movies {
    movie {
      ...MovieData
    }
    scene_index
  }
  tags {
    ...SlimTagData
  }
  performers {
    ...PerformerData
  }
  stash_ids {
    endpoint
    stash_id
  }
}
    ${Rn}
${Bo}
${lr}
${ur}
${or}
${Ua}`,mr=E.gql`
    fragment ScrapedSceneTagData on ScrapedTag {
  stored_id
  name
}
    `,ws=E.gql`
    fragment ScrapedPerformerData on ScrapedPerformer {
  stored_id
  name
  gender
  url
  twitter
  instagram
  birthdate
  ethnicity
  country
  eye_color
  height
  measurements
  fake_tits
  career_length
  tattoos
  piercings
  aliases
  tags {
    ...ScrapedSceneTagData
  }
  images
  details
  death_date
  hair_color
  weight
  remote_site_id
}
    ${mr}`,Ep=E.gql`
    fragment ScrapedMovieStudioData on ScrapedStudio {
  stored_id
  name
  url
}
    `,yp=E.gql`
    fragment ScrapedMovieData on ScrapedMovie {
  name
  aliases
  duration
  date
  rating
  director
  url
  synopsis
  front_image
  back_image
  studio {
    ...ScrapedMovieStudioData
  }
}
    ${Ep}`,ks=E.gql`
    fragment ScrapedSceneStudioData on ScrapedStudio {
  stored_id
  name
  url
  remote_site_id
}
    `,Vr=E.gql`
    fragment ScrapedScenePerformerData on ScrapedPerformer {
  stored_id
  name
  gender
  url
  twitter
  instagram
  birthdate
  ethnicity
  country
  eye_color
  height
  measurements
  fake_tits
  career_length
  tattoos
  piercings
  aliases
  tags {
    ...ScrapedSceneTagData
  }
  remote_site_id
  images
  details
  death_date
  hair_color
  weight
}
    ${mr}`,Uo=E.gql`
    fragment ScrapedSceneMovieData on ScrapedMovie {
  stored_id
  name
  aliases
  duration
  date
  rating
  director
  url
  synopsis
}
    `,xs=E.gql`
    fragment ScrapedSceneData on ScrapedScene {
  title
  details
  url
  date
  image
  remote_site_id
  file {
    size
    duration
    video_codec
    audio_codec
    width
    height
    framerate
    bitrate
  }
  studio {
    ...ScrapedSceneStudioData
  }
  tags {
    ...ScrapedSceneTagData
  }
  performers {
    ...ScrapedScenePerformerData
  }
  movies {
    ...ScrapedSceneMovieData
  }
  fingerprints {
    hash
    algorithm
    duration
  }
}
    ${ks}
${mr}
${Vr}
${Uo}`,Qo=E.gql`
    fragment ScrapedGalleryData on ScrapedGallery {
  title
  details
  url
  date
  studio {
    ...ScrapedSceneStudioData
  }
  tags {
    ...ScrapedSceneTagData
  }
  performers {
    ...ScrapedScenePerformerData
  }
}
    ${ks}
${mr}
${Vr}`,aD=E.gql`
    fragment ScrapedStashBoxSceneData on ScrapedScene {
  title
  details
  url
  date
  image
  remote_site_id
  duration
  file {
    size
    duration
    video_codec
    audio_codec
    width
    height
    framerate
    bitrate
  }
  fingerprints {
    hash
    algorithm
    duration
  }
  studio {
    ...ScrapedSceneStudioData
  }
  tags {
    ...ScrapedSceneTagData
  }
  performers {
    ...ScrapedScenePerformerData
  }
  movies {
    ...ScrapedSceneMovieData
  }
}
    ${ks}
${mr}
${Vr}
${Uo}`,nD=E.gql`
    fragment ScrapedStashBoxPerformerData on StashBoxPerformerQueryResult {
  query
  results {
    ...ScrapedScenePerformerData
  }
}
    ${Vr}`,Br=E.gql`
    fragment StudioData on Studio {
  id
  checksum
  name
  url
  parent_studio {
    id
    name
    url
    image_path
  }
  child_studios {
    id
    name
    image_path
  }
  image_path
  scene_count
  image_count
  gallery_count
  movie_count
  stash_ids {
    stash_id
    endpoint
  }
  details
  rating
  aliases
}
    `,zn=E.gql`
    fragment TagData on Tag {
  id
  name
  aliases
  image_path
  scene_count
  scene_marker_count
  image_count
  gallery_count
  performer_count
  parents {
    ...SlimTagData
  }
  children {
    ...SlimTagData
  }
}
    ${or}`,Ho=E.gql`
    mutation Setup($input: SetupInput!) {
  setup(input: $input)
}
    `;function rD(t){const a=h(h({},K),t);return E.useMutation(Ho,a)}const Wo=E.gql`
    mutation Migrate($input: MigrateInput!) {
  migrate(input: $input)
}
    `;function iD(t){const a=h(h({},K),t);return E.useMutation(Wo,a)}const bp=E.gql`
    mutation ConfigureGeneral($input: ConfigGeneralInput!) {
  configureGeneral(input: $input) {
    ...ConfigGeneralData
  }
}
    ${Ao}`;function Sp(t){const a=h(h({},K),t);return E.useMutation(bp,a)}const wp=E.gql`
    mutation ConfigureInterface($input: ConfigInterfaceInput!) {
  configureInterface(input: $input) {
    ...ConfigInterfaceData
  }
}
    ${Ro}`;function kp(t){const a=h(h({},K),t);return E.useMutation(wp,a)}const xp=E.gql`
    mutation ConfigureDLNA($input: ConfigDLNAInput!) {
  configureDLNA(input: $input) {
    ...ConfigDLNAData
  }
}
    ${zo}`;function Pp(t){const a=h(h({},K),t);return E.useMutation(xp,a)}const Cp=E.gql`
    mutation ConfigureScraping($input: ConfigScrapingInput!) {
  configureScraping(input: $input) {
    ...ConfigScrapingData
  }
}
    ${qo}`;function Mp(t){const a=h(h({},K),t);return E.useMutation(Cp,a)}const Op=E.gql`
    mutation ConfigureDefaults($input: ConfigDefaultSettingsInput!) {
  configureDefaults(input: $input) {
    ...ConfigDefaultSettingsData
  }
}
    ${$o}`;function Np(t){const a=h(h({},K),t);return E.useMutation(Op,a)}const Ip=E.gql`
    mutation GenerateAPIKey($input: GenerateAPIKeyInput!) {
  generateAPIKey(input: $input)
}
    `;function Dp(t){const a=h(h({},K),t);return E.useMutation(Ip,a)}const Tp=E.gql`
    mutation EnableDLNA($input: EnableDLNAInput!) {
  enableDLNA(input: $input)
}
    `;function Fp(t){const a=h(h({},K),t);return E.useMutation(Tp,a)}const jp=E.gql`
    mutation DisableDLNA($input: DisableDLNAInput!) {
  disableDLNA(input: $input)
}
    `;function Lp(t){const a=h(h({},K),t);return E.useMutation(jp,a)}const Ap=E.gql`
    mutation AddTempDLNAIP($input: AddTempDLNAIPInput!) {
  addTempDLNAIP(input: $input)
}
    `;function Rp(t){const a=h(h({},K),t);return E.useMutation(Ap,a)}const zp=E.gql`
    mutation RemoveTempDLNAIP($input: RemoveTempDLNAIPInput!) {
  removeTempDLNAIP(input: $input)
}
    `;function qp(t){const a=h(h({},K),t);return E.useMutation(zp,a)}const $p=E.gql`
    mutation SaveFilter($input: SaveFilterInput!) {
  saveFilter(input: $input) {
    ...SavedFilterData
  }
}
    ${Ss}`;function Gp(t){const a=h(h({},K),t);return E.useMutation($p,a)}const Vp=E.gql`
    mutation DestroySavedFilter($input: DestroyFilterInput!) {
  destroySavedFilter(input: $input)
}
    `;function Bp(t){const a=h(h({},K),t);return E.useMutation(Vp,a)}const Up=E.gql`
    mutation SetDefaultFilter($input: SetDefaultFilterInput!) {
  setDefaultFilter(input: $input)
}
    `;function Qp(t){const a=h(h({},K),t);return E.useMutation(Up,a)}const Hp=E.gql`
    mutation GalleryCreate($input: GalleryCreateInput!) {
  galleryCreate(input: $input) {
    ...GalleryData
  }
}
    ${An}`;function Wp(t){const a=h(h({},K),t);return E.useMutation(Hp,a)}const Kp=E.gql`
    mutation GalleryUpdate($input: GalleryUpdateInput!) {
  galleryUpdate(input: $input) {
    ...GalleryData
  }
}
    ${An}`;function Yp(t){const a=h(h({},K),t);return E.useMutation(Kp,a)}const Jp=E.gql`
    mutation BulkGalleryUpdate($input: BulkGalleryUpdateInput!) {
  bulkGalleryUpdate(input: $input) {
    ...GalleryData
  }
}
    ${An}`;function Xp(t){const a=h(h({},K),t);return E.useMutation(Jp,a)}const Zp=E.gql`
    mutation GalleriesUpdate($input: [GalleryUpdateInput!]!) {
  galleriesUpdate(input: $input) {
    ...GalleryData
  }
}
    ${An}`;function sD(t){const a=h(h({},K),t);return E.useMutation(Zp,a)}const e_=E.gql`
    mutation GalleryDestroy($ids: [ID!]!, $delete_file: Boolean, $delete_generated: Boolean) {
  galleryDestroy(
    input: {ids: $ids, delete_file: $delete_file, delete_generated: $delete_generated}
  )
}
    `;function t_(t){const a=h(h({},K),t);return E.useMutation(e_,a)}const Ko=E.gql`
    mutation AddGalleryImages($gallery_id: ID!, $image_ids: [ID!]!) {
  addGalleryImages(input: {gallery_id: $gallery_id, image_ids: $image_ids})
}
    `;function lD(t){const a=h(h({},K),t);return E.useMutation(Ko,a)}const Yo=E.gql`
    mutation RemoveGalleryImages($gallery_id: ID!, $image_ids: [ID!]!) {
  removeGalleryImages(input: {gallery_id: $gallery_id, image_ids: $image_ids})
}
    `;function oD(t){const a=h(h({},K),t);return E.useMutation(Yo,a)}const a_=E.gql`
    mutation ImageUpdate($input: ImageUpdateInput!) {
  imageUpdate(input: $input) {
    ...SlimImageData
  }
}
    ${sr}`;function n_(t){const a=h(h({},K),t);return E.useMutation(a_,a)}const r_=E.gql`
    mutation BulkImageUpdate($input: BulkImageUpdateInput!) {
  bulkImageUpdate(input: $input) {
    ...SlimImageData
  }
}
    ${sr}`;function i_(t){const a=h(h({},K),t);return E.useMutation(r_,a)}const s_=E.gql`
    mutation ImagesUpdate($input: [ImageUpdateInput!]!) {
  imagesUpdate(input: $input) {
    ...SlimImageData
  }
}
    ${sr}`;function cD(t){const a=h(h({},K),t);return E.useMutation(s_,a)}const l_=E.gql`
    mutation ImageIncrementO($id: ID!) {
  imageIncrementO(id: $id)
}
    `;function o_(t){const a=h(h({},K),t);return E.useMutation(l_,a)}const c_=E.gql`
    mutation ImageDecrementO($id: ID!) {
  imageDecrementO(id: $id)
}
    `;function u_(t){const a=h(h({},K),t);return E.useMutation(c_,a)}const d_=E.gql`
    mutation ImageResetO($id: ID!) {
  imageResetO(id: $id)
}
    `;function m_(t){const a=h(h({},K),t);return E.useMutation(d_,a)}const g_=E.gql`
    mutation ImageDestroy($id: ID!, $delete_file: Boolean, $delete_generated: Boolean) {
  imageDestroy(
    input: {id: $id, delete_file: $delete_file, delete_generated: $delete_generated}
  )
}
    `;function uD(t){const a=h(h({},K),t);return E.useMutation(g_,a)}const f_=E.gql`
    mutation ImagesDestroy($ids: [ID!]!, $delete_file: Boolean, $delete_generated: Boolean) {
  imagesDestroy(
    input: {ids: $ids, delete_file: $delete_file, delete_generated: $delete_generated}
  )
}
    `;function p_(t){const a=h(h({},K),t);return E.useMutation(f_,a)}const Jo=E.gql`
    mutation StopJob($job_id: ID!) {
  stopJob(job_id: $job_id)
}
    `;function dD(t){const a=h(h({},K),t);return E.useMutation(Jo,a)}const __=E.gql`
    mutation StopAllJobs {
  stopAllJobs
}
    `;function mD(t){const a=h(h({},K),t);return E.useMutation(__,a)}const Xo=E.gql`
    mutation MetadataImport {
  metadataImport
}
    `;function gD(t){const a=h(h({},K),t);return E.useMutation(Xo,a)}const Zo=E.gql`
    mutation MetadataExport {
  metadataExport
}
    `;function fD(t){const a=h(h({},K),t);return E.useMutation(Zo,a)}const ec=E.gql`
    mutation ExportObjects($input: ExportObjectsInput!) {
  exportObjects(input: $input)
}
    `;function pD(t){const a=h(h({},K),t);return E.useMutation(ec,a)}const tc=E.gql`
    mutation ImportObjects($input: ImportObjectsInput!) {
  importObjects(input: $input)
}
    `;function _D(t){const a=h(h({},K),t);return E.useMutation(tc,a)}const ac=E.gql`
    mutation MetadataScan($input: ScanMetadataInput!) {
  metadataScan(input: $input)
}
    `;function hD(t){const a=h(h({},K),t);return E.useMutation(ac,a)}const nc=E.gql`
    mutation MetadataGenerate($input: GenerateMetadataInput!) {
  metadataGenerate(input: $input)
}
    `;function vD(t){const a=h(h({},K),t);return E.useMutation(nc,a)}const rc=E.gql`
    mutation MetadataAutoTag($input: AutoTagMetadataInput!) {
  metadataAutoTag(input: $input)
}
    `;function ED(t){const a=h(h({},K),t);return E.useMutation(rc,a)}const ic=E.gql`
    mutation MetadataIdentify($input: IdentifyMetadataInput!) {
  metadataIdentify(input: $input)
}
    `;function yD(t){const a=h(h({},K),t);return E.useMutation(ic,a)}const sc=E.gql`
    mutation MetadataClean($input: CleanMetadataInput!) {
  metadataClean(input: $input)
}
    `;function bD(t){const a=h(h({},K),t);return E.useMutation(sc,a)}const lc=E.gql`
    mutation MigrateHashNaming {
  migrateHashNaming
}
    `;function SD(t){const a=h(h({},K),t);return E.useMutation(lc,a)}const oc=E.gql`
    mutation BackupDatabase($input: BackupDatabaseInput!) {
  backupDatabase(input: $input)
}
    `;function wD(t){const a=h(h({},K),t);return E.useMutation(oc,a)}const h_=E.gql`
    mutation MovieCreate($name: String!, $aliases: String, $duration: Int, $date: String, $rating: Int, $studio_id: ID, $director: String, $synopsis: String, $url: String, $front_image: String, $back_image: String) {
  movieCreate(
    input: {name: $name, aliases: $aliases, duration: $duration, date: $date, rating: $rating, studio_id: $studio_id, director: $director, synopsis: $synopsis, url: $url, front_image: $front_image, back_image: $back_image}
  ) {
    ...MovieData
  }
}
    ${ur}`;function v_(t){const a=h(h({},K),t);return E.useMutation(h_,a)}const E_=E.gql`
    mutation MovieUpdate($input: MovieUpdateInput!) {
  movieUpdate(input: $input) {
    ...MovieData
  }
}
    ${ur}`;function y_(t){const a=h(h({},K),t);return E.useMutation(E_,a)}const b_=E.gql`
    mutation MovieDestroy($id: ID!) {
  movieDestroy(input: {id: $id})
}
    `;function S_(t){const a=h(h({},K),t);return E.useMutation(b_,a)}const w_=E.gql`
    mutation MoviesDestroy($ids: [ID!]!) {
  moviesDestroy(ids: $ids)
}
    `;function k_(t){const a=h(h({},K),t);return E.useMutation(w_,a)}const x_=E.gql`
    mutation PerformerCreate($input: PerformerCreateInput!) {
  performerCreate(input: $input) {
    ...PerformerData
  }
}
    ${Ua}`;function cc(t){const a=h(h({},K),t);return E.useMutation(x_,a)}const P_=E.gql`
    mutation PerformerUpdate($input: PerformerUpdateInput!) {
  performerUpdate(input: $input) {
    ...PerformerData
  }
}
    ${Ua}`;function Ps(t){const a=h(h({},K),t);return E.useMutation(P_,a)}const C_=E.gql`
    mutation BulkPerformerUpdate($input: BulkPerformerUpdateInput!) {
  bulkPerformerUpdate(input: $input) {
    ...PerformerData
  }
}
    ${Ua}`;function M_(t){const a=h(h({},K),t);return E.useMutation(C_,a)}const O_=E.gql`
    mutation PerformerDestroy($id: ID!) {
  performerDestroy(input: {id: $id})
}
    `;function N_(t){const a=h(h({},K),t);return E.useMutation(O_,a)}const I_=E.gql`
    mutation PerformersDestroy($ids: [ID!]!) {
  performersDestroy(ids: $ids)
}
    `;function D_(t){const a=h(h({},K),t);return E.useMutation(I_,a)}const uc=E.gql`
    mutation ReloadPlugins {
  reloadPlugins
}
    `;function kD(t){const a=h(h({},K),t);return E.useMutation(uc,a)}const dc=E.gql`
    mutation RunPluginTask($plugin_id: ID!, $task_name: String!, $args: [PluginArgInput!]) {
  runPluginTask(plugin_id: $plugin_id, task_name: $task_name, args: $args)
}
    `;function xD(t){const a=h(h({},K),t);return E.useMutation(dc,a)}const T_=E.gql`
    mutation SceneMarkerCreate($title: String!, $seconds: Float!, $scene_id: ID!, $primary_tag_id: ID!, $tag_ids: [ID!] = []) {
  sceneMarkerCreate(
    input: {title: $title, seconds: $seconds, scene_id: $scene_id, primary_tag_id: $primary_tag_id, tag_ids: $tag_ids}
  ) {
    ...SceneMarkerData
  }
}
    ${Rn}`;function F_(t){const a=h(h({},K),t);return E.useMutation(T_,a)}const j_=E.gql`
    mutation SceneMarkerUpdate($id: ID!, $title: String!, $seconds: Float!, $scene_id: ID!, $primary_tag_id: ID!, $tag_ids: [ID!] = []) {
  sceneMarkerUpdate(
    input: {id: $id, title: $title, seconds: $seconds, scene_id: $scene_id, primary_tag_id: $primary_tag_id, tag_ids: $tag_ids}
  ) {
    ...SceneMarkerData
  }
}
    ${Rn}`;function L_(t){const a=h(h({},K),t);return E.useMutation(j_,a)}const A_=E.gql`
    mutation SceneMarkerDestroy($id: ID!) {
  sceneMarkerDestroy(id: $id)
}
    `;function R_(t){const a=h(h({},K),t);return E.useMutation(A_,a)}const z_=E.gql`
    mutation SceneUpdate($input: SceneUpdateInput!) {
  sceneUpdate(input: $input) {
    ...SceneData
  }
}
    ${dr}`;function q_(t){const a=h(h({},K),t);return E.useMutation(z_,a)}const $_=E.gql`
    mutation BulkSceneUpdate($input: BulkSceneUpdateInput!) {
  bulkSceneUpdate(input: $input) {
    ...SceneData
  }
}
    ${dr}`;function G_(t){const a=h(h({},K),t);return E.useMutation($_,a)}const V_=E.gql`
    mutation ScenesUpdate($input: [SceneUpdateInput!]!) {
  scenesUpdate(input: $input) {
    ...SceneData
  }
}
    ${dr}`;function B_(t){const a=h(h({},K),t);return E.useMutation(V_,a)}const U_=E.gql`
    mutation SceneIncrementO($id: ID!) {
  sceneIncrementO(id: $id)
}
    `;function Q_(t){const a=h(h({},K),t);return E.useMutation(U_,a)}const H_=E.gql`
    mutation SceneDecrementO($id: ID!) {
  sceneDecrementO(id: $id)
}
    `;function W_(t){const a=h(h({},K),t);return E.useMutation(H_,a)}const K_=E.gql`
    mutation SceneResetO($id: ID!) {
  sceneResetO(id: $id)
}
    `;function Y_(t){const a=h(h({},K),t);return E.useMutation(K_,a)}const J_=E.gql`
    mutation SceneDestroy($id: ID!, $delete_file: Boolean, $delete_generated: Boolean) {
  sceneDestroy(
    input: {id: $id, delete_file: $delete_file, delete_generated: $delete_generated}
  )
}
    `;function X_(t){const a=h(h({},K),t);return E.useMutation(J_,a)}const Z_=E.gql`
    mutation ScenesDestroy($ids: [ID!]!, $delete_file: Boolean, $delete_generated: Boolean) {
  scenesDestroy(
    input: {ids: $ids, delete_file: $delete_file, delete_generated: $delete_generated}
  )
}
    `;function eh(t){const a=h(h({},K),t);return E.useMutation(Z_,a)}const th=E.gql`
    mutation SceneGenerateScreenshot($id: ID!, $at: Float) {
  sceneGenerateScreenshot(id: $id, at: $at)
}
    `;function ah(t){const a=h(h({},K),t);return E.useMutation(th,a)}const mc=E.gql`
    mutation ReloadScrapers {
  reloadScrapers
}
    `;function PD(t){const a=h(h({},K),t);return E.useMutation(mc,a)}const nh=E.gql`
    mutation SubmitStashBoxFingerprints($input: StashBoxFingerprintSubmissionInput!) {
  submitStashBoxFingerprints(input: $input)
}
    `;function rh(t){const a=h(h({},K),t);return E.useMutation(nh,a)}const gc=E.gql`
    mutation StashBoxBatchPerformerTag($input: StashBoxBatchPerformerTagInput!) {
  stashBoxBatchPerformerTag(input: $input)
}
    `;function CD(t){const a=h(h({},K),t);return E.useMutation(gc,a)}const ih=E.gql`
    mutation StudioCreate($input: StudioCreateInput!) {
  studioCreate(input: $input) {
    ...StudioData
  }
}
    ${Br}`;function fc(t){const a=h(h({},K),t);return E.useMutation(ih,a)}const sh=E.gql`
    mutation StudioUpdate($input: StudioUpdateInput!) {
  studioUpdate(input: $input) {
    ...StudioData
  }
}
    ${Br}`;function pc(t){const a=h(h({},K),t);return E.useMutation(sh,a)}const lh=E.gql`
    mutation StudioDestroy($id: ID!) {
  studioDestroy(input: {id: $id})
}
    `;function oh(t){const a=h(h({},K),t);return E.useMutation(lh,a)}const ch=E.gql`
    mutation StudiosDestroy($ids: [ID!]!) {
  studiosDestroy(ids: $ids)
}
    `;function uh(t){const a=h(h({},K),t);return E.useMutation(ch,a)}const dh=E.gql`
    mutation TagCreate($input: TagCreateInput!) {
  tagCreate(input: $input) {
    ...TagData
  }
}
    ${zn}`;function _c(t){const a=h(h({},K),t);return E.useMutation(dh,a)}const mh=E.gql`
    mutation TagDestroy($id: ID!) {
  tagDestroy(input: {id: $id})
}
    `;function gh(t){const a=h(h({},K),t);return E.useMutation(mh,a)}const fh=E.gql`
    mutation TagsDestroy($ids: [ID!]!) {
  tagsDestroy(ids: $ids)
}
    `;function ph(t){const a=h(h({},K),t);return E.useMutation(fh,a)}const _h=E.gql`
    mutation TagUpdate($input: TagUpdateInput!) {
  tagUpdate(input: $input) {
    ...TagData
  }
}
    ${zn}`;function hh(t){const a=h(h({},K),t);return E.useMutation(_h,a)}const vh=E.gql`
    mutation TagsMerge($source: [ID!]!, $destination: ID!) {
  tagsMerge(input: {source: $source, destination: $destination}) {
    ...TagData
  }
}
    ${zn}`;function Eh(t){const a=h(h({},K),t);return E.useMutation(vh,a)}const Cs=E.gql`
    query DLNAStatus {
  dlnaStatus {
    running
    until
    recentIPAddresses
    allowedIPAddresses {
      ipAddress
      until
    }
  }
}
    `;function yh(t){const a=h(h({},K),t);return E.useQuery(Cs,a)}function MD(t){const a=h(h({},K),t);return E.useLazyQuery(Cs,a)}function OD(t){return{query:Cs,variables:t}}const Ur=E.gql`
    query FindSavedFilters($mode: FilterMode!) {
  findSavedFilters(mode: $mode) {
    ...SavedFilterData
  }
}
    ${Ss}`;function bh(t){const a=h(h({},K),t);return E.useQuery(Ur,a)}function ND(t){const a=h(h({},K),t);return E.useLazyQuery(Ur,a)}function ID(t){return{query:Ur,variables:t}}const Qr=E.gql`
    query FindDefaultFilter($mode: FilterMode!) {
  findDefaultFilter(mode: $mode) {
    ...SavedFilterData
  }
}
    ${Ss}`;function Sh(t){const a=h(h({},K),t);return E.useQuery(Qr,a)}function DD(t){const a=h(h({},K),t);return E.useLazyQuery(Qr,a)}function TD(t){return{query:Qr,variables:t}}const qn=E.gql`
    query FindGalleries($filter: FindFilterType, $gallery_filter: GalleryFilterType) {
  findGalleries(gallery_filter: $gallery_filter, filter: $filter) {
    count
    galleries {
      ...SlimGalleryData
    }
  }
}
    ${Bo}`;function hc(t){const a=h(h({},K),t);return E.useQuery(qn,a)}function FD(t){const a=h(h({},K),t);return E.useLazyQuery(qn,a)}function jD(t){return{query:qn,variables:t}}const gr=E.gql`
    query FindGallery($id: ID!) {
  findGallery(id: $id) {
    ...GalleryData
  }
}
    ${An}`;function wh(t){const a=h(h({},K),t);return E.useQuery(gr,a)}function kh(t){const a=h(h({},K),t);return E.useLazyQuery(gr,a)}function LD(t){return{query:gr,variables:t}}const $n=E.gql`
    query FindImages($filter: FindFilterType, $image_filter: ImageFilterType, $image_ids: [Int!]) {
  findImages(filter: $filter, image_filter: $image_filter, image_ids: $image_ids) {
    count
    megapixels
    filesize
    images {
      ...SlimImageData
    }
  }
}
    ${sr}`;function xh(t){const a=h(h({},K),t);return E.useQuery($n,a)}function AD(t){const a=h(h({},K),t);return E.useLazyQuery($n,a)}function RD(t){return{query:$n,variables:t}}const fr=E.gql`
    query FindImage($id: ID!, $checksum: String) {
  findImage(id: $id, checksum: $checksum) {
    ...ImageData
  }
}
    ${_p}`;function Ph(t){const a=h(h({},K),t);return E.useQuery(fr,a)}function zD(t){const a=h(h({},K),t);return E.useLazyQuery(fr,a)}function qD(t){return{query:fr,variables:t}}const Ms=E.gql`
    query JobQueue {
  jobQueue {
    ...JobData
  }
}
    ${Go}`;function Ch(t){const a=h(h({},K),t);return E.useQuery(Ms,a)}function $D(t){const a=h(h({},K),t);return E.useLazyQuery(Ms,a)}function GD(t){return{query:Ms,variables:t}}const Os=E.gql`
    query FindJob($input: FindJobInput!) {
  findJob(input: $input) {
    ...JobData
  }
}
    ${Go}`;function VD(t){const a=h(h({},K),t);return E.useQuery(Os,a)}function BD(t){const a=h(h({},K),t);return E.useLazyQuery(Os,a)}function UD(t){return{query:Os,variables:t}}const Ns=E.gql`
    query SceneWall($q: String) {
  sceneWall(q: $q) {
    ...SceneData
  }
}
    ${dr}`;function QD(t){const a=h(h({},K),t);return E.useQuery(Ns,a)}function HD(t){const a=h(h({},K),t);return E.useLazyQuery(Ns,a)}function WD(t){return{query:Ns,variables:t}}const Is=E.gql`
    query MarkerWall($q: String) {
  markerWall(q: $q) {
    ...SceneMarkerData
  }
}
    ${Rn}`;function KD(t){const a=h(h({},K),t);return E.useQuery(Is,a)}function YD(t){const a=h(h({},K),t);return E.useLazyQuery(Is,a)}function JD(t){return{query:Is,variables:t}}const Hr=E.gql`
    query MarkerStrings($q: String, $sort: String) {
  markerStrings(q: $q, sort: $sort) {
    id
    count
    title
  }
}
    `;function Mh(t){const a=h(h({},K),t);return E.useQuery(Hr,a)}function XD(t){const a=h(h({},K),t);return E.useLazyQuery(Hr,a)}function ZD(t){return{query:Hr,variables:t}}const Ta=E.gql`
    query AllTags {
  allTags {
    ...TagData
  }
}
    ${zn}`;function Oh(t){const a=h(h({},K),t);return E.useQuery(Ta,a)}function eT(t){const a=h(h({},K),t);return E.useLazyQuery(Ta,a)}function tT(t){return{query:Ta,variables:t}}const ka=E.gql`
    query AllPerformersForFilter {
  allPerformers {
    ...SlimPerformerData
  }
}
    ${vp}`;function Nh(t){const a=h(h({},K),t);return E.useQuery(ka,a)}function aT(t){const a=h(h({},K),t);return E.useLazyQuery(ka,a)}function nT(t){return{query:ka,variables:t}}const Qa=E.gql`
    query AllStudiosForFilter {
  allStudios {
    ...SlimStudioData
  }
}
    ${lr}`;function Ih(t){const a=h(h({},K),t);return E.useQuery(Qa,a)}function rT(t){const a=h(h({},K),t);return E.useLazyQuery(Qa,a)}function iT(t){return{query:Qa,variables:t}}const pr=E.gql`
    query AllMoviesForFilter {
  allMovies {
    ...SlimMovieData
  }
}
    ${hp}`;function Dh(t){const a=h(h({},K),t);return E.useQuery(pr,a)}function sT(t){const a=h(h({},K),t);return E.useLazyQuery(pr,a)}function lT(t){return{query:pr,variables:t}}const Ha=E.gql`
    query AllTagsForFilter {
  allTags {
    id
    name
    aliases
  }
}
    `;function Th(t){const a=h(h({},K),t);return E.useQuery(Ha,a)}function oT(t){const a=h(h({},K),t);return E.useLazyQuery(Ha,a)}function cT(t){return{query:Ha,variables:t}}const Ds=E.gql`
    query Stats {
  stats {
    scene_count
    scenes_size
    scenes_duration
    image_count
    images_size
    gallery_count
    performer_count
    studio_count
    movie_count
    tag_count
  }
}
    `;function Fh(t){const a=h(h({},K),t);return E.useQuery(Ds,a)}function uT(t){const a=h(h({},K),t);return E.useLazyQuery(Ds,a)}function dT(t){return{query:Ds,variables:t}}const Ts=E.gql`
    query Logs {
  logs {
    ...LogEntryData
  }
}
    ${Vo}`;function jh(t){const a=h(h({},K),t);return E.useQuery(Ts,a)}function mT(t){const a=h(h({},K),t);return E.useLazyQuery(Ts,a)}function gT(t){return{query:Ts,variables:t}}const Fs=E.gql`
    query Version {
  version {
    version
    hash
    build_time
  }
}
    `;function Lh(t){const a=h(h({},K),t);return E.useQuery(Fs,a)}function fT(t){const a=h(h({},K),t);return E.useLazyQuery(Fs,a)}function pT(t){return{query:Fs,variables:t}}const js=E.gql`
    query LatestVersion {
  latestversion {
    shorthash
    url
  }
}
    `;function Ah(t){const a=h(h({},K),t);return E.useQuery(js,a)}function _T(t){const a=h(h({},K),t);return E.useLazyQuery(js,a)}function hT(t){return{query:js,variables:t}}const rn=E.gql`
    query FindMovies($filter: FindFilterType, $movie_filter: MovieFilterType) {
  findMovies(filter: $filter, movie_filter: $movie_filter) {
    count
    movies {
      ...MovieData
    }
  }
}
    ${ur}`;function Rh(t){const a=h(h({},K),t);return E.useQuery(rn,a)}function vT(t){const a=h(h({},K),t);return E.useLazyQuery(rn,a)}function ET(t){return{query:rn,variables:t}}const Wr=E.gql`
    query FindMovie($id: ID!) {
  findMovie(id: $id) {
    ...MovieData
  }
}
    ${ur}`;function zh(t){const a=h(h({},K),t);return E.useQuery(Wr,a)}function yT(t){const a=h(h({},K),t);return E.useLazyQuery(Wr,a)}function bT(t){return{query:Wr,variables:t}}const Bt=E.gql`
    query FindPerformers($filter: FindFilterType, $performer_filter: PerformerFilterType) {
  findPerformers(filter: $filter, performer_filter: $performer_filter) {
    count
    performers {
      ...PerformerData
    }
  }
}
    ${Ua}`;function vc(t){const a=h(h({},K),t);return E.useQuery(Bt,a)}function ST(t){const a=h(h({},K),t);return E.useLazyQuery(Bt,a)}function wT(t){return{query:Bt,variables:t}}const sn=E.gql`
    query FindPerformer($id: ID!) {
  findPerformer(id: $id) {
    ...PerformerData
  }
}
    ${Ua}`;function Ec(t){const a=h(h({},K),t);return E.useQuery(sn,a)}function kT(t){const a=h(h({},K),t);return E.useLazyQuery(sn,a)}function xT(t){return{query:sn,variables:t}}const Ls=E.gql`
    query Plugins {
  plugins {
    id
    name
    description
    url
    version
    tasks {
      name
      description
    }
    hooks {
      name
      description
      hooks
    }
  }
}
    `;function qh(t){const a=h(h({},K),t);return E.useQuery(Ls,a)}function PT(t){const a=h(h({},K),t);return E.useLazyQuery(Ls,a)}function $h(t){return{query:Ls,variables:t}}const As=E.gql`
    query PluginTasks {
  pluginTasks {
    name
    description
    plugin {
      id
      name
    }
  }
}
    `;function Gh(t){const a=h(h({},K),t);return E.useQuery(As,a)}function CT(t){const a=h(h({},K),t);return E.useLazyQuery(As,a)}function Vh(t){return{query:As,variables:t}}const ln=E.gql`
    query FindSceneMarkers($filter: FindFilterType, $scene_marker_filter: SceneMarkerFilterType) {
  findSceneMarkers(filter: $filter, scene_marker_filter: $scene_marker_filter) {
    count
    scene_markers {
      ...SceneMarkerData
    }
  }
}
    ${Rn}`;function Bh(t){const a=h(h({},K),t);return E.useQuery(ln,a)}function MT(t){const a=h(h({},K),t);return E.useLazyQuery(ln,a)}function OT(t){return{query:ln,variables:t}}const ma=E.gql`
    query FindScenes($filter: FindFilterType, $scene_filter: SceneFilterType, $scene_ids: [Int!]) {
  findScenes(filter: $filter, scene_filter: $scene_filter, scene_ids: $scene_ids) {
    count
    filesize
    duration
    scenes {
      ...SlimSceneData
    }
  }
}
    ${cr}`;function Rs(t){const a=h(h({},K),t);return E.useQuery(ma,a)}function NT(t){const a=h(h({},K),t);return E.useLazyQuery(ma,a)}function IT(t){return{query:ma,variables:t}}const Kr=E.gql`
    query FindScenesByPathRegex($filter: FindFilterType) {
  findScenesByPathRegex(filter: $filter) {
    count
    filesize
    duration
    scenes {
      ...SlimSceneData
    }
  }
}
    ${cr}`;function DT(t){const a=h(h({},K),t);return E.useQuery(Kr,a)}function TT(t){const a=h(h({},K),t);return E.useLazyQuery(Kr,a)}function FT(t){return{query:Kr,variables:t}}const zs=E.gql`
    query FindDuplicateScenes($distance: Int) {
  findDuplicateScenes(distance: $distance) {
    ...SlimSceneData
  }
}
    ${cr}`;function Uh(t){const a=h(h({},K),t);return E.useQuery(zs,a)}function jT(t){const a=h(h({},K),t);return E.useLazyQuery(zs,a)}function LT(t){return{query:zs,variables:t}}const sa=E.gql`
    query FindScene($id: ID!, $checksum: String) {
  findScene(id: $id, checksum: $checksum) {
    ...SceneData
  }
  sceneMarkerTags(scene_id: $id) {
    tag {
      id
      name
    }
    scene_markers {
      ...SceneMarkerData
    }
  }
}
    ${dr}
${Rn}`;function Qh(t){const a=h(h({},K),t);return E.useQuery(sa,a)}function AT(t){const a=h(h({},K),t);return E.useLazyQuery(sa,a)}function RT(t){return{query:sa,variables:t}}const Yr=E.gql`
    query ParseSceneFilenames($filter: FindFilterType!, $config: SceneParserInput!) {
  parseSceneFilenames(filter: $filter, config: $config) {
    count
    results {
      scene {
        ...SlimSceneData
      }
      title
      details
      url
      date
      rating
      studio_id
      gallery_ids
      movies {
        movie_id
      }
      performer_ids
      tag_ids
    }
  }
}
    ${cr}`;function zT(t){const a=h(h({},K),t);return E.useQuery(Yr,a)}function qT(t){const a=h(h({},K),t);return E.useLazyQuery(Yr,a)}function $T(t){return{query:Yr,variables:t}}const qs=E.gql`
    query SceneStreams($id: ID!) {
  sceneStreams(id: $id) {
    url
    mime_type
    label
  }
}
    `;function Hh(t){const a=h(h({},K),t);return E.useQuery(qs,a)}function GT(t){const a=h(h({},K),t);return E.useLazyQuery(qs,a)}function VT(t){return{query:qs,variables:t}}const Jr=E.gql`
    query ScrapeFreeones($performer_name: String!) {
  scrapeFreeones(performer_name: $performer_name) {
    name
    url
    twitter
    instagram
    birthdate
    ethnicity
    country
    eye_color
    height
    measurements
    fake_tits
    career_length
    tattoos
    piercings
    aliases
    details
    death_date
    hair_color
    weight
  }
}
    `;function BT(t){const a=h(h({},K),t);return E.useQuery(Jr,a)}function UT(t){const a=h(h({},K),t);return E.useLazyQuery(Jr,a)}function QT(t){return{query:Jr,variables:t}}const $s=E.gql`
    query ScrapeFreeonesPerformers($q: String!) {
  scrapeFreeonesPerformerList(query: $q)
}
    `;function Wh(t){const a=h(h({},K),t);return E.useQuery($s,a)}function HT(t){const a=h(h({},K),t);return E.useLazyQuery($s,a)}function WT(t){return{query:$s,variables:t}}const Gs=E.gql`
    query ListPerformerScrapers {
  listPerformerScrapers {
    id
    name
    performer {
      urls
      supported_scrapes
    }
  }
}
    `;function Kh(t){const a=h(h({},K),t);return E.useQuery(Gs,a)}function KT(t){const a=h(h({},K),t);return E.useLazyQuery(Gs,a)}function Yh(t){return{query:Gs,variables:t}}const Vs=E.gql`
    query ListSceneScrapers {
  listSceneScrapers {
    id
    name
    scene {
      urls
      supported_scrapes
    }
  }
}
    `;function Jh(t){const a=h(h({},K),t);return E.useQuery(Vs,a)}function YT(t){const a=h(h({},K),t);return E.useLazyQuery(Vs,a)}function Xh(t){return{query:Vs,variables:t}}const Bs=E.gql`
    query ListGalleryScrapers {
  listGalleryScrapers {
    id
    name
    gallery {
      urls
      supported_scrapes
    }
  }
}
    `;function Zh(t){const a=h(h({},K),t);return E.useQuery(Bs,a)}function JT(t){const a=h(h({},K),t);return E.useLazyQuery(Bs,a)}function XT(t){return{query:Bs,variables:t}}const Us=E.gql`
    query ListMovieScrapers {
  listMovieScrapers {
    id
    name
    movie {
      urls
      supported_scrapes
    }
  }
}
    `;function ev(t){const a=h(h({},K),t);return E.useQuery(Us,a)}function ZT(t){const a=h(h({},K),t);return E.useLazyQuery(Us,a)}function tv(t){return{query:Us,variables:t}}const _r=E.gql`
    query ScrapeSinglePerformer($source: ScraperSourceInput!, $input: ScrapeSinglePerformerInput!) {
  scrapeSinglePerformer(source: $source, input: $input) {
    ...ScrapedPerformerData
  }
}
    ${ws}`;function yc(t){const a=h(h({},K),t);return E.useQuery(_r,a)}function eF(t){const a=h(h({},K),t);return E.useLazyQuery(_r,a)}function tF(t){return{query:_r,variables:t}}const Xr=E.gql`
    query ScrapeMultiPerformers($source: ScraperSourceInput!, $input: ScrapeMultiPerformersInput!) {
  scrapeMultiPerformers(source: $source, input: $input) {
    ...ScrapedPerformerData
  }
}
    ${ws}`;function aF(t){const a=h(h({},K),t);return E.useQuery(Xr,a)}function nF(t){const a=h(h({},K),t);return E.useLazyQuery(Xr,a)}function rF(t){return{query:Xr,variables:t}}const Zr=E.gql`
    query ScrapePerformerURL($url: String!) {
  scrapePerformerURL(url: $url) {
    ...ScrapedPerformerData
  }
}
    ${ws}`;function iF(t){const a=h(h({},K),t);return E.useQuery(Zr,a)}function sF(t){const a=h(h({},K),t);return E.useLazyQuery(Zr,a)}function lF(t){return{query:Zr,variables:t}}const Wa=E.gql`
    query ScrapeSingleScene($source: ScraperSourceInput!, $input: ScrapeSingleSceneInput!) {
  scrapeSingleScene(source: $source, input: $input) {
    ...ScrapedSceneData
  }
}
    ${xs}`;function oF(t){const a=h(h({},K),t);return E.useQuery(Wa,a)}function cF(t){const a=h(h({},K),t);return E.useLazyQuery(Wa,a)}function uF(t){return{query:Wa,variables:t}}const ei=E.gql`
    query ScrapeMultiScenes($source: ScraperSourceInput!, $input: ScrapeMultiScenesInput!) {
  scrapeMultiScenes(source: $source, input: $input) {
    ...ScrapedSceneData
  }
}
    ${xs}`;function dF(t){const a=h(h({},K),t);return E.useQuery(ei,a)}function mF(t){const a=h(h({},K),t);return E.useLazyQuery(ei,a)}function gF(t){return{query:ei,variables:t}}const ti=E.gql`
    query ScrapeSceneURL($url: String!) {
  scrapeSceneURL(url: $url) {
    ...ScrapedSceneData
  }
}
    ${xs}`;function fF(t){const a=h(h({},K),t);return E.useQuery(ti,a)}function pF(t){const a=h(h({},K),t);return E.useLazyQuery(ti,a)}function _F(t){return{query:ti,variables:t}}const ai=E.gql`
    query ScrapeSingleGallery($source: ScraperSourceInput!, $input: ScrapeSingleGalleryInput!) {
  scrapeSingleGallery(source: $source, input: $input) {
    ...ScrapedGalleryData
  }
}
    ${Qo}`;function hF(t){const a=h(h({},K),t);return E.useQuery(ai,a)}function vF(t){const a=h(h({},K),t);return E.useLazyQuery(ai,a)}function EF(t){return{query:ai,variables:t}}const ni=E.gql`
    query ScrapeGalleryURL($url: String!) {
  scrapeGalleryURL(url: $url) {
    ...ScrapedGalleryData
  }
}
    ${Qo}`;function yF(t){const a=h(h({},K),t);return E.useQuery(ni,a)}function bF(t){const a=h(h({},K),t);return E.useLazyQuery(ni,a)}function SF(t){return{query:ni,variables:t}}const ri=E.gql`
    query ScrapeMovieURL($url: String!) {
  scrapeMovieURL(url: $url) {
    ...ScrapedMovieData
  }
}
    ${yp}`;function wF(t){const a=h(h({},K),t);return E.useQuery(ri,a)}function kF(t){const a=h(h({},K),t);return E.useLazyQuery(ri,a)}function xF(t){return{query:ri,variables:t}}const Ft=E.gql`
    query Configuration {
  configuration {
    ...ConfigData
  }
}
    ${pp}`;function av(t){const a=h(h({},K),t);return E.useQuery(Ft,a)}function PF(t){const a=h(h({},K),t);return E.useLazyQuery(Ft,a)}function CF(t){return{query:Ft,variables:t}}const Qs=E.gql`
    query Directory($path: String) {
  directory(path: $path) {
    path
    parent
    directories
  }
}
    `;function nv(t){const a=h(h({},K),t);return E.useQuery(Qs,a)}function MF(t){const a=h(h({},K),t);return E.useLazyQuery(Qs,a)}function OF(t){return{query:Qs,variables:t}}const ii=E.gql`
    query SystemStatus {
  systemStatus {
    databaseSchema
    databasePath
    appSchema
    status
    configPath
  }
}
    `;function rv(t){const a=h(h({},K),t);return E.useQuery(ii,a)}function NF(t){const a=h(h({},K),t);return E.useLazyQuery(ii,a)}function IF(t){return{query:ii,variables:t}}const Ea=E.gql`
    query FindStudios($filter: FindFilterType, $studio_filter: StudioFilterType) {
  findStudios(filter: $filter, studio_filter: $studio_filter) {
    count
    studios {
      ...StudioData
    }
  }
}
    ${Br}`;function iv(t){const a=h(h({},K),t);return E.useQuery(Ea,a)}function DF(t){const a=h(h({},K),t);return E.useLazyQuery(Ea,a)}function TF(t){return{query:Ea,variables:t}}const on=E.gql`
    query FindStudio($id: ID!) {
  findStudio(id: $id) {
    ...StudioData
  }
}
    ${Br}`;function bc(t){const a=h(h({},K),t);return E.useQuery(on,a)}function FF(t){const a=h(h({},K),t);return E.useLazyQuery(on,a)}function jF(t){return{query:on,variables:t}}const xa=E.gql`
    query FindTags($filter: FindFilterType, $tag_filter: TagFilterType) {
  findTags(filter: $filter, tag_filter: $tag_filter) {
    count
    tags {
      ...TagData
    }
  }
}
    ${zn}`;function sv(t){const a=h(h({},K),t);return E.useQuery(xa,a)}function LF(t){const a=h(h({},K),t);return E.useLazyQuery(xa,a)}function AF(t){return{query:xa,variables:t}}const Gn=E.gql`
    query FindTag($id: ID!) {
  findTag(id: $id) {
    ...TagData
  }
}
    ${zn}`;function lv(t){const a=h(h({},K),t);return E.useQuery(Gn,a)}function RF(t){const a=h(h({},K),t);return E.useLazyQuery(Gn,a)}function zF(t){return{query:Gn,variables:t}}const ov=E.gql`
    subscription JobsSubscribe {
  jobsSubscribe {
    type
    job {
      id
      status
      subTasks
      description
      progress
    }
  }
}
    `;function cv(t){const a=h(h({},K),t);return E.useSubscription(ov,a)}const uv=E.gql`
    subscription LoggingSubscribe {
  loggingSubscribe {
    ...LogEntryData
  }
}
    ${Vo}`;function dv(t){const a=h(h({},K),t);return E.useSubscription(uv,a)}const Sc=E.gql`
    subscription ScanCompleteSubscribe {
  scanCompleteSubscribe
}
    `;function qF(t){const a=h(h({},K),t);return E.useSubscription(Sc,a)}const si=new Map([["Male",At.Male],["Female",At.Female],["Transgender Male",At.TransgenderMale],["Transgender Female",At.TransgenderFemale],["Intersex",At.Intersex],["Non-Binary",At.NonBinary]]),Ka=t=>{if(!t)return;const a=Array.from(si.entries()).find(n=>n[1]===t);if(a)return a[0]},ya=(t,a)=>{if(!t)return;const n=si.get(t);if(n||!a)return n;const r=t.toUpperCase(),s=Array.from(si.entries()).find(l=>l[0].toUpperCase()===r);if(s)return s[1]},Hs=Array.from(si.keys());var mv=Object.defineProperty,gv=Object.defineProperties,fv=Object.getOwnPropertyDescriptors,li=Object.getOwnPropertySymbols,wc=Object.prototype.hasOwnProperty,kc=Object.prototype.propertyIsEnumerable,xc=(t,a,n)=>a in t?mv(t,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[a]=n,pv=(t,a)=>{for(var n in a||(a={}))wc.call(a,n)&&xc(t,n,a[n]);if(li)for(var n of li(a))kc.call(a,n)&&xc(t,n,a[n]);return t},_v=(t,a)=>gv(t,fv(a)),hv=(t,a)=>{var n={};for(var r in t)wc.call(t,r)&&a.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&li)for(var r of li(t))a.indexOf(r)<0&&kc.call(t,r)&&(n[r]=t[r]);return n};const vv=t=>t?t.filter(a=>a):[],Pc=t=>!!(t==null?void 0:t.__typename),Cc=t=>Array.isArray(t)?t.map(a=>Pc(a)?cn(a):Cc(a)):t;function cn(t){const a=t,{__typename:n}=a,r=hv(a,["__typename"]);return Object.entries(r).reduce((s,[l,u])=>_v(pv({},s),{[l]:Pc(u)?cn(u):Cc(u)}),{})}var Ev=ne(380),yv=ne(385),bv=ne(867),Sv=ne.n(bv);const wv={Query:{fields:{findImage:{read:(t,{args:a,toReference:n})=>n({__typename:"Image",id:a==null?void 0:a.id})},findPerformer:{read:(t,{args:a,toReference:n})=>n({__typename:"Performer",id:a==null?void 0:a.id})},findStudio:{read:(t,{args:a,toReference:n})=>n({__typename:"Studio",id:a==null?void 0:a.id})},findMovie:{read:(t,{args:a,toReference:n})=>n({__typename:"Movie",id:a==null?void 0:a.id})},findGallery:{read:(t,{args:a,toReference:n})=>n({__typename:"Gallery",id:a==null?void 0:a.id})},findScene:{read:(t,{args:a,toReference:n})=>n({__typename:"Scene",id:a==null?void 0:a.id})},findTag:{read:(t,{args:a,toReference:n})=>n({__typename:"Tag",id:a==null?void 0:a.id})}}},Tag:{fields:{parents:{merge:!1},children:{merge:!1}}}},Mc=()=>{const t=window.STASH_BASE_URL;return t==="%BASE_URL%"?"/":t},Ws=t=>{var a;const n=new URL(window.location.origin+Mc());return t&&(n.protocol="ws:"),n},kv=()=>{const t=Ws(),a=Ws(!0);t.protocol==="https:"&&(a.protocol="wss:");const n=`${t.toString()}graphql`,r=`${a.toString()}graphql`,s=Sv()({uri:n}),l=new Ev.a({uri:r,options:{reconnect:!0}}),u=Object(yv.a)(({networkError:f})=>{if(f&&f.statusCode===401){const p=new URL(`${window.STASH_BASE_URL}login`,window.location.toString());p.searchParams.append("returnURL",window.location.href),window.location.href=p.toString()}}),o=Object(E.split)(({query:f})=>{const p=Object(ir.q)(f);return p.kind==="OperationDefinition"&&p.operation==="subscription"},l,s),i=Object(E.from)([u,o]),c=new E.InMemoryCache({typePolicies:wv}),g=new E.ApolloClient({link:i,cache:c});return g.subscribe({query:Sc}).subscribe({next:()=>{g.resetStore()}}),{cache:c,client:g}};var xv=Object.defineProperty,Pv=Object.defineProperties,Cv=Object.getOwnPropertyDescriptors,Oc=Object.getOwnPropertySymbols,Mv=Object.prototype.hasOwnProperty,Ov=Object.prototype.propertyIsEnumerable,Nc=(t,a,n)=>a in t?xv(t,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[a]=n,oi=(t,a)=>{for(var n in a||(a={}))Mv.call(a,n)&&Nc(t,n,a[n]);if(Oc)for(var n of Oc(a))Ov.call(a,n)&&Nc(t,n,a[n]);return t},ci=(t,a)=>Pv(t,Cv(a));const{client:Be}=kv(),Ic=()=>Be,Ut=t=>t.map(a=>Object(ir.s)(a)).filter(a=>a!==null),et=t=>{const a=t.map(n=>{const r=Object(ir.t)(n).selectionSet.selections[0];return Object(ir.z)(r)?Object(ir.K)(r):""}).filter(n=>n!=="").reduce((n,r)=>ci(oi({},n),{[r]:(s,{DELETE:l})=>l}),{});return n=>n.modify({id:"ROOT_QUERY",fields:a})},Nv=t=>bh({variables:{mode:t}}),Iv=t=>Sh({variables:{mode:t}}),Dv=t=>hc({variables:{filter:t.makeFindFilter(),gallery_filter:t.makeFilter()}}),Tv=t=>Be.query({query:qn,variables:{filter:t.makeFindFilter(),gallery_filter:t.makeFilter()}}),Fv=t=>Rs({variables:{filter:t.makeFindFilter(),scene_filter:t.makeFilter()}}),hr=t=>Be.query({query:ma,variables:{filter:t.makeFindFilter(),scene_filter:t.makeFilter()}}),jv=t=>Be.query({query:ma,variables:{scene_ids:t}}),Lv=t=>Bh({variables:{filter:t.makeFindFilter(),scene_marker_filter:t.makeFilter()}}),Av=t=>Be.query({query:ln,variables:{filter:t.makeFindFilter(),scene_marker_filter:t.makeFilter()}}),Rv=t=>xh({variables:{filter:t.makeFindFilter(),image_filter:t.makeFilter()}}),zv=t=>Be.query({query:$n,variables:{filter:t.makeFindFilter(),image_filter:t.makeFilter()}}),qv=t=>iv({variables:{filter:t.makeFindFilter(),studio_filter:t.makeFilter()}}),$v=t=>Be.query({query:Ea,variables:{filter:t.makeFindFilter(),studio_filter:t.makeFilter()}}),Gv=t=>Rh({variables:{filter:t.makeFindFilter(),movie_filter:t.makeFilter()}}),Vv=t=>Be.query({query:rn,variables:{filter:t.makeFindFilter(),movie_filter:t.makeFilter()}}),Bv=t=>vc({variables:{filter:t.makeFindFilter(),performer_filter:t.makeFilter()}}),Uv=t=>sv({variables:{filter:t.makeFindFilter(),tag_filter:t.makeFilter()}}),Qv=t=>Be.query({query:xa,variables:{filter:t.makeFindFilter(),tag_filter:t.makeFilter()}}),Hv=t=>Be.query({query:Bt,variables:{filter:t.makeFindFilter(),performer_filter:t.makeFilter()}}),Dc=t=>wh({variables:{id:t},skip:t==="new"}),Wv=t=>Qh({variables:{id:t}}),Kv=t=>Hh({variables:{id:t}}),Yv=t=>Ph({variables:{id:t}}),Jv=t=>Be.query({query:sn,variables:{id:t}}),Xv=t=>Ec({variables:{id:t},skip:t==="new"}),Zv=t=>bc({variables:{id:t},skip:t==="new"}),eE=t=>Be.query({query:on,variables:{id:t}}),tE=t=>zh({variables:{id:t},skip:t==="new"}),aE=t=>lv({variables:{id:t},skip:t==="new"}),Ks=[sa,ma,ln,Hr],nE=()=>F_({refetchQueries:Ut([sa]),update:et(Ks)}),rE=()=>L_({refetchQueries:Ut([sa]),update:et(Ks)}),iE=()=>R_({refetchQueries:Ut([sa]),update:et(Ks)}),Tc=()=>Kh(),sE=(t,a)=>yc({variables:{source:{scraper_id:t},input:{query:a}},skip:a===""}),ui=()=>Jh(),Fc=()=>Zh(),jc=()=>ev(),$F=t=>Wh({variables:{q:t}}),Lc=()=>qh(),GF=()=>Gh(),lE=()=>Mh(),VF=()=>Oh(),oE=()=>Th(),cE=()=>Nh(),uE=()=>Ih(),Ac=()=>Dh(),dE=()=>Fh(),BF=()=>Lh(),mE=()=>Ah({notifyOnNetworkStatusChange:!0,errorPolicy:"ignore"}),Vn=()=>av(),gE=t=>Be.mutate({mutation:Ho,variables:{input:t},refetchQueries:Ut([Ft]),update:et([Ft])}),fE=t=>Be.mutate({mutation:Wo,variables:{input:t}}),pE=t=>nv({variables:{path:t}}),di=[Bt,sa,ma,ka],vr=()=>cc({refetchQueries:Ut([Bt,ka]),update:et([Bt,ka])}),Ys=()=>Ps({update:et(di)}),_E=t=>M_({variables:{input:t},update:et(di)}),hE=()=>N_({refetchQueries:Ut([Bt,ka]),update:et(di)}),vE=t=>D_({variables:t,refetchQueries:Ut([Bt,ka]),update:et(di)}),mi=[sn,Bt,ma,ln,on,Ea,Wr,rn,Gn,xa,Ta],Js=()=>q_({update:et(mi)}),EE=t=>G_({variables:{input:t},update:et(mi)}),yE=t=>B_({variables:{input:t}}),Xs=(t,a,n)=>{const r=a.readQuery({query:sa,variables:{id:t}});n===void 0||!(r==null?void 0:r.findScene)||a.writeQuery({query:sa,variables:{id:t},data:ci(oi({},r),{findScene:ci(oi({},r.findScene),{o_counter:n})})})},bE=t=>Q_({variables:{id:t},update:(a,n)=>{var r;return Xs(t,a,(r=n.data)==null?void 0:r.sceneIncrementO)}}),SE=t=>W_({variables:{id:t},update:(a,n)=>{var r;return Xs(t,a,(r=n.data)==null?void 0:r.sceneDecrementO)}}),wE=t=>Y_({variables:{id:t},update:(a,n)=>{var r;return Xs(t,a,(r=n.data)==null?void 0:r.sceneResetO)}}),UF=t=>X_({variables:t,update:et(mi)}),kE=t=>eh({variables:t,update:et(mi)}),xE=()=>ah({update:et([ma])}),Zs=[sn,Bt,$n,on,Ea,Gn,xa,Ta,gr,qn],Rc=()=>n_({update:et(Zs)}),PE=()=>i_({update:et(Zs)}),CE=t=>p_({variables:t,update:et(Zs)}),el=(t,a,n)=>{const r=a.readQuery({query:fr,variables:{id:t}});n===void 0||!(r==null?void 0:r.findImage)||a.writeQuery({query:fr,variables:{id:t},data:{findImage:ci(oi({},r.findImage),{o_counter:n})}})},ME=t=>o_({variables:{id:t},update:(a,n)=>{var r;return el(t,a,(r=n.data)==null?void 0:r.imageIncrementO)}}),OE=t=>u_({variables:{id:t},update:(a,n)=>{var r;return el(t,a,(r=n.data)==null?void 0:r.imageDecrementO)}}),NE=t=>m_({variables:{id:t},update:(a,n)=>{var r;return el(t,a,(r=n.data)==null?void 0:r.imageResetO)}}),Bn=[sn,Bt,$n,on,Ea,Gn,xa,Ta,gr,qn],IE=()=>Wp({update:et(Bn)}),zc=()=>Yp({update:et(Bn)}),DE=()=>Xp({update:et(Bn)}),TE=t=>t_({variables:t,update:et(Bn)}),FE=t=>Be.mutate({mutation:Ko,variables:t,update:et(Bn)}),jE=t=>Be.mutate({mutation:Yo,variables:t,update:et(Bn)}),tl=[Ea,sa,ma,Qa],Un=()=>fc({refetchQueries:Ut([Qa]),update:et([Ea,Qa])}),qc=()=>pc({update:et(tl)}),LE=t=>oh({variables:t,update:et(tl)}),AE=t=>uh({variables:t,update:et(tl)}),al=[sa,ma,rn,pr],$c=()=>v_({update:et([rn,pr])}),RE=()=>y_({update:et(al)}),zE=t=>S_({variables:t,update:et(al)}),qE=t=>k_({variables:t,update:et(al)}),gi=[sa,ma,ln,Ta,Ha,xa],un=()=>_c({refetchQueries:Ut([Ta,Ha,xa]),update:et([xa,Ta,Ha])}),$E=()=>hh({update:et(gi)}),Gc=t=>gh({variables:t,update:et(gi)}),GE=t=>ph({variables:t,update:et(gi)}),Vc=[Ur],VE=()=>Gp({update:et(Vc)}),BE=[Qr],UE=()=>Qp({update:et(BE)}),QE=()=>Bp({update:et(Vc)}),HE=()=>Eh({update:et(gi)}),WE=t=>Sp({variables:{input:t},refetchQueries:Ut([Ft]),update:et([Ft])}),KE=t=>kp({variables:{input:t},refetchQueries:Ut([Ft]),update:et([Ft])}),YE=()=>Dp({refetchQueries:Ut([Ft]),update:et([Ft])}),Bc=()=>Np({refetchQueries:Ut([Ft]),update:et([Ft])}),Uc=()=>cv(),JE=()=>Pp({refetchQueries:Ut([Ft]),update:et([Ft])}),XE=()=>Fp(),ZE=()=>Lp(),ey=()=>Rp(),ty=()=>qp(),ay=()=>dv(),ny=t=>Mp({variables:{input:t},refetchQueries:Ut([Ft]),update:et([Ft])}),QF=()=>Be.query({query:ii,fetchPolicy:"no-cache"}),nl=()=>rv({fetchPolicy:"no-cache"}),ry=()=>jh({fetchPolicy:"no-cache"}),iy=()=>Ch({fetchPolicy:"no-cache"}),sy=t=>Be.mutate({mutation:Jo,variables:{job_id:t}}),ly=()=>yh({fetchPolicy:"no-cache"}),HF=t=>Be.query({query:Jr,variables:{performer_name:t},fetchPolicy:"network-only"}),oy=(t,a)=>Be.query({query:_r,variables:{source:{scraper_id:t},input:{performer_input:a}},fetchPolicy:"network-only"}),cy=t=>Be.query({query:Zr,variables:{url:t},fetchPolicy:"network-only"}),Qc=(t,a)=>Be.query({query:Wa,variables:{source:t,input:{query:a}},fetchPolicy:"network-only"}),uy=t=>Be.query({query:ti,variables:{url:t},fetchPolicy:"network-only"}),dy=t=>Be.query({query:ni,variables:{url:t},fetchPolicy:"network-only"}),my=t=>Be.query({query:ri,variables:{url:t},fetchPolicy:"network-only"}),Hc=(t,a)=>Be.query({query:Wa,variables:{source:t,input:{scene_id:a}},fetchPolicy:"network-only"}),WF=(t,a)=>Be.query({query:Wa,variables:{source:{stash_box_index:t},input:{scene_id:a}},fetchPolicy:"network-only"}),Wc=(t,a)=>Be.query({query:Wa,variables:{source:t,input:{scene_input:a}},fetchPolicy:"network-only"}),gy=(t,a)=>Be.query({query:ai,variables:{source:{scraper_id:t},input:{gallery_id:a}},fetchPolicy:"network-only"}),fi=()=>Be.mutate({mutation:mc,refetchQueries:[tv(),Yh(),Xh()]}),fy=()=>Be.mutate({mutation:uc,refetchQueries:[$h(),Vh()]}),py=(t,a,n)=>Be.mutate({mutation:dc,variables:{plugin_id:t,task_name:a,args:n}}),pi=t=>Be.mutate({mutation:ac,variables:{input:t}}),Er=t=>Be.mutate({mutation:rc,variables:{input:t}}),Kc=t=>Be.mutate({mutation:nc,variables:{input:t}}),_y=t=>Be.mutate({mutation:sc,variables:{input:t}}),hy=t=>Be.mutate({mutation:ic,variables:{input:t}}),vy=()=>Be.mutate({mutation:lc}),Ey=()=>Be.mutate({mutation:Zo}),yy=t=>Be.mutate({mutation:ec,variables:{input:t}}),by=()=>Be.mutate({mutation:Xo}),Sy=t=>Be.mutate({mutation:tc,variables:{input:t}}),wy=t=>Be.mutate({mutation:oc,variables:{input:t}}),Yc=t=>Be.mutate({mutation:gc,variables:{input:t}}),KF=t=>Be.query({query:Kr,variables:{filter:t}}),ky=(t,a)=>Be.query({query:Yr,variables:{filter:t,config:a},fetchPolicy:"network-only"}),Jc=t=>{var a,n,r,s;return{name:(a=t.name)!=null?a:"",url:t.url,gender:ya(t.gender),birthdate:t.birthdate,ethnicity:t.ethnicity,country:t.country,eye_color:t.eye_color,height:t.height,measurements:t.measurements,fake_tits:t.fake_tits,career_length:t.career_length,tattoos:t.tattoos,piercings:t.piercings,aliases:t.aliases,twitter:t.twitter,instagram:t.instagram,tag_ids:vv(((n=t.tags)!=null?n:[]).map(u=>u.stored_id)),image:((r=t.images)!=null?r:[]).length>0?((s=t.images)!=null?s:[])[0]:void 0,details:t.details,death_date:t.death_date,hair_color:t.hair_color,weight:t.weight?Number(t.weight):void 0}},YF=(t,a)=>Be.query({query:Wa,variables:{source:{stash_box_index:a},input:{query:t}}}),Xc=(t,a)=>Be.query({query:_r,variables:{source:{stash_box_index:a},input:{query:t}}}),xy=(t,a)=>Be.query({query:ei,variables:{source:{stash_box_index:a},input:{scene_ids:t}}}),JF=(t,a)=>Be.query({query:Xr,variables:{source:{stash_box_index:a},input:{performer_ids:t}}}),Zc=(t,a="")=>t===null?{}:Object.keys(t).reduce((n,r)=>{const s=t[r],l=a?`${a}.${r}`:r;return typeof s=="string"?Object.assign(n,{[l]:s}):Object.assign(n,Zc(s,l)),n},{});var Py=Zc,Cy=ne(388),My=ne.n(Cy);class Oy extends e.a.Component{constructor(a){super(a);this.state={}}componentDidCatch(a,n){this.setState({error:a,errorInfo:n})}render(){return this.state.errorInfo?e.a.createElement("div",null,e.a.createElement("h2",null,"Something went wrong."),e.a.createElement("details",{className:"error-message"},this.state.error&&this.state.error.toString(),e.a.createElement("br",null),this.state.errorInfo.componentStack)):this.props.children}}const Pa=" | Stash";var Ny=ne(39),Qt=ne.n(Ny),Iy=ne(257),eu=ne.n(Iy),Dy=Object.defineProperty,tu=Object.getOwnPropertySymbols,Ty=Object.prototype.hasOwnProperty,Fy=Object.prototype.propertyIsEnumerable,au=(t,a,n)=>a in t?Dy(t,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[a]=n,nu=(t,a)=>{for(var n in a||(a={}))Ty.call(a,n)&&au(t,n,a[n]);if(tu)for(var n of tu(a))Fy.call(a,n)&&au(t,n,a[n]);return t},jy=(t,a,n)=>new Promise((r,s)=>{var l=i=>{try{o(n.next(i))}catch(c){s(c)}},u=i=>{try{o(n.throw(i))}catch(c){s(c)}},o=i=>i.done?r(i.value):Promise.resolve(i.value).then(l,u);o((n=n.apply(t,a)).next())});const rl={},Fa={};function _i(t,a={}){const[n,r]=e.a.useState(null),[s,l]=e.a.useState(Fa[t]),[u,o]=e.a.useState(rl[t]);return Object(d.useEffect)(()=>{function c(){return jy(this,null,function*(){try{const g=yield eu.a.getItem(t),f=JSON.parse(g!=null?g:"null");Object.is(f,null)?(l(a),Fa[t]=a):(l(f),Fa[t]=f),r(null)}catch(g){g instanceof Error&&r(g),Fa[t]=a}finally{rl[t]=!1,o(!1)}})}!u&&!Fa[t]&&(rl[t]=!0,o(!0),c())},[u,t,a]),Object(d.useEffect)(()=>{Re.a.isEqual(Fa[t],s)||(Fa[t]=nu(nu({},Fa[t]),s),eu.a.setItem(t,JSON.stringify(Fa[t])))}),[{data:s,error:n,loading:u||u===void 0},l]}const Ly=()=>_i("interface"),Ay=()=>_i("changelog");var ze=ne(424),Ca=ne(875),Ma=ne(876),hi=ne(408),yt=ne(872),ru=()=>{const t=Object(d.useRef)();return[t,()=>{const n=t.current;n&&n.focus()}]},mt=ne(883),il=(t,a,n)=>new Promise((r,s)=>{var l=i=>{try{o(n.next(i))}catch(c){s(c)}},u=i=>{try{o(n.throw(i))}catch(c){s(c)}},o=i=>i.done?r(i.value):Promise.resolve(i.value).then(l,u);o((n=n.apply(t,a)).next())});const Ry=({filter:t,onSetFilter:a,persistState:n})=>{var r;const s=He(),l=Object(ge.a)(),{data:u,error:o,loading:i,refetch:c}=Nv(t.mode),g=Object(d.useRef)(o),[f,p]=Object(d.useState)(""),[_,S]=Object(d.useState)(!1),[v,x]=Object(d.useState)(),[w,D]=Object(d.useState)(),[M]=VE(),[y]=QE(),[k]=UE(),F=(r=u==null?void 0:u.findSavedFilters)!=null?r:[];Object(d.useEffect)(()=>{o&&o!==g.current&&s.error(o),g.current=o},[o,s,g]);function I(U,te){return il(this,null,function*(){const oe=t.clone();oe.currentPage=1;try{S(!0),yield M({variables:{input:{id:te,mode:t.mode,name:U,filter:JSON.stringify(oe.getSavedQueryParameters())}}}),s.success({content:l.formatMessage({id:"toast.saved_entity"},{entity:l.formatMessage({id:"filter"}).toLocaleLowerCase()})}),p(""),D(void 0),c()}catch(Q){s.error(Q)}finally{S(!1)}})}function j(U){return il(this,null,function*(){try{S(!0),yield y({variables:{input:{id:U.id}}}),s.success({content:l.formatMessage({id:"toast.delete_past_tense"},{count:1,singularEntity:l.formatMessage({id:"filter"}),pluralEntity:l.formatMessage({id:"filters"})})}),c()}catch(te){s.error(te)}finally{S(!1),x(void 0)}})}function R(){return il(this,null,function*(){const U=t.clone();U.currentPage=1;try{S(!0),yield k({variables:{input:{mode:t.mode,filter:JSON.stringify(U.getSavedQueryParameters())}}}),s.success({content:l.formatMessage({id:"toast.default_filter_set"})})}catch(te){s.error(te)}finally{S(!1)}})}function P(U){const te=t.clone();te.currentPage=1,te.configureFromQueryParameters(JSON.parse(U.filter)),te.randomSeed=-1,a(te)}const z=({item:U})=>e.a.createElement("div",{className:"dropdown-item-container"},e.a.createElement(ze.a.Item,{onClick:()=>P(U),title:U.name},e.a.createElement("span",null,U.name)),e.a.createElement(yt.a,null,e.a.createElement(q.a,{className:"save-button",variant:"secondary",size:"sm",title:l.formatMessage({id:"actions.overwrite"}),onClick:te=>{D(U),te.stopPropagation()}},e.a.createElement(le,{icon:"save"})),e.a.createElement(q.a,{className:"delete-button",variant:"secondary",size:"sm",title:l.formatMessage({id:"actions.delete"}),onClick:te=>{x(U),te.stopPropagation()}},e.a.createElement(le,{icon:"times"}))));function L(){if(!!v)return e.a.createElement(mt.a,{show:!0},e.a.createElement(mt.a.Body,null,e.a.createElement(b.a,{id:"dialogs.delete_confirm",values:{entityName:v.name}})),e.a.createElement(mt.a.Footer,null,e.a.createElement(q.a,{variant:"danger",onClick:()=>j(v)},l.formatMessage({id:"actions.delete"})),e.a.createElement(q.a,{variant:"secondary",onClick:()=>x(void 0)},l.formatMessage({id:"actions.cancel"}))))}function G(){if(!!w)return e.a.createElement(mt.a,{show:!0},e.a.createElement(mt.a.Body,null,e.a.createElement(b.a,{id:"dialogs.overwrite_filter_confirm",values:{entityName:w.name}})),e.a.createElement(mt.a.Footer,null,e.a.createElement(q.a,{variant:"primary",onClick:()=>I(w.name,w.id)},l.formatMessage({id:"actions.overwrite"})),e.a.createElement(q.a,{variant:"secondary",onClick:()=>D(void 0)},l.formatMessage({id:"actions.cancel"}))))}function Y(){return i||_?e.a.createElement("div",{className:"loading"},e.a.createElement($e,{message:""})):e.a.createElement("ul",{className:"saved-filter-list"},F.filter(U=>!f||U.name.toLowerCase().includes(f)).map(U=>e.a.createElement(z,{key:U.name,item:U})))}function V(){if(n===ca.ALL)return e.a.createElement(q.a,{className:"set-as-default-button",variant:"secondary",size:"sm",onClick:()=>R()},l.formatMessage({id:"actions.set_as_default"}))}return e.a.createElement("div",null,L(),G(),e.a.createElement(Ze.a,null,e.a.createElement(hi.a,{className:"bg-secondary text-white border-secondary",placeholder:`${l.formatMessage({id:"filter_name"})}\u2026`,value:f,onChange:U=>p(U.target.value)}),e.a.createElement(Ze.a.Append,null,e.a.createElement(Ca.a,{placement:"top",overlay:e.a.createElement(Ma.a,{id:"filter-tooltip"},e.a.createElement(b.a,{id:"actions.save_filter"}))},e.a.createElement(q.a,{disabled:!f||!!F.find(U=>U.name===f),variant:"secondary",onClick:()=>{I(f)}},e.a.createElement(le,{icon:"save"}))))),Y(),V())},sl=1e3,zy=["20","40","60","120","250","500","1000"],qy=({onFilterUpdate:t,filter:a,filterOptions:n,filterDialogOpen:r,openFilterDialog:s,persistState:l})=>{const[u,o]=Object(d.useState)(!1),[i,c]=ru(),[g,f]=Object(d.useState)(!!a.searchTerm),p=Object(d.useRef)(null),[_,S]=ru(),v=Object(ia.debounce)(P=>{const z=Re.a.cloneDeep(a);z.searchTerm=P,z.currentPage=1,t(z)},500),x=Object(ge.a)();Object(d.useEffect)(()=>(B.a.bind("/",P=>{c(),P.preventDefault()}),B.a.bind("r",()=>F()),()=>{B.a.unbind("/"),B.a.unbind("r")})),Object(d.useEffect)(()=>{u&&S()},[u,S]);function w(P){if(P==="custom"){setTimeout(()=>o(!0),0);return}o(!1);let z=parseInt(P,10);if(Number.isNaN(z)||z<=0)return;z>sl&&(z=sl);const L=Re.a.cloneDeep(a);L.itemsPerPage=z,L.currentPage=1,t(L)}function D(P){v(P.currentTarget.value),f(!!P.currentTarget.value)}function M(){i.current.value="",v(""),c(),f(!1)}function y(){const P=Re.a.cloneDeep(a);a.sortDirection===Xt.Asc?P.sortDirection=Xt.Desc:P.sortDirection=Xt.Asc,t(P)}function k(P){const z=Re.a.cloneDeep(a);z.sortBy=P!=null?P:void 0,z.currentPage=1,t(z)}function F(){const P=Re.a.cloneDeep(a);P.currentPage=1,P.randomSeed=-1,t(P)}function I(){return n.sortByOptions.map(P=>({message:x.formatMessage({id:P.messageID}),value:P.value})).sort((P,z)=>P.message.localeCompare(z.message)).map(P=>e.a.createElement(ze.a.Item,{onSelect:k,key:P.value,className:"bg-secondary text-white",eventKey:P.value},P.message))}const j=e.a.forwardRef(({style:P,className:z},L)=>e.a.createElement("div",{ref:L,style:P,className:z},e.a.createElement(Ry,{filter:a,onSetFilter:G=>{t(G)},persistState:l})));j.displayName="SavedFilterDropdown";function R(){const P=n.sortByOptions.find(G=>G.value===a.sortBy),z=zy.map(G=>({label:G,value:G})),L=a.itemsPerPage.toString();return z.find(G=>G.value===L)||(z.push({label:L,value:L}),z.sort((G,Y)=>parseInt(G.value,10)-parseInt(Y.value,10))),z.push({label:`${x.formatMessage({id:"custom"})}...`,value:"custom"}),e.a.createElement(e.a.Fragment,null,e.a.createElement("div",{className:"d-flex mb-1"},e.a.createElement(Ze.a,{className:"mr-2 flex-grow-1"},e.a.createElement(Ze.a.Prepend,null,e.a.createElement(ze.a,null,e.a.createElement(Ca.a,{placement:"top",overlay:e.a.createElement(Ma.a,{id:"filter-tooltip"},e.a.createElement(b.a,{id:"search_filter.saved_filters"}))},e.a.createElement(ze.a.Toggle,{variant:"secondary"},e.a.createElement(le,{icon:"bookmark"}))),e.a.createElement(ze.a.Menu,{as:j,className:"saved-filter-list-menu"}))),e.a.createElement(hi.a,{ref:i,placeholder:`${x.formatMessage({id:"actions.search"})}\u2026`,defaultValue:a.searchTerm,onInput:D,className:"query-text-field bg-secondary text-white border-secondary"}),e.a.createElement(q.a,{variant:"secondary",onClick:M,title:x.formatMessage({id:"actions.clear"}),className:St()("query-text-field-clear",g?"":"d-none")},e.a.createElement(le,{icon:"times"})),e.a.createElement(Ze.a.Append,null,e.a.createElement(Ca.a,{placement:"top",overlay:e.a.createElement(Ma.a,{id:"filter-tooltip"},e.a.createElement(b.a,{id:"search_filter.name"}))},e.a.createElement(q.a,{variant:"secondary",onClick:()=>s(),active:r},e.a.createElement(le,{icon:"filter"})))))),e.a.createElement(ze.a,{as:yt.a,className:"mr-2 mb-1"},e.a.createElement(Ze.a.Prepend,null,e.a.createElement(ze.a.Toggle,{variant:"secondary"},P?x.formatMessage({id:P.messageID}):"")),e.a.createElement(ze.a.Menu,{className:"bg-secondary text-white"},I()),e.a.createElement(Ca.a,{overlay:e.a.createElement(Ma.a,{id:"sort-direction-tooltip"},a.sortDirection===Xt.Asc?x.formatMessage({id:"ascending"}):x.formatMessage({id:"descending"}))},e.a.createElement(q.a,{variant:"secondary",onClick:y},e.a.createElement(le,{icon:a.sortDirection===Xt.Asc?"caret-up":"caret-down"}))),a.sortBy==="random"&&e.a.createElement(Ca.a,{overlay:e.a.createElement(Ma.a,{id:"sort-reshuffle-tooltip"},x.formatMessage({id:"actions.reshuffle"}))},e.a.createElement(q.a,{variant:"secondary",onClick:F},e.a.createElement(le,{icon:"random"})))),e.a.createElement("div",null,e.a.createElement(m.a.Control,{as:"select",ref:p,onChange:G=>w(G.target.value),value:a.itemsPerPage.toString(),className:"btn-secondary mx-1 mb-1"},z.map(G=>e.a.createElement("option",{value:G.value,key:G.value},G.label))),e.a.createElement(zr.a,{target:p.current,show:u,placement:"bottom",rootClose:!0,onHide:()=>o(!1)},e.a.createElement(In.a,{id:"custom_pagesize_popover"},e.a.createElement(m.a,{inline:!0},e.a.createElement(Ze.a,null,e.a.createElement(m.a.Control,{type:"number",min:1,max:sl,className:"text-input",ref:_,onKeyPress:G=>{var Y,V;G.key==="Enter"&&(w((V=(Y=_.current)==null?void 0:Y.value)!=null?V:""),G.preventDefault())}}),e.a.createElement(Ze.a.Append,null,e.a.createElement(q.a,{variant:"primary",onClick:()=>{var G,Y;return w((Y=(G=_.current)==null?void 0:G.value)!=null?Y:"")}},e.a.createElement(le,{icon:"check"})))))))))}return R()};var Zt=ne(877);const $y=({criteria:t,onEditCriterion:a,onRemoveCriterion:n})=>{const r=Object(ge.a)();function s(o,i){!o||(n(o),i.stopPropagation())}function l(o){a(o)}function u(){return t.map(o=>e.a.createElement(Zt.a,{className:"tag-item",variant:"secondary",key:o.getId(),onClick:()=>l(o)},o.getLabel(r),e.a.createElement(q.a,{variant:"secondary",onClick:i=>s(o,i)},e.a.createElement(le,{icon:"times"}))))}return e.a.createElement("div",{className:"d-flex justify-content-center"},u())};var ct=ne(5);const ll=({itemsPerPage:t,currentPage:a,totalItems:n,onChangePage:r})=>{const s=Math.ceil(n/t);let l,u;s<=10?(l=1,u=s):a<=6?(l=1,u=10):a+4>=s?(l=s-9,u=s):(l=a-5,u=a+4);const o=[...Array(u+1-l).keys()].map(g=>l+g),i=g=>{if(o.length<=4||a===1&&g<=4)return"";const f=o[o.length-1];return a===f&&g>f-3||Math.abs(g-a)<=1?"":"d-none d-sm-block"},c=o.map(g=>e.a.createElement(q.a,{variant:"secondary",className:i(g),key:g,active:a===g,onClick:()=>r(g)},e.a.createElement(ct.b,{value:g})));return o.length<=1?e.a.createElement("div",null):e.a.createElement(yt.a,{className:"filter-container pagination"},e.a.createElement(q.a,{variant:"secondary",disabled:a===1,onClick:()=>r(1)},e.a.createElement("span",{className:"d-none d-sm-inline"},e.a.createElement(b.a,{id:"pagination.first"})),e.a.createElement("span",{className:"d-inline d-sm-none"},"\u300A")),e.a.createElement(q.a,{className:"d-none d-sm-block",variant:"secondary",disabled:a===1,onClick:()=>r(a-1)},e.a.createElement(b.a,{id:"pagination.previous"})),c,e.a.createElement(q.a,{className:"d-none d-sm-block",variant:"secondary",disabled:a===s,onClick:()=>r(a+1)},e.a.createElement(b.a,{id:"pagination.next"})),e.a.createElement(q.a,{variant:"secondary",disabled:a===s,onClick:()=>r(s)},e.a.createElement("span",{className:"d-none d-sm-inline"},e.a.createElement(b.a,{id:"pagination.last"})),e.a.createElement("span",{className:"d-inline d-sm-none"},"\u300B")))},iu=({itemsPerPage:t,currentPage:a,totalItems:n,metadataByline:r})=>{const s=Object(ge.a)(),l=Math.min((a-1)*t+1,n),u=Math.min(l+(t-1),n),o=`${s.formatNumber(l)}-${s.formatNumber(u)} of ${s.formatNumber(n)}`;return e.a.createElement("span",{className:"filter-container text-muted paginationIndex center-text"},o,e.a.createElement("br",null),r)},yr=["byte","kilobyte","megabyte","gigabyte","terabyte","petabyte"],Gy=["B","KB","MB","GB","TB","PB"],Vy=(t=0)=>{if(Number.isNaN(parseFloat(String(t)))||!Number.isFinite(t))return{size:0,unit:yr[0]};let a=0,n=t;for(;n>=1024&&a+1<yr.length;)n/=1024,a++;return{size:n,unit:yr[a]}},Pt=class{constructor(t,a,n,r){this.singular=t,this.plural=a,this.shortString=n,this.secs=r}toString(){return this.shortString}};let la=Pt;la.SECOND=new Pt("second","seconds","s",1),la.MINUTE=new Pt("minute","minutes","m",60),la.HOUR=new Pt("hour","hours","h",Pt.MINUTE.secs*60),la.DAY=new Pt("day","days","D",Pt.HOUR.secs*24),la.WEEK=new Pt("week","weeks","W",Pt.DAY.secs*7),la.MONTH=new Pt("month","months","M",Pt.DAY.secs*30),la.YEAR=new Pt("year","years","Y",Pt.DAY.secs*365),la.DURATIONS=[Pt.SECOND,Pt.MINUTE,Pt.HOUR,Pt.DAY,Pt.WEEK,Pt.MONTH,Pt.YEAR];class su{constructor(a,n){this.count=a,this.duration=n}toString(){return this.count.toString()+this.duration.toString()}}const By=(t=0)=>{if(Number.isNaN(parseFloat(String(t)))||!Number.isFinite(t))return[new su(0,la.DURATIONS[0])];const a=[];let n=t;for(let r=la.DURATIONS.length-1;r>=0;r--){const s=Math.floor(n/la.DURATIONS[r].secs);s!==0&&(n%=la.DURATIONS[r].secs,a.push(new su(s,la.DURATIONS[r])))}return a},Uy=t=>t.join(" "),Qy=(t=0,a=2)=>{const n=By(t).slice(0,a);return Uy(n)},Hy=t=>{const a=yr.indexOf(t);return Gy[a]},Wy=t=>yr.indexOf(t)>=3?1:0,Ky=t=>{let a=new Date(t*1e3).toISOString().substr(11,8);return a.startsWith("00")&&(a=a.substr(3)),a.startsWith("0")&&(a=a.substr(1)),a},Yy=t=>t?t.replace(/^.*[\\/]/,""):"No File Name",ol=t=>{if(!t)return null;const a=t.split("-");if(a.length!==3)return null;const n=Number(a[0]),r=Math.max(0,Number(a[1])-1),s=Number(a[2]);return new Date(n,r,s,0,0,0,0)},Jy=(t,a)=>{if(!t)return 0;const n=ol(t),r=a?ol(a):new Date;if(!n||!r)return 0;let s=r.getFullYear()-n.getFullYear();return(n.getMonth()>r.getMonth()||n.getMonth()>=r.getMonth()&&n.getDate()>r.getDate())&&(s-=1),s},Xy=t=>`${(t/1e6).toFixed(2)} megabits per second`,Zy=(t,a)=>{const n=t>a?a:t;if(n>=4320)return"8K";if(n>=3384)return"6K";if(n>=2880)return"5K";if(n>=2160)return"4K";if(n>=1920)return"1920p";if(n>=1440)return"1440p";if(n>=1080)return"1080p";if(n>=720)return"720p";if(n>=540)return"540p";if(n>=480)return"480p";if(n>=360)return"360p";if(n>=240)return"240p";if(n>=144)return"144p"},eb=new URL("https://www.twitter.com"),tb=new URL("https://www.instagram.com");var Me={fileSize:Vy,formatFileSizeUnit:Hy,fileSizeFractionalDigits:Wy,secondsToTimestamp:Ky,fileNameFromPath:Yy,stringToDate:ol,age:Jy,bitRate:Xy,resolution:Zy,sanitiseURL:(t,a)=>!t||t.startsWith("http://")||t.startsWith("https://")?t:a?t.startsWith(a.host)?`${a.protocol}//${t}`:`${a.protocol}//${a.host}/${t}`:`https://${t}`,twitterURL:eb,instagramURL:tb,formatDate:(t,a)=>a?t.formatDate(a,{format:"long",timeZone:"utc"}):"",capitalize:t=>t.replace(/^[-_]*(.)/,(a,n)=>n.toUpperCase()).replace(/[-_]+(.)/g,(a,n)=>` ${n.toUpperCase()}`),secondsAsTimeString:Qy},zt={secondsToString:t=>{let a=Me.secondsToTimestamp(t);return a.startsWith("00:")&&(a=a.substr(3),a.startsWith("0")&&(a=a.substr(1))),a},stringToSeconds:t=>{if(!t)return 0;const a=t.split(":");if(a.length>3)return 0;let n=0,r=1;for(;a.length>0;){const s=a.pop();if(s===void 0)return 0;const l=parseInt(s,10);if(Number.isNaN(l))return 0;n+=r*l,r*=60}return n}},ab=Object.defineProperty,nb=Object.defineProperties,rb=Object.getOwnPropertyDescriptors,lu=Object.getOwnPropertySymbols,ib=Object.prototype.hasOwnProperty,sb=Object.prototype.propertyIsEnumerable,ou=(t,a,n)=>a in t?ab(t,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[a]=n,lb=(t,a)=>{for(var n in a||(a={}))ib.call(a,n)&&ou(t,n,a[n]);if(lu)for(var n of lu(a))sb.call(a,n)&&ou(t,n,a[n]);return t},ob=(t,a)=>nb(t,rb(a)),Ge;(function(t){t[t.Grid=0]="Grid",t[t.List=1]="List",t[t.Wall=2]="Wall",t[t.Tagger=3]="Tagger"})(Ge||(Ge={}));function cb(t){return typeof t=="object"&&"items"in t&&"depth"in t}function ub(t){return typeof t=="object"&&"value"in t&&"value2"in t}function cu(t){const a=JSON.stringify(t.label).slice(1,-1);return ob(lb({},t),{label:encodeURIComponent(a)})}const uu={[ue.Equals]:"criterion_modifier.equals",[ue.NotEquals]:"criterion_modifier.not_equals",[ue.GreaterThan]:"criterion_modifier.greater_than",[ue.LessThan]:"criterion_modifier.less_than",[ue.IsNull]:"criterion_modifier.is_null",[ue.NotNull]:"criterion_modifier.not_null",[ue.Includes]:"criterion_modifier.includes",[ue.IncludesAll]:"criterion_modifier.includes_all",[ue.Excludes]:"criterion_modifier.excludes",[ue.MatchesRegex]:"criterion_modifier.matches_regex",[ue.NotMatchesRegex]:"criterion_modifier.not_matches_regex",[ue.Between]:"criterion_modifier.between",[ue.NotBetween]:"criterion_modifier.not_between"};class ja{static getModifierOption(a=ue.Equals){const n=uu[a];return{value:a,label:n}}constructor(a,n){this.criterionOption=a,this.modifier=a.defaultModifier,this.value=n}static getModifierLabel(a,n){const r=uu[n];return r?a.formatMessage({id:r}):""}getLabel(a){const n=ja.getModifierLabel(a,this.modifier);let r="";return this.modifier!==ue.IsNull&&this.modifier!==ue.NotNull&&(r=this.getLabelValue()),a.formatMessage({id:"criterion_modifier.format_string"},{criterion:a.formatMessage({id:this.criterionOption.messageID}),modifierString:n,valueString:r})}getId(){return`${this.criterionOption.parameterName}-${this.modifier.toString()}`}encodeValue(){return this.value}decodeValue(a){this.value=a}toJSON(){const a={type:this.criterionOption.type,value:this.encodeValue(),modifier:this.modifier};return JSON.stringify(a)}apply(a){a[this.criterionOption.parameterName]=this.toCriterionInput()}toCriterionInput(){return{value:this.value,modifier:this.modifier}}}class ba{constructor(a){var n,r,s;this.messageID=a.messageID,this.type=a.type,this.parameterName=(n=a.parameterName)!=null?n:a.type,this.modifierOptions=((r=a.modifierOptions)!=null?r:[]).map(l=>ja.getModifierOption(l)),this.defaultModifier=(s=a.defaultModifier)!=null?s:ue.Equals,this.options=a.options,this.inputType=a.inputType}}class br extends ba{constructor(a,n,r,s){super({messageID:a,type:n,parameterName:r,modifierOptions:[ue.Equals,ue.NotEquals,ue.Includes,ue.Excludes,ue.IsNull,ue.NotNull,ue.MatchesRegex,ue.NotMatchesRegex],defaultModifier:ue.Equals,options:s,inputType:"text"})}}function pt(t,a,n){var r;return new br(a!=null?a:t,t,(r=n!=null?n:a)!=null?r:t)}class ea extends ja{getLabelValue(){return this.value}encodeValue(){let a=this.value;return a=ea.replaceSpecialCharacter(a,"&"),a=ea.replaceSpecialCharacter(a,"+"),a}static replaceSpecialCharacter(a,n){return a.replaceAll(n,encodeURIComponent(n))}constructor(a){super(a,"")}}class cl extends ba{constructor(a,n,r,s){super({messageID:a,type:n,parameterName:r,modifierOptions:[ue.Equals,ue.NotEquals,ue.Includes,ue.Excludes,ue.MatchesRegex,ue.NotMatchesRegex],defaultModifier:ue.Equals,options:s,inputType:"text"})}}function Qn(t,a,n){var r;return new cl(a!=null?a:t,t,(r=n!=null?n:a)!=null?r:t)}class ul extends ba{constructor(a,n,r){super({messageID:a,type:n,parameterName:r,modifierOptions:[],defaultModifier:ue.Equals,options:[(!0).toString(),(!1).toString()]})}}class dl extends ea{toCriterionInput(){return this.value==="true"}}class vi extends ba{constructor(a,n,r,s){super({messageID:a,type:n,parameterName:r,modifierOptions:[ue.Equals,ue.NotEquals,ue.GreaterThan,ue.LessThan,ue.IsNull,ue.NotNull,ue.Between,ue.NotBetween],defaultModifier:ue.Equals,options:s,inputType:"number"})}}function db(t){return new vi(t,t,t)}class dn extends ja{getValue(){return typeof this.value!="object"?this.value:this.value.value}encodeValue(){return{value:this.getValue(),value2:this.value.value2}}toCriterionInput(){return{modifier:this.modifier,value:this.getValue(),value2:this.value.value2}}getLabelValue(){var a;const n=this.getValue();return this.modifier===ue.Between||this.modifier===ue.NotBetween?`${n}, ${(a=this.value.value2)!=null?a:0}`:`${n}`}constructor(a){super(a,{value:0,value2:void 0})}}class Oa extends ba{constructor(a,n,r,s){const l=[ue.Includes,ue.Excludes,ue.IsNull,ue.NotNull];let u=ue.Includes;s&&(l.unshift(ue.IncludesAll),u=ue.IncludesAll);super({messageID:a,type:n,parameterName:r,modifierOptions:l,defaultModifier:u})}}class Hn extends ja{getLabelValue(){return this.value.map(a=>a.label).join(", ")}toCriterionInput(){return{value:this.value.map(a=>a.id),modifier:this.modifier}}encodeValue(){return this.value.map(a=>cu(a))}constructor(a){super(a,[])}}class ml extends ja{encodeValue(){return{items:this.value.items.map(a=>cu(a)),depth:this.value.depth}}decodeValue(a){Array.isArray(a)?this.value.items=a:this.value=a}toCriterionInput(){var a;return{value:((a=this.value.items)!=null?a:[]).map(n=>n.id),modifier:this.modifier,depth:this.value.depth}}getLabelValue(){var a;const n=((a=this.value.items)!=null?a:[]).map(r=>r.label).join(", ");return this.value.depth===0?n:`${n} (+${this.value.depth>0?this.value.depth:"all"})`}constructor(a){const n={items:[],depth:0};super(a,n)}}class mn extends ba{constructor(a,n,r){super({messageID:a,type:n,parameterName:r,modifierOptions:[ue.Equals,ue.NotEquals,ue.GreaterThan,ue.LessThan,ue.Between,ue.NotBetween],defaultModifier:ue.Equals,inputType:"number"})}}function Ct(t){return new mn(t,t,t)}class du extends ja{constructor(a){super(a,{value:0,value2:void 0})}encodeValue(){return{value:this.value.value,value2:this.value.value2}}toCriterionInput(){return{modifier:this.modifier,value:this.value.value,value2:this.value.value2}}getLabelValue(){var a;return this.modifier===ue.Between||this.modifier===ue.NotBetween?`${zt.secondsToString(this.value.value)} ${zt.secondsToString((a=this.value.value2)!=null?a:0)}`:this.modifier===ue.GreaterThan||this.modifier===ue.LessThan||this.modifier===ue.Equals||this.modifier===ue.NotEquals?zt.secondsToString(this.value.value):"?"}}const Ei=new ul("organized","organized","organized");class mb extends dl{constructor(){super(Ei)}}const mu=new ul("favourite","favorite","filter_favorites");class gb extends dl{constructor(){super(mu)}}const gu=new ba({messageID:"hasMarkers",type:"hasMarkers",parameterName:"has_markers",options:[(!0).toString(),(!1).toString()]});class fb extends ea{constructor(){super(gu)}toCriterionInput(){return this.value}}class gn extends ea{constructor(){super(...arguments);this.modifierOptions=[],this.modifier=ue.Equals}toCriterionInput(){return this.value}}class fn extends ba{constructor(a,n,r,s){super({messageID:a,type:n,parameterName:r,options:s})}}const fu=new fn("isMissing","sceneIsMissing","is_missing",["title","details","url","date","galleries","studio","movie","performers","tags","stash_id"]),pu=new fn("isMissing","imageIsMissing","is_missing",["title","galleries","studio","performers","tags"]),_u=new fn("isMissing","performerIsMissing","is_missing",["url","twitter","instagram","ethnicity","country","hair_color","eye_color","height","weight","measurements","fake_tits","career_length","tattoos","piercings","aliases","gender","image","details","stash_id"]),hu=new fn("isMissing","galleryIsMissing","is_missing",["title","details","url","date","studio","performers","tags","scenes"]),vu=new fn("isMissing","tagIsMissing","is_missing",["image"]),Eu=new fn("isMissing","studioIsMissing","is_missing",["image","stash_id","details"]),yu=new fn("isMissing","movieIsMissing","is_missing",["front_image","back_image","scenes"]),bu=new br("none","none","none");class Su extends ja{constructor(){super(bu,"none")}getLabelValue(){return""}}const Wn=new Oa("performers","performers","performers",!0);class Kn extends Hn{constructor(){super(Wn)}}const gl=new Map([["144p",Vt.VeryLow],["240p",Vt.Low],["360p",Vt.R360P],["480p",Vt.Standard],["540p",Vt.WebHd],["720p",Vt.StandardHd],["1080p",Vt.FullHd],["1440p",Vt.QuadHd],["1920p",Vt.VrHd],["4k",Vt.FourK],["5k",Vt.FiveK],["6k",Vt.SixK],["8k",Vt.EightK]]),pb=(t,a)=>{if(!t)return;const n=gl.get(t);if(n||!a)return n;const r=t.toUpperCase(),s=Array.from(gl.entries()).find(l=>l[0].toUpperCase()===r);if(s)return s[1]},_b=Array.from(gl.keys());class wu extends ea{toCriterionInput(){const a=pb(this.value);if(a!==void 0)return{value:a,modifier:this.modifier}}}class ku extends ba{constructor(a){super({messageID:a,type:a,parameterName:a,modifierOptions:[ue.Equals,ue.NotEquals,ue.GreaterThan,ue.LessThan],options:_b})}}const fl=new ku("resolution");class hb extends wu{constructor(){super(fl)}}const xu=new ku("average_resolution");class vb extends wu{constructor(){super(xu)}}const Yn=new Oa("studios","studios","studios",!1);class pn extends ml{constructor(){super(Yn)}}const Pu=new Oa("parent_studios","parent_studios","parents",!1);class pl extends Hn{constructor(){super(Pu)}}class ta extends ml{}const oa=new Oa("tags","tags","tags",!0),Cu=new Oa("sceneTags","sceneTags","scene_tags",!0),yi=new Oa("performerTags","performerTags","performer_tags",!0),_l=new Oa("parent_tags","parentTags","parents",!0),hl=new Oa("sub_tags","childTags","children",!0),Mu=new ba({messageID:"gender",type:"gender",options:Hs});class Eb extends ea{constructor(){super(Mu)}toCriterionInput(){return{value:ya(this.value),modifier:this.modifier}}}const vl=new Oa("movies","movies","movies",!1);class Ou extends Hn{constructor(){super(vl)}}const yb=new Oa("galleries","galleries","galleries",!0);class bi extends Hn{constructor(){super(yb)}}const Nu=new ul("interactive","interactive");class bb extends dl{constructor(){super(Nu)}}const _n=new vi("rating","rating","rating",[1,2,3,4,5]),Iu=new ba({messageID:"media_info.phash",type:"phash",parameterName:"phash",inputType:"text",modifierOptions:[ue.Equals,ue.NotEquals,ue.IsNull,ue.NotNull]});function El(t="none"){switch(t){case"none":return new Su;case"name":case"path":case"checksum":return new ea(new cl(t,t));case"oshash":return new ea(new cl("media_info.hash",t,t));case"rating":return new dn(_n);case"organized":return new mb;case"o_counter":case"scene_count":case"marker_count":case"image_count":case"gallery_count":case"performer_count":case"tag_count":return new dn(new mn(t,t));case"resolution":return new hb;case"average_resolution":return new vb;case"duration":return new du(new vi(t,t));case"favorite":return new gb;case"hasMarkers":return new fb;case"sceneIsMissing":return new gn(fu);case"imageIsMissing":return new gn(pu);case"performerIsMissing":return new gn(_u);case"galleryIsMissing":return new gn(hu);case"tagIsMissing":return new gn(vu);case"studioIsMissing":return new gn(Eu);case"movieIsMissing":return new gn(yu);case"tags":return new ta(oa);case"sceneTags":return new ta(Cu);case"performerTags":return new ta(yi);case"parentTags":return new ta(_l);case"childTags":return new ta(hl);case"performers":return new Kn;case"studios":return new pn;case"parent_studios":return new pl;case"movies":return new Hn(vl);case"galleries":return new bi;case"birth_year":case"death_year":case"weight":return new dn(new vi(t,t));case"age":return new dn(new mn(t,t));case"gender":return new Eb;case"sceneChecksum":case"galleryChecksum":return new ea(new br("checksum",t,"checksum"));case"phash":return new ea(Iu);case"ethnicity":case"country":case"hair_color":case"eye_color":case"height":case"measurements":case"fake_tits":case"career_length":case"tattoos":case"piercings":case"aliases":case"url":case"stash_id":case"details":case"title":case"director":case"synopsis":return new ea(new br(t,t));case"interactive":return new bb;case"parent_tag_count":return new dn(new mn("parent_tag_count","parent_tag_count","parent_count"));case"child_tag_count":return new dn(new mn("sub_tag_count","child_tag_count","child_count"))}}var Sb=Math.pow;const Jn={sortDirection:Xt.Asc,displayMode:Ge.Grid,currentPage:1,itemsPerPage:40};class bt{constructor(a,n,r,s,l){this.currentPage=Jn.currentPage,this.itemsPerPage=Jn.itemsPerPage,this.sortDirection=Xt.Asc,this.displayMode=Jn.displayMode,this.zoomIndex=1,this.criteria=[],this.randomSeed=-1,this.defaultZoomIndex=1,this.mode=a;const u=n;this.sortBy=r,s!==void 0&&(this.displayMode=s),l!==void 0&&(this.defaultZoomIndex=l,this.zoomIndex=l),u&&this.configureFromQueryParameters(u)}clone(){return Object.assign(new bt(this.mode),this)}configureFromQueryParameters(a){if(a.sortby!==void 0){this.sortBy=a.sortby;const n="random_";if(this.sortBy&&this.sortBy.startsWith(n)){const r=this.sortBy.substring(n.length);this.sortBy="random";try{this.randomSeed=Number.parseInt(r,10)}catch(s){}}}if(a.sortdir!==void 0&&(this.sortDirection=a.sortdir==="desc"?Xt.Desc:Xt.Asc),a.disp!==void 0&&(this.displayMode=Number.parseInt(a.disp,10)),a.q&&(this.searchTerm=a.q.trim()),this.currentPage=a.p?Number.parseInt(a.p,10):1,a.perPage&&(this.itemsPerPage=Number.parseInt(a.perPage,10)),a.z!==void 0){const n=Number.parseInt(a.z,10);n>=0&&!Number.isNaN(n)&&(this.zoomIndex=n)}if(this.criteria=[],a.c!==void 0){let n;a.c instanceof Array?n=a.c:n=[a.c],n.forEach(r=>{try{const s=JSON.parse(r),l=El(s.type);l&&(l.decodeValue(s.value),l.modifier=s.modifier,this.criteria.push(l))}catch(s){console.error("Failed to parse encoded criterion:",s)}})}}setRandomSeed(){this.sortBy==="random"?this.randomSeed===-1&&(this.randomSeed=Math.floor(Math.random()*Sb(10,8))):this.randomSeed=-1}getSortBy(){return this.setRandomSeed(),this.sortBy==="random"?`${this.sortBy}_${this.randomSeed.toString()}`:this.sortBy}getQueryParameters(){var a;const n=this.criteria.map(s=>s.toJSON());return{perPage:this.itemsPerPage!==Jn.itemsPerPage?this.itemsPerPage:void 0,sortby:(a=this.getSortBy())!=null?a:void 0,sortdir:this.sortDirection===Xt.Desc?"desc":void 0,disp:this.displayMode!==Jn.displayMode?this.displayMode:void 0,q:this.searchTerm,p:this.currentPage!==Jn.currentPage?this.currentPage:void 0,z:this.zoomIndex!==this.defaultZoomIndex?this.zoomIndex:void 0,c:n}}getSavedQueryParameters(){var a;const n=this.criteria.map(s=>s.toJSON());return{perPage:this.itemsPerPage,sortby:(a=this.getSortBy())!=null?a:void 0,sortdir:this.sortDirection===Xt.Desc?"desc":void 0,disp:this.displayMode,q:this.searchTerm,z:this.zoomIndex,c:n}}makeQueryParameters(){return Qt.a.stringify(this.getQueryParameters(),{encode:!1})}makeFindFilter(){return{q:this.searchTerm,page:this.currentPage,per_page:this.itemsPerPage,sort:this.getSortBy(),direction:this.sortDirection}}makeFilter(){const a={};return this.criteria.forEach(n=>{n.apply(a)}),a}}const yl=["title","path","rating","file_mod_time","tag_count","performer_count","random"];class Nt{constructor(a,n,r,s){this.defaultSortBy="",this.sortByOptions=[],this.displayModeOptions=[],this.criterionOptions=[],this.defaultSortBy=a,this.sortByOptions=[...n,Nt.createSortBy("created_at"),Nt.createSortBy("updated_at")],this.displayModeOptions=r,this.criterionOptions=s}static createSortBy(a){return{messageID:a,value:a}}}const wb="path",kb=["date",...yl].map(Nt.createSortBy).concat([{messageID:"image_count",value:"images_count"}]),xb=[Ge.Grid,Ge.List,Ge.Wall],Pb=[pt("title"),pt("details"),pt("path"),pt("galleryChecksum","media_info.checksum","checksum"),_n,Ei,xu,hu,oa,pt("tag_count"),yi,Wn,pt("performer_count"),pt("image_count"),Yn,pt("url")],Cb=new Nt(wb,kb,xb,Pb),Mb="path",Ob=["o_counter","filesize",...yl].map(Nt.createSortBy),Nb=[Ge.Grid,Ge.Wall],Ib=[pt("title"),Qn("checksum","media_info.checksum"),Qn("path"),_n,Ei,Ct("o_counter"),fl,pu,oa,Ct("tag_count"),yi,Wn,Ct("performer_count"),Yn],Db=new Nt(Mb,Ob,Nb,Ib),Tb="name",Fb=["name","random","date","duration","rating"].map(Nt.createSortBy).concat([{messageID:"scene_count",value:"scenes_count"}]),jb=[Ge.Grid],Lb=[Yn,yu,pt("url"),pt("name"),pt("director"),pt("synopsis"),Ct("duration"),_n,Wn],Ab=new Nt(Tb,Fb,jb,Lb),Rb="name",zb=["name","height","birthdate","tag_count","random","rating"].map(Nt.createSortBy).concat([{messageID:"scene_count",value:"scenes_count"},{messageID:"image_count",value:"images_count"},{messageID:"gallery_count",value:"galleries_count"}]),qb=[Ge.Grid,Ge.List,Ge.Tagger],$b=["birth_year","death_year","age","weight"],Gb=["name","details","ethnicity","country","hair_color","eye_color","height","measurements","fake_tits","career_length","tattoos","piercings","aliases","stash_id"],Vb=[mu,Mu,_u,oa,_n,Yn,pt("url"),Ct("tag_count"),Ct("scene_count"),Ct("image_count"),Ct("gallery_count"),...$b.map(t=>db(t)),...Gb.map(t=>pt(t))],Bb=new Nt(Rb,zb,qb,Vb),Ub="title",Qb=["title","seconds","scene_id","random","scenes_updated_at"].map(Nt.createSortBy),Hb=[Ge.Wall],Wb=[oa,Cu,Wn],Kb=new Nt(Ub,Qb,Hb,Wb),Yb="date",Jb=["organized","o_counter","date","filesize","duration","framerate","bitrate","movie_scene_number","interactive",...yl].map(Nt.createSortBy),Xb=[Ge.Grid,Ge.List,Ge.Wall,Ge.Tagger],Zb=[pt("title"),Qn("path"),pt("details"),Qn("oshash","media_info.hash"),pt("sceneChecksum","media_info.checksum","checksum"),Iu,_n,Ei,Ct("o_counter"),fl,Ct("duration"),gu,fu,oa,Ct("tag_count"),yi,Wn,Ct("performer_count"),Yn,vl,pt("url"),pt("stash_id"),Nu],Du=new Nt(Yb,Jb,Xb,Zb),eS="name",tS=["name","random","rating"].map(Nt.createSortBy).concat([{messageID:"gallery_count",value:"galleries_count"},{messageID:"image_count",value:"images_count"},{messageID:"scene_count",value:"scenes_count"}]),aS=[Ge.Grid],nS=[Qn("name"),pt("details"),Pu,Eu,_n,Ct("scene_count"),Ct("image_count"),Ct("gallery_count"),pt("url"),pt("stash_id"),pt("aliases")],rS=new Nt(eS,tS,aS,nS),iS="name",sS=["name","random"].map(Nt.createSortBy).concat([{messageID:"gallery_count",value:"galleries_count"},{messageID:"image_count",value:"images_count"},{messageID:"performer_count",value:"performers_count"},{messageID:"scene_count",value:"scenes_count"},{messageID:"marker_count",value:"scene_markers_count"}]),lS=[Ge.Grid,Ge.List],oS=[Qn("name"),vu,pt("aliases"),Ct("scene_count"),Ct("image_count"),Ct("gallery_count"),Ct("performer_count"),Ct("marker_count"),_l,new mn("parent_tag_count","parent_tag_count","parent_count"),hl,new mn("sub_tag_count","child_tag_count","child_count")],cS=new Nt(iS,sS,lS,oS);function uS(t){switch(t){case nt.Scenes:return Du;case nt.Performers:return Bb;case nt.Studios:return rS;case nt.Galleries:return Cb;case nt.SceneMarkers:return Kb;case nt.Movies:return Ab;case nt.Tags:return cS;case nt.Images:return Db}}var dS=ne(873);const mS=({zoomIndex:t,onSetZoom:a,displayMode:n,onSetDisplayMode:r,displayModeOptions:s})=>{const l=0,u=3,o=Object(ge.a)();Object(d.useEffect)(()=>(B.a.bind("v g",()=>{s.includes(Ge.Grid)&&r(Ge.Grid)}),B.a.bind("v l",()=>{s.includes(Ge.List)&&r(Ge.List)}),B.a.bind("v w",()=>{s.includes(Ge.Wall)&&r(Ge.Wall)}),B.a.bind("+",()=>{a&&t!==void 0&&t<u&&a(t+1)}),B.a.bind("-",()=>{a&&t!==void 0&&t>l&&a(t-1)}),()=>{B.a.unbind("v g"),B.a.unbind("v l"),B.a.unbind("v w"),B.a.unbind("+"),B.a.unbind("-")}));function i(){function f(_){switch(_){case Ge.Grid:return"th-large";case Ge.List:return"list";case Ge.Wall:return"square";case Ge.Tagger:return"tags"}}function p(_){let S="unknown";switch(_){case Ge.Grid:S="grid";break;case Ge.List:S="list";break;case Ge.Wall:S="wall";break;case Ge.Tagger:S="tagger";break}return o.formatMessage({id:`display_mode.${S}`})}if(!(s.length<2))return e.a.createElement(yt.a,null,s.map(_=>e.a.createElement(Ca.a,{key:_,overlay:e.a.createElement(Ma.a,{id:"display-mode-tooltip"},p(_))},e.a.createElement(q.a,{variant:"secondary",active:n===_,onClick:()=>r(_)},e.a.createElement(le,{icon:f(_)})))))}function c(f){a&&a(f)}function g(){if(a&&n===Ge.Grid)return e.a.createElement("div",{className:"align-middle"},e.a.createElement(m.a.Control,{className:"zoom-slider d-none d-sm-inline-flex ml-3",type:"range",min:l,max:u,value:t,onChange:f=>c(Number.parseInt(f.currentTarget.value,10))}))}return e.a.createElement(e.a.Fragment,null,e.a.createElement(yt.a,null,i()),g())},gS=({onSelectAll:t,onSelectNone:a,onEdit:n,onDelete:r,itemsSelected:s,otherOperations:l})=>{const u=Object(ge.a)();Object(d.useEffect)(()=>(B.a.bind("s a",()=>t==null?void 0:t()),B.a.bind("s n",()=>a==null?void 0:a()),s&&(B.a.bind("e",()=>{n==null||n()}),B.a.bind("d d",()=>{r==null||r()})),()=>{B.a.unbind("s a"),B.a.unbind("s n"),s&&(B.a.unbind("e"),B.a.unbind("d d"))}));function o(){const f=(l!=null?l:[]).filter(p=>p.icon?p.isDisplayed?p.isDisplayed():!0:!1);if(s&&(n&&f.push({icon:"pencil-alt",text:u.formatMessage({id:"actions.edit"}),onClick:n}),r&&f.push({icon:"trash",text:u.formatMessage({id:"actions.delete"}),onClick:r,buttonVariant:"danger"})),f.length>0)return e.a.createElement(yt.a,{className:"ml-2 mb-1"},f.map(p=>{var _;return e.a.createElement(Ca.a,{overlay:e.a.createElement(Ma.a,{id:"edit"},p.text),key:p.text},e.a.createElement(q.a,{variant:(_=p.buttonVariant)!=null?_:"secondary",onClick:p.onClick},e.a.createElement(le,{icon:p.icon})))}))}function i(){if(t)return e.a.createElement(ze.a.Item,{key:"select-all",className:"bg-secondary text-white",onClick:()=>t==null?void 0:t()},e.a.createElement(b.a,{id:"actions.select_all"}))}function c(){if(a)return e.a.createElement(ze.a.Item,{key:"select-none",className:"bg-secondary text-white",onClick:()=>a==null?void 0:a()},e.a.createElement(b.a,{id:"actions.select_none"}))}function g(){const f=[i(),c()].filter(p=>p);if(l&&l.filter(p=>p.isDisplayed?p.isDisplayed():!0).forEach(p=>{f.push(e.a.createElement(ze.a.Item,{key:p.text,className:"bg-secondary text-white",onClick:p.onClick},p.text))}),f.length>0)return e.a.createElement(ze.a,{className:"mb-1"},e.a.createElement(ze.a.Toggle,{variant:"secondary",id:"more-menu"},e.a.createElement(le,{icon:"ellipsis-h"})),e.a.createElement(ze.a.Menu,{className:"bg-secondary text-white"},f))}return e.a.createElement(e.a.Fragment,null,o(),e.a.createElement("div",{className:"mx-2"},g()))},La=t=>{const[a,n]=Object(d.useState)(t.numericValue!==void 0?zt.secondsToString(t.numericValue):void 0);Object(d.useEffect)(()=>{var i;t.numericValue!==void 0||t.mandatory?n(zt.secondsToString((i=t.numericValue)!=null?i:0)):n(void 0)},[t.numericValue,t.mandatory]);function r(){if(a===void 0)return;let i=zt.stringToSeconds(a);i+=1,t.onValueChange(i,zt.secondsToString(i))}function s(){if(a===void 0)return;let i=zt.stringToSeconds(a);i-=1,t.onValueChange(i,zt.secondsToString(i))}function l(){if(!t.disabled)return e.a.createElement(yt.a,{vertical:!0},e.a.createElement(q.a,{variant:"secondary",className:"duration-button",disabled:t.disabled,onClick:()=>r()},e.a.createElement(le,{icon:"chevron-up"})),e.a.createElement(q.a,{variant:"secondary",className:"duration-button",disabled:t.disabled,onClick:()=>s()},e.a.createElement(le,{icon:"chevron-down"})))}function u(){t.onReset&&t.onReset()}function o(){if(t.onReset)return e.a.createElement(q.a,{variant:"secondary",onClick:u},e.a.createElement(le,{icon:"clock"}))}return e.a.createElement("div",{className:`duration-input ${t.className}`},e.a.createElement(Ze.a,null,e.a.createElement(m.a.Control,{className:"duration-control text-input",disabled:t.disabled,value:a,onChange:i=>n(i.currentTarget.value),onBlur:()=>{t.mandatory||a!==void 0&&a!==""?t.onValueChange(zt.stringToSeconds(a),a):t.onValueChange(void 0)},placeholder:t.disabled?void 0:t.placeholder?`${t.placeholder} (hh:mm:ss)`:"hh:mm:ss"}),e.a.createElement(Ze.a.Append,null,o(),l())))},fS=({criterion:t,onValueChanged:a})=>{var n,r,s,l;const u=Object(ge.a)();function o(f,p){const{value:_}=t;_[p]=f,a(_)}let i=null;(t.modifier===ue.Equals||t.modifier===ue.NotEquals)&&(i=e.a.createElement(m.a.Group,null,e.a.createElement(La,{numericValue:(n=t.value)==null?void 0:n.value,onValueChange:f=>o(f,"value"),placeholder:u.formatMessage({id:"criterion.value"})})));let c=null;(t.modifier===ue.GreaterThan||t.modifier===ue.Between||t.modifier===ue.NotBetween)&&(c=e.a.createElement(m.a.Group,null,e.a.createElement(La,{numericValue:(r=t.value)==null?void 0:r.value,onValueChange:f=>o(f,"value"),placeholder:u.formatMessage({id:"criterion.greater_than"})})));let g=null;return(t.modifier===ue.LessThan||t.modifier===ue.Between||t.modifier===ue.NotBetween)&&(g=e.a.createElement(m.a.Group,null,e.a.createElement(La,{numericValue:t.modifier===ue.LessThan?(s=t.value)==null?void 0:s.value:(l=t.value)==null?void 0:l.value2,onValueChange:f=>o(f,t.modifier===ue.LessThan?"value":"value2"),placeholder:u.formatMessage({id:"criterion.less_than"})}))),e.a.createElement(e.a.Fragment,null,i,c,g)},pS=({criterion:t,onValueChanged:a})=>{var n,r,s,l,u,o,i;const c=Object(ge.a)(),g=Object(d.useRef)(t.value);function f(x,w){const D=parseInt(x.target.value,10);g.current[w]=Number.isNaN(D)?0:D}function p(){a(g.current)}let _=null;(t.modifier===ue.Equals||t.modifier===ue.NotEquals)&&(_=e.a.createElement(m.a.Group,null,e.a.createElement(m.a.Control,{className:"btn-secondary",type:"number",onChange:x=>f(x,"value"),onBlur:p,defaultValue:(r=(n=t.value)==null?void 0:n.value)!=null?r:"",placeholder:c.formatMessage({id:"criterion.value"})})));let S=null;(t.modifier===ue.GreaterThan||t.modifier===ue.Between||t.modifier===ue.NotBetween)&&(S=e.a.createElement(m.a.Group,null,e.a.createElement(m.a.Control,{className:"btn-secondary",type:"number",onChange:x=>f(x,"value"),onBlur:p,defaultValue:(l=(s=t.value)==null?void 0:s.value)!=null?l:"",placeholder:c.formatMessage({id:"criterion.greater_than"})})));let v=null;return(t.modifier===ue.LessThan||t.modifier===ue.Between||t.modifier===ue.NotBetween)&&(v=e.a.createElement(m.a.Group,null,e.a.createElement(m.a.Control,{className:"btn-secondary",type:"number",onChange:x=>f(x,t.modifier===ue.LessThan?"value":"value2"),onBlur:p,defaultValue:(i=t.modifier===ue.LessThan?(u=t.value)==null?void 0:u.value:(o=t.value)==null?void 0:o.value2)!=null?i:"",placeholder:c.formatMessage({id:"criterion.less_than"})}))),e.a.createElement(e.a.Fragment,null,_,S,v)};var _S=ne(410),Tu=ne(20),hS=ne(409),vS=Object.defineProperty,ES=Object.defineProperties,yS=Object.getOwnPropertyDescriptors,Fu=Object.getOwnPropertySymbols,bS=Object.prototype.hasOwnProperty,SS=Object.prototype.propertyIsEnumerable,ju=(t,a,n)=>a in t?vS(t,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[a]=n,kt=(t,a)=>{for(var n in a||(a={}))bS.call(a,n)&&ju(t,n,a[n]);if(Fu)for(var n of Fu(a))SS.call(a,n)&&ju(t,n,a[n]);return t},qt=(t,a)=>ES(t,yS(a)),Si=(t,a,n)=>new Promise((r,s)=>{var l=i=>{try{o(n.next(i))}catch(c){s(c)}},u=i=>{try{o(n.throw(i))}catch(c){s(c)}},o=i=>i.done?r(i.value):Promise.resolve(i.value).then(l,u);o((n=n.apply(t,a)).next())});const bl=t=>t?Array.isArray(t)?t:[t]:[],wS=t=>bl(t).map(a=>a.value),wi=({type:t,initialIds:a,onChange:n,className:r,items:s,selectedOptions:l,isLoading:u,isDisabled:o=!1,onCreateOption:i,isClearable:c=!0,creatable:g=!1,isMulti:f,onInputChange:p,filterOption:_,isValidNewOption:S,components:v,placeholder:x,showDropdown:w=!0,groupHeader:D,menuPortalTarget:M,closeMenuOnSelect:y=!0,noOptionsMessage:k=t!=="tags"?"None":null})=>{var F;const I=s.filter(L=>(a==null?void 0:a.indexOf(L.value))!==-1),j=f?I:(F=I[0])!=null?F:null,R=D?[{label:D,options:s}]:s,P={option:L=>qt(kt({},L),{color:"#000"}),container:(L,G)=>qt(kt({},L),{zIndex:G.selectProps.isFocused?10:L.zIndex}),multiValueRemove:(L,G)=>qt(kt({},L),{color:G.selectProps.isFocused?L.color:"#333333"})},z={options:R,value:l,className:r,classNamePrefix:"react-select",onChange:n,isMulti:f,isClearable:c,defaultValue:j!=null?j:void 0,noOptionsMessage:()=>k,placeholder:o?"":x,onInputChange:p,filterOption:_,isValidNewOption:S,isDisabled:o,isLoading:u,styles:P,closeMenuOnSelect:y,menuPortalTarget:M,components:kt(kt(qt(kt({},v),{IndicatorSeparator:()=>null}),(!w||o)&&{DropdownIndicator:()=>null}),o&&{MultiValueRemove:()=>null})};return g?e.a.createElement(hS.a,qt(kt({},z),{isDisabled:u||o,onCreateOption:i})):e.a.createElement(_S.a,kt({},z))},ki=t=>{var a;const{items:n,ids:r,isMulti:s,onSelect:l}=t,[u,o]=Object(d.useState)(!1),i=r!=null?r:[],c=He(),g=n.map(v=>{var x;return{value:v.id,label:(x=v.name)!=null?x:""}}),f=g.filter(v=>i.includes(v.value)),p=s?f:(a=f[0])!=null?a:null,_=v=>{const x=wS(v);l==null||l(n.filter(w=>x.includes(w.id)))},S=v=>Si(void 0,null,function*(){var x;try{o(!0);const{item:w,message:D}=yield t.onCreate(v);(x=t.onSelect)==null||x.call(t,[...n.filter(M=>i.includes(M.id)),w]),o(!1),c.success({content:e.a.createElement("span",null,D,": ",e.a.createElement("b",null,v))})}catch(w){c.error(w)}});return e.a.createElement(wi,qt(kt({},t),{isLoading:t.isLoading||u,onChange:_,items:g,selectedOptions:p,onCreateOption:t.creatable?S:void 0}))},kS=t=>{var a;const[n,r]=Object(d.useState)(""),{data:s,loading:l}=hc({skip:n==="",variables:{filter:{q:n}}}),o=((a=s==null?void 0:s.findGalleries.galleries)!=null?a:[]).map(f=>{var p,_;return{label:(_=f.title)!=null?_:Me.fileNameFromPath((p=f.path)!=null?p:""),value:f.id}}),i=Object(ia.debounce)(f=>{r(f)},500),c=f=>{const p=bl(f);t.onSelect(p.map(_=>({id:_.value,title:_.label})))},g=t.galleries.map(f=>{var p;return{value:f.id,label:(p=f.title)!=null?p:"Unknown"}});return e.a.createElement(wi,{onChange:c,onInputChange:i,isLoading:l,items:o,selectedOptions:g,isMulti:!0,placeholder:"Search for gallery...",noOptionsMessage:n===""?null:"No galleries found.",showDropdown:!1})},xS=t=>{var a;const[n,r]=Object(d.useState)(""),{data:s,loading:l}=Rs({skip:n==="",variables:{filter:{q:n}}}),o=((a=s==null?void 0:s.findScenes.scenes)!=null?a:[]).map(f=>{var p,_;return{label:(_=f.title)!=null?_:Me.fileNameFromPath((p=f.path)!=null?p:""),value:f.id}}),i=Object(ia.debounce)(f=>{r(f)},500),c=f=>{const p=bl(f);t.onSelect((p!=null?p:[]).map(_=>({id:_.value,title:_.label})))},g=t.scenes.map(f=>({value:f.id,label:f.title}));return e.a.createElement(wi,{onChange:c,onInputChange:i,isLoading:l,items:o,selectedOptions:g,isMulti:!0,placeholder:"Search for scene...",noOptionsMessage:n===""?null:"No scenes found.",showDropdown:!1})},PS=t=>{var a;const{data:n,loading:r}=lE(),s=(a=n==null?void 0:n.markerStrings)!=null?a:[],l=i=>{var c;return t.onChange((c=i==null?void 0:i.value)!=null?c:"")},u=s.map(i=>{var c,g;return{label:(c=i==null?void 0:i.title)!=null?c:"",value:(g=i==null?void 0:i.title)!=null?g:""}}),o=t.initialMarkerTitle?[t.initialMarkerTitle]:[];return e.a.createElement(wi,{isMulti:!1,creatable:!0,onChange:l,isLoading:r,items:u,initialIds:o,placeholder:"Marker title...",className:"select-suggest",showDropdown:!1,groupHeader:"Previously used titles..."})},Aa=t=>{var a,n,r,s;const{data:l,loading:u}=cE(),[o]=vr(),{configuration:i}=e.a.useContext(Et),c=!(i==null?void 0:i.interface.disabledDropdownCreate.performer),g=(a=l==null?void 0:l.allPerformers)!=null?a:[],f=p=>Si(void 0,null,function*(){return{item:(yield o({variables:{input:{name:p}}})).data.performerCreate,message:"Created performer"}});return e.a.createElement(ki,qt(kt({},t),{isMulti:(n=t.isMulti)!=null?n:!1,creatable:(r=t.creatable)!=null?r:c,onCreate:f,type:"performers",isLoading:u,items:g,placeholder:(s=t.noSelectionString)!=null?s:"Select performer..."}))},Ht=t=>{var a,n,r;const[s,l]=Object(d.useState)({}),[u,o]=Object(d.useState)([]),{data:i,loading:c}=uE(),[g]=Un(),{configuration:f}=e.a.useContext(Et),p=!(f==null?void 0:f.interface.disabledDropdownCreate.studio),_=Object(d.useMemo)(()=>{var M;return(M=t.excludeIds)!=null?M:[]},[t.excludeIds]),S=Object(d.useMemo)(()=>{var M;return((M=i==null?void 0:i.allStudios)!=null?M:[]).filter(y=>!_.includes(y.id))},[i==null?void 0:i.allStudios,_]);Object(d.useEffect)(()=>{const M={},y=[];S.forEach(k=>{M[k.id]=k.aliases,y.push(...k.aliases)}),l(M),o(y)},[S]);const v=M=>{const{inputValue:y}=M.selectProps;let k=M;if(y&&!M.label.toLowerCase().includes(y.toLowerCase())){const F=`${M.data.label} (alias)`;k=qt(kt({},M),{children:F})}return e.a.createElement(Tu.l.Option,kt({},k))},x=(M,y)=>{if(!y)return!0;const k=y.toLowerCase();if(M.label.toLowerCase().includes(k))return!0;const I=s[M.value];return!!(I&&I.some(j=>j.toLowerCase()===k))},w=M=>Si(void 0,null,function*(){return{item:(yield g({variables:{input:{name:M}}})).data.studioCreate,message:"Created studio"}}),D=(M,y,k)=>!(!M||k.some(F=>F.label.toLowerCase()===M.toLowerCase())||u.some(F=>F.toLowerCase()===M.toLowerCase()));return e.a.createElement(ki,qt(kt({},t),{filterOption:x,isValidNewOption:D,components:{Option:v},isMulti:(a=t.isMulti)!=null?a:!1,type:"studios",isLoading:c,items:S,placeholder:(n=t.noSelectionString)!=null?n:"Select studio...",creatable:(r=t.creatable)!=null?r:p,onCreate:w}))},Sl=t=>{var a,n,r;const{data:s,loading:l}=Ac(),u=(a=s==null?void 0:s.allMovies)!=null?a:[];return e.a.createElement(ki,qt(kt({},t),{isMulti:(n=t.isMulti)!=null?n:!1,type:"movies",isLoading:l,items:u,placeholder:(r=t.noSelectionString)!=null?r:"Select movie..."}))},jt=t=>{var a,n,r;const[s,l]=Object(d.useState)({}),[u,o]=Object(d.useState)([]),{data:i,loading:c}=oE(),[g]=un(),f=(a=t.noSelectionString)!=null?a:"Select tags...",{configuration:p}=e.a.useContext(Et),_=!(p==null?void 0:p.interface.disabledDropdownCreate.tag),S=Object(d.useMemo)(()=>{var y;return(y=t.excludeIds)!=null?y:[]},[t.excludeIds]),v=Object(d.useMemo)(()=>{var y;return((y=i==null?void 0:i.allTags)!=null?y:[]).filter(k=>!S.includes(k.id))},[i==null?void 0:i.allTags,S]);Object(d.useEffect)(()=>{const y={},k=[];v.forEach(F=>{y[F.id]=F.aliases,k.push(...F.aliases)}),l(y),o(k)},[v]);const x=y=>{const{inputValue:k}=y.selectProps;let F=y;if(k&&!y.label.toLowerCase().includes(k.toLowerCase())){const I=`${y.data.label} (alias)`;F=qt(kt({},y),{children:I})}return e.a.createElement(Tu.l.Option,kt({},F))},w=(y,k)=>{if(!k)return!0;const F=k.toLowerCase();if(y.label.toLowerCase().includes(F))return!0;const j=s[y.value];return!!(j&&j.some(R=>R.toLowerCase()===F))},D=y=>Si(void 0,null,function*(){return{item:(yield g({variables:{input:{name:y}}})).data.tagCreate,message:"Created tag"}}),M=(y,k,F)=>!(!y||F.some(I=>I.label.toLowerCase()===y.toLowerCase())||u.some(I=>I.toLowerCase()===y.toLowerCase()));return e.a.createElement(ki,qt(kt({},t),{filterOption:w,isValidNewOption:M,components:{Option:x},isMulti:(n=t.isMulti)!=null?n:!1,items:v,creatable:(r=t.creatable)!=null?r:_,type:"tags",placeholder:f,isLoading:c,onCreate:D,closeMenuOnSelect:!t.isMulti}))},Sr=t=>t.type==="performers"?e.a.createElement(Aa,qt(kt({},t),{creatable:!1})):t.type==="studios"||t.type==="parent_studios"?e.a.createElement(Ht,qt(kt({},t),{creatable:!1})):t.type==="movies"?e.a.createElement(Sl,qt(kt({},t),{creatable:!1})):e.a.createElement(jt,qt(kt({},t),{creatable:!1})),CS=({criterion:t,onValueChanged:a})=>{if(t.criterionOption.type!=="performers"&&t.criterionOption.type!=="studios"&&t.criterionOption.type!=="parent_studios"&&t.criterionOption.type!=="tags"&&t.criterionOption.type!=="sceneTags"&&t.criterionOption.type!=="performerTags"&&t.criterionOption.type!=="parentTags"&&t.criterionOption.type!=="childTags"&&t.criterionOption.type!=="movies")return null;function n(r){a(r.map(s=>({id:s.id,label:s.name})))}return e.a.createElement(m.a.Group,null,e.a.createElement(Sr,{type:t.criterionOption.type,isMulti:!0,onSelect:n,ids:t.value.map(r=>r.id)}))},MS=({criterion:t,onValueChanged:a})=>{const n=Object(ge.a)();if(t.criterionOption.type!=="performers"&&t.criterionOption.type!=="studios"&&t.criterionOption.type!=="parent_studios"&&t.criterionOption.type!=="tags"&&t.criterionOption.type!=="sceneTags"&&t.criterionOption.type!=="performerTags"&&t.criterionOption.type!=="parentTags"&&t.criterionOption.type!=="childTags"&&t.criterionOption.type!=="movies")return null;const r=Object(ct.c)({studio_depth:{id:"studio_depth",defaultMessage:"Levels (empty for all)"}});function s(i){const{value:c}=t;c.items=i.map(g=>({id:g.id,label:g.name})),a(c)}function l(i){const{value:c}=t;c.depth=i,a(c)}function u(){return t.criterionOption.type==="studios"?"include-sub-studios":t.criterionOption.type==="childTags"?"include-parent-tags":"include-sub-tags"}function o(){return{id:t.criterionOption.type==="studios"?"include_sub_studios":t.criterionOption.type==="childTags"?"include_parent_tags":"include_sub_tags"}}return e.a.createElement(e.a.Fragment,null,e.a.createElement(m.a.Group,null,e.a.createElement(Sr,{type:t.criterionOption.type,isMulti:!0,onSelect:s,ids:t.value.items.map(i=>i.id)})),e.a.createElement(m.a.Group,null,e.a.createElement(m.a.Check,{id:u(),checked:t.value.depth!==0,label:n.formatMessage(o()),onChange:()=>l(t.value.depth!==0?0:-1)})),t.value.depth!==0&&e.a.createElement(m.a.Group,null,e.a.createElement(m.a.Control,{className:"btn-secondary",type:"number",placeholder:n.formatMessage(r.studio_depth),onChange:i=>l(i.target.value?parseInt(i.target.value,10):-1),defaultValue:t.value&&t.value.depth!==-1?t.value.depth:"",min:"1"})))},OS=({criterion:t,onValueChanged:a})=>{var n;function r(l){a(l.target.value)}const s=(n=t.criterionOption.options)!=null?n:[];return s&&(t.value===void 0||t.value===""||typeof t.value=="number")&&a(s[0].toString()),e.a.createElement(m.a.Group,null,e.a.createElement(m.a.Control,{as:"select",onChange:r,value:t.value.toString(),className:"btn-secondary"},s.map(l=>e.a.createElement("option",{key:l.toString(),value:l.toString()},l))))},NS=({criterion:t,onValueChanged:a})=>{function n(r){a(r.target.value)}return e.a.createElement(m.a.Group,null,e.a.createElement(m.a.Control,{className:"btn-secondary",type:t.criterionOption.inputType,onBlur:n,defaultValue:t.value?t.value.toString():""}))},IS=({onAddCriterion:t,onCancel:a,filterOptions:n,editingCriterion:r})=>{const s=Object(d.useRef)(),[l,u]=Object(d.useState)(new Su),{options:o,modifierOptions:i}=l.criterionOption,c=Object(d.useRef)(l.value),g=Object(ge.a)();Object(d.useEffect)(()=>{u(r||El())},[r]),Object(d.useEffect)(()=>{c.current=l.value},[l]);function f(M){const y=M.target.value,k=El(y);u(k)}function p(M){const y=Re.a.cloneDeep(l);y.modifier=M.target.value,u(y)}function _(M){const y=Re.a.cloneDeep(l);y.value=M,u(y)}function S(){const M=r?r.getId():void 0;t(l,M)}const v=()=>{if(l.criterionOption.type==="none")return;function M(){if(i.length!==0)return e.a.createElement(m.a.Control,{as:"select",onChange:p,value:l.modifier,className:"btn-secondary"},i.map(k=>e.a.createElement("option",{key:k.value,value:k.value},k.label?g.formatMessage({id:k.label}):"")))}function y(){if(!(l.modifier===ue.IsNull||l.modifier===ue.NotNull))return l instanceof Hn?e.a.createElement(CS,{criterion:l,onValueChanged:_}):l instanceof ml?e.a.createElement(MS,{criterion:l,onValueChanged:_}):o&&!cb(l.value)&&!ub(l.value)&&!Array.isArray(l.value)?(s.current=l.value,e.a.createElement(OS,{criterion:l,onValueChanged:_})):l instanceof du?e.a.createElement(fS,{criterion:l,onValueChanged:_}):l instanceof dn?e.a.createElement(pS,{criterion:l,onValueChanged:_}):e.a.createElement(NS,{criterion:l,onValueChanged:_})}return e.a.createElement(e.a.Fragment,null,e.a.createElement(m.a.Group,null,M()),y())};function x(){if(!!r)return e.a.createElement(m.a.Group,null,e.a.createElement("strong",null,g.formatMessage({id:r.criterionOption.messageID})))}function w(){if(r)return;const M=[bu].concat(n.criterionOptions).map(y=>({value:y.type,text:g.formatMessage({id:y.messageID})})).sort((y,k)=>y.value==="none"?-1:k.value==="none"?1:y.text.localeCompare(k.text));return e.a.createElement(m.a.Group,{controlId:"filter"},e.a.createElement(m.a.Label,null,e.a.createElement(b.a,{id:"search_filter.name"})),e.a.createElement(m.a.Control,{as:"select",onChange:f,value:l.criterionOption.type,className:"btn-secondary"},M.map(y=>e.a.createElement("option",{key:y.value,value:y.value,disabled:y.value==="none"},y.text))))}const D=r?g.formatMessage({id:"search_filter.update_filter"}):g.formatMessage({id:"search_filter.add_filter"});return e.a.createElement(e.a.Fragment,null,e.a.createElement(mt.a,{show:!0,onHide:()=>a()},e.a.createElement(mt.a.Header,null,D),e.a.createElement(mt.a.Body,null,e.a.createElement("div",{className:"dialog-content"},w(),x(),v())),e.a.createElement(mt.a.Footer,null,e.a.createElement(q.a,{onClick:S,disabled:l.criterionOption.type==="none"},D))))};var DS=Object.defineProperty,TS=Object.defineProperties,FS=Object.getOwnPropertyDescriptors,Lu=Object.getOwnPropertySymbols,jS=Object.prototype.hasOwnProperty,LS=Object.prototype.propertyIsEnumerable,Au=(t,a,n)=>a in t?DS(t,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[a]=n,ga=(t,a)=>{for(var n in a||(a={}))jS.call(a,n)&&Au(t,n,a[n]);if(Lu)for(var n of Lu(a))LS.call(a,n)&&Au(t,n,a[n]);return t},Sa=(t,a)=>TS(t,FS(a)),AS=(t,a,n)=>new Promise((r,s)=>{var l=i=>{try{o(n.next(i))}catch(c){s(c)}},u=i=>{try{o(n.throw(i))}catch(c){s(c)}},o=i=>i.done?r(i.value):Promise.resolve(i.value).then(l,u);o((n=n.apply(t,a)).next())});const Ru=(t,a)=>{const n=[];return a.forEach(r=>{const s=t.find(l=>l.id===r);s&&n.push(s)}),n};var ca;(function(t){t[t.NONE=0]="NONE",t[t.ALL=1]="ALL",t[t.VIEW=2]="VIEW"})(ca||(ca={}));const RS=({filter:t,filterOptions:a,onChangePage:n,addKeybinds:r,useData:s,getCount:l,getData:u,getMetadataByline:o,otherOperations:i,renderContent:c,zoomable:g,selectable:f,renderEditDialog:p,renderDeleteDialog:_,updateQueryParams:S,filterDialog:v,persistState:x})=>{const[w,D]=Object(d.useState)(!1),[M,y]=Object(d.useState)(!1),[k,F]=Object(d.useState)(new Set),[I,j]=Object(d.useState)(),[R,P]=Object(d.useState)(void 0),[z,L]=Object(d.useState)(!1),G=s(t),Y=l(G),V=o(G),U=u(G),te=Math.ceil(Y/t.itemsPerPage);Object(d.useEffect)(()=>{te>0&&t.currentPage>te&&n(te)},[te,t.currentPage,n]),Object(d.useEffect)(()=>{B.a.bind("f",()=>L(!0)),B.a.bind("right",()=>{const Te=Y/t.itemsPerPage;t.currentPage<Te&&n(t.currentPage+1)}),B.a.bind("left",()=>{t.currentPage>1&&n(t.currentPage-1)}),B.a.bind("shift+right",()=>{const Te=Y/t.itemsPerPage+1;n(Math.min(Te,t.currentPage+10))}),B.a.bind("shift+left",()=>{n(Math.max(1,t.currentPage-10))}),B.a.bind("ctrl+end",()=>{const Te=Y/t.itemsPerPage+1;n(Te)}),B.a.bind("ctrl+home",()=>{n(1)});let ve;return r&&(ve=r(G,t,k)),()=>{B.a.unbind("right"),B.a.unbind("left"),B.a.unbind("shift+right"),B.a.unbind("shift+left"),B.a.unbind("ctrl+end"),B.a.unbind("ctrl+home"),ve&&ve()}});function oe(ve,Te){j(ve);const Ve=Re.a.clone(k);Te?Ve.add(ve):Ve.delete(ve),F(Ve)}function Q(ve,Te){let Ve=ve,he=Te;if(Ve>he){const Ie=Ve;Ve=he,he=Ie}const be=U.slice(Ve,he+1),Ne=new Set;be.forEach(Ie=>{Ne.add(Ie.id)}),F(Ne)}function J(ve){let Te=0,Ve=-1;I&&(Te=U.findIndex(he=>he.id===I)),Ve=U.findIndex(he=>he.id===ve),Q(Te,Ve)}function re(ve,Te,Ve){Ve?J(ve):oe(ve,Te)}function Z(){const ve=new Set;U.forEach(Te=>{ve.add(Te.id)}),F(ve),j(void 0)}function W(){const ve=new Set;F(ve),j(void 0)}function H(ve){const Te=Re.a.cloneDeep(t);Te.zoomIndex=ve,S(Te)}function de(ve){return AS(this,null,function*(){yield ve.onClick(G,t,k),ve.postRefetch&&G.refetch()})}const A=i&&i.map(ve=>({text:ve.text,onClick:()=>{de(ve)},isDisplayed:()=>ve.isDisplayed?ve.isDisplayed(G,t,k):!0,icon:ve.icon,buttonVariant:ve.buttonVariant}));function T(){D(!0)}function N(ve){ve&&W(),D(!1),G.refetch()}function C(){y(!0)}function O(ve){ve&&W(),y(!1),G.refetch()}const $=()=>e.a.createElement(ll,{itemsPerPage:t.itemsPerPage,currentPage:t.currentPage,totalItems:Y,metadataByline:V,onChangePage:n});function X(){if(!(G.loading||G.error))return e.a.createElement(e.a.Fragment,null,$(),e.a.createElement(iu,{itemsPerPage:t.itemsPerPage,currentPage:t.currentPage,totalItems:Y,metadataByline:V}),c(G,t,k,n,te),e.a.createElement(iu,{itemsPerPage:t.itemsPerPage,currentPage:t.currentPage,totalItems:Y,metadataByline:V}),$())}function ie(ve){const Te=Re.a.cloneDeep(t);Te.displayMode=ve,S(Te)}function ae(ve,Te){const Ve=Re.a.cloneDeep(t),he=Ve.criteria.findIndex(be=>{const Ne=Te||ve.getId();return be.getId()===Ne});he===-1?Ve.criteria.push(ve):Ve.criteria[he]=ve,Ve.criteria=Ve.criteria.filter((be,Ne,Ie)=>Ie.map(je=>je.getId()).indexOf(be.getId())===Ne),Ve.currentPage=1,S(Ve),P(void 0),L(!1)}function se(ve){const Te=Re.a.cloneDeep(t);Te.criteria=Te.criteria.filter(Ve=>Ve.getId()!==ve.getId()),Te.currentPage=1,S(Te)}function ye(ve){const Te=Re.a.cloneDeep(t);Te.criteria=ve.slice(),L(!1)}function Pe(){P(void 0),L(!1)}return{contentTemplate:e.a.createElement("div",null,e.a.createElement(dS.a,{className:"align-items-center justify-content-center mb-2"},e.a.createElement(qy,{onFilterUpdate:S,filter:t,filterOptions:a,openFilterDialog:()=>L(!0),filterDialogOpen:z!=null?z:R,persistState:x}),e.a.createElement(gS,{onSelectAll:f?Z:void 0,onSelectNone:f?W:void 0,otherOperations:A,itemsSelected:k.size>0,onEdit:p?T:void 0,onDelete:_?C:void 0}),e.a.createElement(mS,{displayMode:t.displayMode,displayModeOptions:a.displayModeOptions,onSetDisplayMode:ie,zoomIndex:g?t.zoomIndex:void 0,onSetZoom:g?H:void 0})),e.a.createElement($y,{criteria:t.criteria,onEditCriterion:ve=>P(ve),onRemoveCriterion:se}),(z||R)&&!v&&e.a.createElement(IS,{filterOptions:a,onAddCriterion:ae,onCancel:Pe,editingCriterion:R}),z&&v&&v(t.criteria,ve=>ye(ve)),w&&p&&p(Ru(u(G),k),ve=>N(ve)),M&&_&&_(Ru(u(G),k),ve=>O(ve)),G.loading?e.a.createElement($e,null):void 0,G.error?e.a.createElement("h1",null,G.error.message):void 0,X()),onSelectChange:re}},Ya=t=>{var a,n;const r=uS(t.filterMode),s=Object(ke.k)(),l=Object(ke.l)(),[u,o]=Ly(),[i,c]=Object(d.useState)(!t.persistState),g=Object(d.useRef)(l.pathname),f=(a=t.persistanceKey)!=null?a:t.filterMode,p=(n=t.defaultSort)!=null?n:r.defaultSortBy,_=r.displayModeOptions[0],[S,v]=Object(d.useState)(new bt(t.filterMode,Qt.a.parse(l.search),p,_,t.defaultZoomIndex)),x=Object(d.useCallback)((R,P)=>{P===2&&o(z=>{var L,G;return{[f]:Sa(ga({},z[f]),{filter:Qt.a.stringify(Sa(ga({},Qt.a.parse((G=(L=z[f])==null?void 0:L.filter)!=null?G:"")),{disp:R.displayMode}))})}})},[f,o]),{data:w,loading:D}=Iv(t.filterMode),M=Object(d.useCallback)(R=>{v(R);const P=ga({},l);P.search=R.makeQueryParameters(),s.replace(P),t.persistState&&x(R,t.persistState)},[v,s,l,t.persistState,x]);Object(d.useEffect)(()=>{var R;if(u.loading||D||s.location.pathname!==g.current)return;i||c(!0);const P=S.clone();let z=!1;if(s.location.search&&s.location.search!==`?${S.makeQueryParameters()}`&&(P.configureFromQueryParameters(Qt.a.parse(s.location.search)),z=!0),t.persistState===1&&!l.search&&(w==null?void 0:w.findDefaultFilter)){P.currentPage=1;try{P.configureFromQueryParameters(JSON.parse(w.findDefaultFilter.filter))}catch(G){console.log(G)}P.randomSeed=-1,z=!0}const L=(R=u.data)==null?void 0:R[f];if(t.persistState===2&&L){const G=Qt.a.parse(L.filter);if(G.disp!==void 0){const Y=Number.parseInt(G.disp,10);Y!==P.displayMode&&(P.displayMode=Y,z=!0)}}z&&M(P)},[p,_,S,u,s,l.search,M,w,D,f,i,t.persistState]);const y=Object(d.useCallback)(R=>{const P=Re.a.cloneDeep(S);P.currentPage=R,M(P),window.scrollTo(0,0)},[S,M]),k=Object(d.useMemo)(()=>t.filterHook?t.filterHook(Re.a.cloneDeep(S)):S,[S,t]),{contentTemplate:F,onSelectChange:I}=RS(Sa(ga({},t),{filter:k,filterOptions:r,onChangePage:y,updateQueryParams:M})),j=i?e.a.createElement(e.a.Fragment,null,F):e.a.createElement($e,null);return{filter:S,template:j,onSelectChange:I,onChangePage:y}},zS=t=>Ya(Sa(ga({},t),{filterMode:nt.Scenes,useData:Fv,getData:a=>{var n,r,s;return(s=(r=(n=a==null?void 0:a.data)==null?void 0:n.findScenes)==null?void 0:r.scenes)!=null?s:[]},getCount:a=>{var n,r,s;return(s=(r=(n=a==null?void 0:a.data)==null?void 0:n.findScenes)==null?void 0:r.count)!=null?s:0},getMetadataByline:a=>{var n,r,s,l;const u=(r=(n=a==null?void 0:a.data)==null?void 0:n.findScenes)==null?void 0:r.duration,o=(l=(s=a==null?void 0:a.data)==null?void 0:s.findScenes)==null?void 0:l.filesize,i=o?Me.fileSize(o):void 0;if(!u&&!o)return;const c=u&&o?" - ":"";return e.a.createElement("span",{className:"scenes-stats"},"\xA0(",u?e.a.createElement("span",{className:"scenes-duration"},Me.secondsAsTimeString(u,3)):void 0,c,o&&i?e.a.createElement("span",{className:"scenes-size"},e.a.createElement(ct.b,{value:i.size,maximumFractionDigits:Me.fileSizeFractionalDigits(i.unit)}),` ${Me.formatFileSizeUnit(i.unit)}`):void 0,")")}})),qS=t=>Ya(Sa(ga({},t),{filterMode:nt.SceneMarkers,useData:Lv,getData:a=>{var n,r,s;return(s=(r=(n=a==null?void 0:a.data)==null?void 0:n.findSceneMarkers)==null?void 0:r.scene_markers)!=null?s:[]},getCount:a=>{var n,r,s;return(s=(r=(n=a==null?void 0:a.data)==null?void 0:n.findSceneMarkers)==null?void 0:r.count)!=null?s:0},getMetadataByline:()=>[]})),$S=t=>Ya(Sa(ga({},t),{filterMode:nt.Images,useData:Rv,getData:a=>{var n,r,s;return(s=(r=(n=a==null?void 0:a.data)==null?void 0:n.findImages)==null?void 0:r.images)!=null?s:[]},getCount:a=>{var n,r,s;return(s=(r=(n=a==null?void 0:a.data)==null?void 0:n.findImages)==null?void 0:r.count)!=null?s:0},getMetadataByline:a=>{var n,r,s,l;const u=(r=(n=a==null?void 0:a.data)==null?void 0:n.findImages)==null?void 0:r.megapixels,o=(l=(s=a==null?void 0:a.data)==null?void 0:s.findImages)==null?void 0:l.filesize,i=o?Me.fileSize(o):void 0;if(!u&&!o)return;const c=u&&o?" - ":"";return e.a.createElement("span",{className:"images-stats"},"\xA0(",u?e.a.createElement("span",{className:"images-megapixels"},e.a.createElement(ct.b,{value:u})," Megapixels"):void 0,c,o&&i?e.a.createElement("span",{className:"images-size"},e.a.createElement(ct.b,{value:i.size,maximumFractionDigits:Me.fileSizeFractionalDigits(i.unit)}),` ${Me.formatFileSizeUnit(i.unit)}`):void 0,")")}})),GS=t=>Ya(Sa(ga({},t),{filterMode:nt.Galleries,useData:Dv,getData:a=>{var n,r,s;return(s=(r=(n=a==null?void 0:a.data)==null?void 0:n.findGalleries)==null?void 0:r.galleries)!=null?s:[]},getCount:a=>{var n,r,s;return(s=(r=(n=a==null?void 0:a.data)==null?void 0:n.findGalleries)==null?void 0:r.count)!=null?s:0},getMetadataByline:()=>[]})),VS=t=>Ya(Sa(ga({},t),{filterMode:nt.Studios,useData:qv,getData:a=>{var n,r,s;return(s=(r=(n=a==null?void 0:a.data)==null?void 0:n.findStudios)==null?void 0:r.studios)!=null?s:[]},getCount:a=>{var n,r,s;return(s=(r=(n=a==null?void 0:a.data)==null?void 0:n.findStudios)==null?void 0:r.count)!=null?s:0},getMetadataByline:()=>[]})),BS=t=>Ya(Sa(ga({},t),{filterMode:nt.Performers,useData:Bv,getData:a=>{var n,r,s;return(s=(r=(n=a==null?void 0:a.data)==null?void 0:n.findPerformers)==null?void 0:r.performers)!=null?s:[]},getCount:a=>{var n,r,s;return(s=(r=(n=a==null?void 0:a.data)==null?void 0:n.findPerformers)==null?void 0:r.count)!=null?s:0},getMetadataByline:()=>[]})),US=t=>Ya(Sa(ga({},t),{filterMode:nt.Movies,useData:Gv,getData:a=>{var n,r,s;return(s=(r=(n=a==null?void 0:a.data)==null?void 0:n.findMovies)==null?void 0:r.movies)!=null?s:[]},getCount:a=>{var n,r,s;return(s=(r=(n=a==null?void 0:a.data)==null?void 0:n.findMovies)==null?void 0:r.count)!=null?s:0},getMetadataByline:()=>[]})),QS=t=>Ya(Sa(ga({},t),{filterMode:nt.Tags,useData:Uv,getData:a=>{var n,r,s;return(s=(r=(n=a==null?void 0:a.data)==null?void 0:n.findTags)==null?void 0:r.tags)!=null?s:[]},getCount:a=>{var n,r,s;return(s=(r=(n=a==null?void 0:a.data)==null?void 0:n.findTags)==null?void 0:r.count)!=null?s:0},getMetadataByline:()=>[]})),fa=(t,a,n)=>n.size>0;var qe=ne(869),De=ne(403),$t=({error:t})=>e.a.createElement("div",{className:"row ErrorMessage"},e.a.createElement("h2",{className:"ErrorMessage-content"},"Error: ",t));const wl=t=>{const a=Object(ge.a)(),n=Object(ct.c)({organized:{id:"organized",defaultMessage:"Organized"}});return t.loading?e.a.createElement(nn.a,{animation:"border",role:"status"}):e.a.createElement(q.a,{variant:"secondary",title:a.formatMessage(n.organized),className:St()("minimal","organized-button",t.organized?"organized":"not-organized"),onClick:t.onClick},e.a.createElement(le,{icon:"box"}))};var wr=ne(879),Ee=ne(13);const xi=t=>{const a=Object(ge.a)();return e.a.createElement(Ze.a,{className:"mr-2 flex-grow-1"},e.a.createElement(m.a.Control,{className:"text-input",placeholder:a.formatMessage({id:"url"}),value:t.value,name:t.name,onChange:t.onChange,onBlur:t.onBlur,isInvalid:t.isInvalid}),e.a.createElement(Ze.a.Append,null,e.a.createElement(q.a,{className:"scrape-url-button text-input",variant:"secondary",onClick:t.onScrapeClick,disabled:!t.value||!t.urlScrapable(t.value),title:a.formatMessage({id:"actions.scrape"})},e.a.createElement(le,{icon:"file-download"}))))};var Wt=ne(34),hn={renderTextArea:t=>e.a.createElement(m.a.Control,{className:"text-input",as:"textarea",readOnly:!t.isEditing,plaintext:!t.isEditing,onChange:a=>t.onChange(a.currentTarget.value),value:t.value}),renderEditableText:t=>e.a.createElement(m.a.Control,{readOnly:!t.isEditing,plaintext:!t.isEditing,onChange:a=>t.onChange(a.currentTarget.value),value:typeof t.value=="number"?t.value.toString():t.value,placeholder:t.title}),renderInputGroup:t=>{var a,n;return t.url&&!t.isEditing?e.a.createElement("a",{href:t.url,target:"_blank",rel:"noopener noreferrer"},t.value):e.a.createElement(m.a.Control,{className:"text-input",readOnly:!t.isEditing,plaintext:!t.isEditing,value:(a=t.value)!=null?a:"",placeholder:(n=t.placeholder)!=null?n:t.title,onChange:r=>{t.onChange&&t.onChange(r.currentTarget.value)}})},renderDurationInput:t=>{let a;if(t.value)if(t.asString)a=zt.stringToSeconds(t.value);else try{a=Number.parseInt(t.value,10)}catch(n){}if(!t.isEditing){let n;return a!==void 0&&(n=zt.secondsToString(a)),e.a.createElement(m.a.Control,{className:"text-input",readOnly:!0,plaintext:!0,defaultValue:n})}return e.a.createElement(La,{disabled:!t.isEditing,numericValue:a,onValueChange:(n,r)=>{let s=r;t.asString||(s=n!==void 0?n.toString():void 0),t.onChange(s)}})},renderHtmlSelect:t=>{var a;return t.isEditing?e.a.createElement(m.a.Control,{as:"select",className:"input-control",disabled:!t.isEditing,plaintext:!t.isEditing,value:(a=t.value)==null?void 0:a.toString(),onChange:n=>t.onChange(n.currentTarget.value)},t.selectOptions.map(n=>e.a.createElement("option",{value:n,key:n},n))):e.a.createElement(m.a.Control,{className:"text-input",readOnly:!0,plaintext:!0,defaultValue:t.value})},renderFilterSelect:t=>e.a.createElement(Sr,{type:t.type,onSelect:a=>{var n;return t.onChange((n=a[0])==null?void 0:n.id)},initialIds:t.initialId?[t.initialId]:[]}),renderMultiSelect:t=>{var a;return e.a.createElement(Sr,{type:t.type,isMulti:!0,onSelect:n=>t.onChange(n.map(r=>r.id)),initialIds:(a=t.initialIds)!=null?a:[]})}},HS=Object.defineProperty,zu=Object.getOwnPropertySymbols,WS=Object.prototype.hasOwnProperty,KS=Object.prototype.propertyIsEnumerable,qu=(t,a,n)=>a in t?HS(t,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[a]=n,Ja=(t,a)=>{for(var n in a||(a={}))WS.call(a,n)&&qu(t,n,a[n]);if(zu)for(var n of zu(a))KS.call(a,n)&&qu(t,n,a[n]);return t};function YS(t){let a=t;return a||(a={column:!0,xs:3}),a}function vn(t){let a=t;return a||(a={xs:9}),a}const Xa=t=>e.a.createElement(m.a.Label,Ja({column:!0},YS(t.labelProps)),t.title);var tt={renderLabel:Xa,renderEditableText:t=>e.a.createElement(m.a.Group,{controlId:t.title,as:xe.a},Xa(t),e.a.createElement(Se.a,Ja({},vn(t.inputProps)),hn.renderEditableText(t))),renderTextArea:t=>e.a.createElement(m.a.Group,{controlId:t.title,as:xe.a},Xa(t),e.a.createElement(Se.a,Ja({},vn(t.inputProps)),hn.renderTextArea(t))),renderInputGroup:t=>e.a.createElement(m.a.Group,{controlId:t.title,as:xe.a},Xa(t),e.a.createElement(Se.a,Ja({},vn(t.inputProps)),hn.renderInputGroup(t))),renderDurationInput:t=>e.a.createElement(m.a.Group,{controlId:t.title,as:xe.a},Xa(t),e.a.createElement(Se.a,Ja({},vn(t.inputProps)),hn.renderDurationInput(t))),renderHtmlSelect:t=>e.a.createElement(m.a.Group,{controlId:t.title,as:xe.a},Xa(t),e.a.createElement(Se.a,Ja({},vn(t.inputProps)),hn.renderHtmlSelect(t))),renderFilterSelect:t=>e.a.createElement(m.a.Group,{controlId:t.title,as:xe.a},Xa(t),e.a.createElement(Se.a,Ja({},vn(t.inputProps)),hn.renderFilterSelect(t))),renderMultiSelect:t=>e.a.createElement(m.a.Group,{controlId:t.title,as:xe.a},Xa(t),e.a.createElement(Se.a,Ja({},vn(t.inputProps)),hn.renderMultiSelect(t)))};const Kt=t=>{const[a,n]=Object(d.useState)(),r=t.disabled||!t.onSetRating;function s(p){if(!t.onSetRating)return;let _=p;t.value===p&&(_=void 0),n(void 0),t.onSetRating(_)}function l(p){return a&&a>=p?a===t.value?"far":"fas":!a&&t.value&&t.value>=p?"fas":"far"}function u(p){r||n(p)}function o(p){!r&&a===p&&n(void 0)}function i(p){return a&&a>=p?a===t.value?"unsetting":"setting":t.value&&t.value>=p?"set":"unset"}function c(p){if(r&&t.value)return t.value.toString();if(!r)return p.toString()}const g=p=>e.a.createElement(q.a,{disabled:r,className:"minimal",onClick:()=>s(p),variant:"secondary",onMouseOver:()=>u(p),onMouseOut:()=>o(p),onFocus:()=>u(p),onBlur:()=>o(p),title:c(p),key:`star-${p}`},e.a.createElement(le,{icon:[l(p),"star"],className:i(p)})),f=5;return e.a.createElement("div",{className:"rating-stars align-middle"},Array.from(Array(f)).map((p,_)=>g(_+1)))};var En=ne(407);const Pi=t=>{const[a,n]=Object(d.useState)(!1);return e.a.createElement("div",null,e.a.createElement(q.a,{onClick:()=>n(!a),className:"minimal collapse-button"},e.a.createElement(le,{icon:a?"chevron-down":"chevron-right"}),e.a.createElement("span",null,t.text)),e.a.createElement(En.a,{in:a},e.a.createElement("div",null,t.children)))};var JS=Object.defineProperty,$u=Object.getOwnPropertySymbols,XS=Object.prototype.hasOwnProperty,ZS=Object.prototype.propertyIsEnumerable,Gu=(t,a,n)=>a in t?JS(t,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[a]=n,ew=(t,a)=>{for(var n in a||(a={}))XS.call(a,n)&&Gu(t,n,a[n]);if($u)for(var n of $u(a))ZS.call(a,n)&&Gu(t,n,a[n]);return t};const tw=()=>{};var it=({children:t,show:a,icon:n,header:r,cancel:s,accept:l,onHide:u,isRunning:o,disabled:i,modalProps:c,dialogClassName:g,footerButtons:f,leftFooterButtons:p})=>{var _,S,v,x;return e.a.createElement(mt.a,ew({className:"ModalComponent",keyboard:!1,onHide:u!=null?u:tw,show:a,dialogClassName:g},c),e.a.createElement(mt.a.Header,null,n?e.a.createElement(le,{icon:n}):"",e.a.createElement("span",null,r!=null?r:"")),e.a.createElement(mt.a.Body,null,t),e.a.createElement(mt.a.Footer,{className:"ModalFooter"},e.a.createElement("div",null,p),e.a.createElement("div",null,f,s?e.a.createElement(q.a,{disabled:o,variant:(_=s.variant)!=null?_:"primary",onClick:s.onClick,className:"ml-2"},(S=s.text)!=null?S:e.a.createElement(b.a,{id:"actions.cancel",defaultMessage:"Cancel",description:"Cancels the current action and dismisses the modal."})):"",e.a.createElement(q.a,{disabled:o||i,variant:(v=l==null?void 0:l.variant)!=null?v:"primary",onClick:l==null?void 0:l.onClick,className:"ml-2"},o?e.a.createElement(nn.a,{animation:"border",role:"status",size:"sm"}):(x=l==null?void 0:l.text)!=null?x:e.a.createElement(b.a,{id:"actions.close",defaultMessage:"Close",description:"Closes the current modal."})))))};class Ue{constructor(a,n){this.scraped=!1,this.useNewValue=!1,this.originalValue=a!=null?a:void 0,this.newValue=n!=null?n:void 0;const r=Re.a.isEqual(a,n);this.useNewValue=!!this.newValue&&!r,this.scraped=this.useNewValue}setOriginalValue(a){this.originalValue=a,this.newValue=a}cloneWithValue(a){const n=Re.a.clone(this);return n.newValue=a,n.useNewValue=!Re.a.isEqual(n.newValue,n.originalValue),n.scraped=n.useNewValue,n}getNewValue(){if(this.useNewValue)return this.newValue}}function Vu(t){const a=t?"text-success":"text-muted";return e.a.createElement(le,{className:`fa-fw ${a}`,icon:t?"check":"times"})}const ua=t=>{function a(s){const l=Re.a.clone(t.result);l.useNewValue=s,t.onChange(l)}function n(){return t.newValues&&t.newValues.length>0&&t.onCreateNew}if(!t.result.scraped&&!n())return e.a.createElement(e.a.Fragment,null);function r(){if(!n())return;const s=e.a.createElement(e.a.Fragment,null,t.newValues.map((u,o)=>e.a.createElement(Zt.a,{className:"tag-item",variant:"secondary",key:u.name,onClick:()=>t.onCreateNew(o)},u.name,e.a.createElement(q.a,{className:"minimal ml-2"},e.a.createElement(le,{className:"fa-fw",icon:"plus"}))))),l=10;return t.newValues.length>=l?e.a.createElement(Pi,{text:`Missing (${t.newValues.length})`},s):s}return e.a.createElement(xe.a,{className:"px-3 pt-3"},e.a.createElement(m.a.Label,{column:!0,lg:"3"},t.title),e.a.createElement(Se.a,{lg:"9"},e.a.createElement(xe.a,null,e.a.createElement(Se.a,{xs:"6"},e.a.createElement(Ze.a,null,e.a.createElement(Ze.a.Prepend,{className:"bg-secondary text-white border-secondary"},e.a.createElement(q.a,{variant:"secondary",onClick:()=>a(!1)},Vu(!t.result.useNewValue))),t.renderOriginalField(t.result))),e.a.createElement(Se.a,{xs:"6"},e.a.createElement(Ze.a,null,e.a.createElement(Ze.a.Prepend,null,e.a.createElement(q.a,{variant:"secondary",onClick:()=>a(!0)},Vu(t.result.useNewValue))),t.renderNewField(t.result)),r()))))},Bu=t=>e.a.createElement(hi.a,{placeholder:t.placeholder,value:t.isNew?t.result.newValue:t.result.originalValue,readOnly:!t.isNew||t.locked,onChange:a=>{t.isNew&&t.onChange&&t.onChange(a.target.value)},className:"bg-secondary text-white border-secondary"}),ut=t=>e.a.createElement(ua,{title:t.title,result:t.result,renderOriginalField:()=>e.a.createElement(Bu,{placeholder:t.placeholder||t.title,result:t.result}),renderNewField:()=>e.a.createElement(Bu,{placeholder:t.placeholder||t.title,result:t.result,isNew:!0,locked:t.locked,onChange:a=>t.onChange(t.result.cloneWithValue(a))}),onChange:t.onChange}),Uu=t=>e.a.createElement(hi.a,{as:"textarea",placeholder:t.placeholder,value:t.isNew?t.result.newValue:t.result.originalValue,readOnly:!t.isNew,onChange:a=>{t.isNew&&t.onChange&&t.onChange(a.target.value)},className:"bg-secondary text-white border-secondary scene-description"}),yn=t=>e.a.createElement(ua,{title:t.title,result:t.result,renderOriginalField:()=>e.a.createElement(Uu,{placeholder:t.placeholder||t.title,result:t.result}),renderNewField:()=>e.a.createElement(Uu,{placeholder:t.placeholder||t.title,result:t.result,isNew:!0,onChange:a=>t.onChange(t.result.cloneWithValue(a))}),onChange:t.onChange}),Qu=t=>{const a=t.isNew?t.result.newValue:t.result.originalValue;return a?e.a.createElement("img",{className:t.className,src:a,alt:t.placeholder}):e.a.createElement(e.a.Fragment,null)},Ci=t=>e.a.createElement(ua,{title:t.title,result:t.result,renderOriginalField:()=>e.a.createElement(Qu,{result:t.result,className:t.className,placeholder:t.title}),renderNewField:()=>e.a.createElement(Qu,{result:t.result,className:t.className,placeholder:t.title,isNew:!0}),onChange:t.onChange}),Mi=t=>{const a=Object(ge.a)();return e.a.createElement(it,{show:!0,icon:"pencil-alt",header:t.title,accept:{onClick:()=>{t.onClose(!0)},text:a.formatMessage({id:"actions.apply"})},cancel:{onClick:()=>t.onClose(),text:a.formatMessage({id:"actions.cancel"}),variant:"secondary"},modalProps:{size:"lg",dialogClassName:"scrape-dialog"}},e.a.createElement("div",{className:"dialog-container"},e.a.createElement(m.a,null,e.a.createElement(xe.a,{className:"px-3 pt-3"},e.a.createElement(Se.a,{lg:{span:9,offset:3}},e.a.createElement(xe.a,null,e.a.createElement(m.a.Label,{column:!0,xs:"6"},e.a.createElement(b.a,{id:"dialogs.scrape_results_existing"})),e.a.createElement(m.a.Label,{column:!0,xs:"6"},e.a.createElement(b.a,{id:"dialogs.scrape_results_scraped"}))))),t.renderScrapeRows())))};var aw=Object.defineProperty,nw=Object.defineProperties,rw=Object.getOwnPropertyDescriptors,Hu=Object.getOwnPropertySymbols,iw=Object.prototype.hasOwnProperty,sw=Object.prototype.propertyIsEnumerable,Wu=(t,a,n)=>a in t?aw(t,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[a]=n,lw=(t,a)=>{for(var n in a||(a={}))iw.call(a,n)&&Wu(t,n,a[n]);if(Hu)for(var n of Hu(a))sw.call(a,n)&&Wu(t,n,a[n]);return t},ow=(t,a)=>nw(t,rw(a)),kl=(t,a,n)=>new Promise((r,s)=>{var l=i=>{try{o(n.next(i))}catch(c){s(c)}},u=i=>{try{o(n.throw(i))}catch(c){s(c)}},o=i=>i.done?r(i.value):Promise.resolve(i.value).then(l,u);o((n=n.apply(t,a)).next())});function Ku(t,a,n){const r=a?t.newValue:t.originalValue,s=r?[r]:[];return e.a.createElement(Ht,{className:"form-control react-select",isDisabled:!a,onSelect:l=>{var u;n&&n((u=l[0])==null?void 0:u.id)},ids:s})}function cw(t,a,n,r,s){return e.a.createElement(ua,{title:t,result:a,renderOriginalField:()=>Ku(a),renderNewField:()=>Ku(a,!0,l=>n(a.cloneWithValue(l))),onChange:n,newValues:r?[r]:void 0,onCreateNew:()=>{s&&r&&s(r)}})}function Yu(t,a,n){const r=a?t.newValue:t.originalValue,s=r!=null?r:[];return e.a.createElement(Aa,{isMulti:!0,className:"form-control react-select",isDisabled:!a,onSelect:l=>{n&&n(l.map(u=>u.id))},ids:s})}function uw(t,a,n,r,s){const l=r.map(u=>{var o;const i=(o=u.name)!=null?o:"";return ow(lw({},u),{name:i})});return e.a.createElement(ua,{title:t,result:a,renderOriginalField:()=>Yu(a),renderNewField:()=>Yu(a,!0,u=>n(a.cloneWithValue(u))),onChange:n,newValues:l,onCreateNew:u=>{s&&s(r[u])}})}function Ju(t,a,n){const r=a?t.newValue:t.originalValue,s=r!=null?r:[];return e.a.createElement(jt,{isMulti:!0,className:"form-control react-select",isDisabled:!a,onSelect:l=>{n&&n(l.map(u=>u.id))},ids:s})}function dw(t,a,n,r,s){return e.a.createElement(ua,{title:t,result:a,renderOriginalField:()=>Ju(a),renderNewField:()=>Ju(a,!0,l=>n(a.cloneWithValue(l))),newValues:r,onChange:n,onCreateNew:l=>{s&&s(r[l])}})}const mw=t=>{var a,n,r,s,l,u,o;const i=Object(ge.a)(),[c,g]=Object(d.useState)(new Ue(t.gallery.title,t.scraped.title)),[f,p]=Object(d.useState)(new Ue(t.gallery.url,t.scraped.url)),[_,S]=Object(d.useState)(new Ue(t.gallery.date,t.scraped.date)),[v,x]=Object(d.useState)(new Ue(t.gallery.studio_id,(a=t.scraped.studio)==null?void 0:a.stored_id)),[w,D]=Object(d.useState)(t.scraped.studio&&!t.scraped.studio.stored_id?t.scraped.studio:void 0);function M(H){if(!H)return;const de=H.map(A=>A.stored_id).filter(A=>A!=null);if(de.length!==0)return de.sort((A,T)=>parseInt(A,10)-parseInt(T,10)),de}function y(H){if(!H)return;const de=Re.a.clone(H);return de.sort((A,T)=>parseInt(A,10)-parseInt(T,10)),de}const[k,F]=Object(d.useState)(new Ue(y(t.gallery.performer_ids),M((n=t.scraped.performers)!=null?n:void 0))),[I,j]=Object(d.useState)((s=(r=t.scraped.performers)==null?void 0:r.filter(H=>!H.stored_id))!=null?s:[]),[R,P]=Object(d.useState)(new Ue(y(t.gallery.tag_ids),M((l=t.scraped.tags)!=null?l:void 0))),[z,L]=Object(d.useState)((o=(u=t.scraped.tags)==null?void 0:u.filter(H=>!H.stored_id))!=null?o:[]),[G,Y]=Object(d.useState)(new Ue(t.gallery.details,t.scraped.details)),[V]=Un(),[U]=vr(),[te]=un(),oe=He();if([c,f,_,v,k,R,G].every(H=>!H.scraped))return t.onClose(),e.a.createElement(e.a.Fragment,null);function Q(H){return kl(this,null,function*(){try{const de=yield V({variables:{input:{name:H.name,url:H.url}}});x(v.cloneWithValue(de.data.studioCreate.id)),D(void 0),oe.success({content:e.a.createElement("span",null,e.a.createElement(b.a,{id:"actions.created_entity",values:{entity_type:i.formatMessage({id:"studio"}),entity_name:e.a.createElement("b",null,H.name)}}))})}catch(de){oe.error(de)}})}function J(H){return kl(this,null,function*(){const de=Jc(H);try{const A=yield U({variables:{input:de}}),T=k.cloneWithValue(k.newValue);T.newValue||(T.newValue=[]),T.newValue.push(A.data.performerCreate.id),F(T);const N=I.concat(),C=N.indexOf(H);N.splice(C,1),j(N),oe.success({content:e.a.createElement("span",null,e.a.createElement(b.a,{id:"actions.created_entity",values:{entity_type:i.formatMessage({id:"performer"}),entity_name:e.a.createElement("b",null,H.name)}}))})}catch(A){oe.error(A)}})}function re(H){return kl(this,null,function*(){var de;const A={name:(de=H.name)!=null?de:""};try{const T=yield te({variables:{input:A}}),N=R.cloneWithValue(R.newValue);N.newValue||(N.newValue=[]),N.newValue.push(T.data.tagCreate.id),P(N);const C=z.concat(),O=C.indexOf(H);C.splice(O,1),L(C),oe.success({content:e.a.createElement("span",null,e.a.createElement(b.a,{id:"actions.created_entity",values:{entity_type:i.formatMessage({id:"tag"}),entity_name:e.a.createElement("b",null,H.name)}}))})}catch(T){oe.error(T)}})}function Z(){var H,de;const A=v.getNewValue();return{title:c.getNewValue(),url:f.getNewValue(),date:_.getNewValue(),studio:A?{stored_id:A,name:""}:void 0,performers:(H=k.getNewValue())==null?void 0:H.map(T=>({stored_id:T,name:""})),tags:(de=R.getNewValue())==null?void 0:de.map(T=>({stored_id:T,name:""})),details:G.getNewValue()}}function W(){return e.a.createElement(e.a.Fragment,null,e.a.createElement(ut,{title:i.formatMessage({id:"title"}),result:c,onChange:H=>g(H)}),e.a.createElement(ut,{title:i.formatMessage({id:"url"}),result:f,onChange:H=>p(H)}),e.a.createElement(ut,{title:i.formatMessage({id:"date"}),placeholder:"YYYY-MM-DD",result:_,onChange:H=>S(H)}),cw(i.formatMessage({id:"studios"}),v,H=>x(H),w,Q),uw(i.formatMessage({id:"performers"}),k,H=>F(H),I,J),dw(i.formatMessage({id:"tags"}),R,H=>P(H),z,re),e.a.createElement(yn,{title:i.formatMessage({id:"details"}),result:G,onChange:H=>Y(H)}))}return e.a.createElement(Mi,{title:i.formatMessage({id:"dialogs.scrape_entity_title"},{entity_type:i.formatMessage({id:"gallery"})}),renderScrapeRows:W,onClose:H=>{t.onClose(H?Z():void 0)}})};var gw=Object.defineProperty,fw=Object.defineProperties,pw=Object.getOwnPropertyDescriptors,Xu=Object.getOwnPropertySymbols,_w=Object.prototype.hasOwnProperty,hw=Object.prototype.propertyIsEnumerable,Zu=(t,a,n)=>a in t?gw(t,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[a]=n,xl=(t,a)=>{for(var n in a||(a={}))_w.call(a,n)&&Zu(t,n,a[n]);if(Xu)for(var n of Xu(a))hw.call(a,n)&&Zu(t,n,a[n]);return t},ed=(t,a)=>fw(t,pw(a)),Oi=(t,a,n)=>new Promise((r,s)=>{var l=i=>{try{o(n.next(i))}catch(c){s(c)}},u=i=>{try{o(n.throw(i))}catch(c){s(c)}},o=i=>i.done?r(i.value):Promise.resolve(i.value).then(l,u);o((n=n.apply(t,a)).next())});const td=({gallery:t,isNew:a,isVisible:n,onDelete:r})=>{var s,l,u,o,i,c,g,f,p,_,S;const v=Object(ge.a)(),x=He(),w=Object(ke.k)(),[D,M]=Object(d.useState)(((s=t==null?void 0:t.scenes)!=null?s:[]).map(C=>{var O,$;return{id:C.id,title:($=C.title)!=null?$:Me.fileNameFromPath((O=C.path)!=null?O:"")}})),y=Fc(),[k,F]=Object(d.useState)([]),[I,j]=Object(d.useState)(),[R,P]=Object(d.useState)(!1),[z]=IE(),[L]=zc(),G=Ee.e({title:Ee.f().required(),details:Ee.f().optional().nullable(),url:Ee.f().optional().nullable(),date:Ee.f().optional().nullable(),rating:Ee.d().optional().nullable(),studio_id:Ee.f().optional().nullable(),performer_ids:Ee.a(Ee.f().required()).optional().nullable(),tag_ids:Ee.a(Ee.f().required()).optional().nullable(),scene_ids:Ee.a(Ee.f().required()).optional().nullable()}),Y={title:(l=t==null?void 0:t.title)!=null?l:"",details:(u=t==null?void 0:t.details)!=null?u:"",url:(o=t==null?void 0:t.url)!=null?o:"",date:(i=t==null?void 0:t.date)!=null?i:"",rating:(c=t==null?void 0:t.rating)!=null?c:null,studio_id:(g=t==null?void 0:t.studio)==null?void 0:g.id,performer_ids:((f=t==null?void 0:t.performers)!=null?f:[]).map(C=>C.id),tag_ids:((p=t==null?void 0:t.tags)!=null?p:[]).map(C=>C.id),scene_ids:((_=t==null?void 0:t.scenes)!=null?_:[]).map(C=>C.id)},V=Object(Wt.d)({initialValues:Y,validationSchema:G,onSubmit:C=>Q(oe(C))});function U(C){V.setFieldValue("rating",C)}function te(C){M(C),V.setFieldValue("scene_ids",C.map(O=>O.id))}Object(d.useEffect)(()=>{if(n)return B.a.bind("s s",()=>{V.handleSubmit()}),B.a.bind("d d",()=>{r()}),B.a.bind("r",()=>{document.activeElement instanceof HTMLElement&&document.activeElement.blur(),B.a.bind("0",()=>U(NaN)),B.a.bind("1",()=>U(1)),B.a.bind("2",()=>U(2)),B.a.bind("3",()=>U(3)),B.a.bind("4",()=>U(4)),B.a.bind("5",()=>U(5)),setTimeout(()=>{B.a.unbind("0"),B.a.unbind("1"),B.a.unbind("2"),B.a.unbind("3"),B.a.unbind("4"),B.a.unbind("5")},1e3)}),()=>{B.a.unbind("s s"),B.a.unbind("d d"),B.a.unbind("r")}}),Object(d.useEffect)(()=>{var C,O;const $=((O=(C=y==null?void 0:y.data)==null?void 0:C.listGalleryScrapers)!=null?O:[]).filter(X=>{var ie;return(ie=X.gallery)==null?void 0:ie.supported_scrapes.includes(Rt.Fragment)});F($)},[y]);function oe(C){var O;return xl({id:a?void 0:(O=t==null?void 0:t.id)!=null?O:""},C)}function Q(C){return Oi(this,null,function*(){var O,$;P(!0);try{if(a){const X=yield z({variables:{input:C}});((O=X.data)==null?void 0:O.galleryCreate)&&(w.push(`/galleries/${X.data.galleryCreate.id}`),x.success({content:"Created gallery"}))}else(($=(yield L({variables:{input:C}})).data)==null?void 0:$.galleryUpdate)&&(x.success({content:v.formatMessage({id:"toast.updated_entity"},{entity:v.formatMessage({id:"gallery"}).toLocaleLowerCase()})}),V.resetForm({values:V.values}))}catch(X){x.error(X)}P(!1)})}function J(C){return Oi(this,null,function*(){var O;if(!!t){P(!0);try{const $=yield gy(C.id,t.id);if(!$.data||!((O=$.data.scrapeSingleGallery)==null?void 0:O.length)){x.success({content:"No galleries found"});return}j($.data.scrapeSingleGallery[0])}catch($){x.error($)}finally{P(!1)}}})}function re(){return Oi(this,null,function*(){P(!0);try{yield fi(),yield y.refetch()}catch(C){x.error(C)}finally{P(!1)}})}function Z(C){C&&A(C),j(void 0)}function W(){if(!I)return;const C=oe(V.values);return e.a.createElement(mw,{gallery:C,scraped:I,onClose:O=>{Z(O)}})}function H(){if(!a)return e.a.createElement(wr.a,{className:"d-inline-block",id:"gallery-scrape",title:v.formatMessage({id:"actions.scrape_with"})},k.map(C=>e.a.createElement(ze.a.Item,{key:C.name,onClick:()=>J(C)},C.name)),e.a.createElement(ze.a.Item,{onClick:()=>re()},e.a.createElement("span",{className:"fa-icon"},e.a.createElement(le,{icon:"sync-alt"})),e.a.createElement("span",null,e.a.createElement(b.a,{id:"actions.reload_scrapers"}))))}function de(C){var O,$;return(($=(O=y==null?void 0:y.data)==null?void 0:O.listGalleryScrapers)!=null?$:[]).some(X=>{var ie,ae;return((ae=(ie=X==null?void 0:X.gallery)==null?void 0:ie.urls)!=null?ae:[]).some(se=>C.includes(se))})}function A(C){var O,$,X;if(C.title&&V.setFieldValue("title",C.title),C.details&&V.setFieldValue("details",C.details),C.date&&V.setFieldValue("date",C.date),C.url&&V.setFieldValue("url",C.url),((O=C.studio)==null?void 0:O.stored_id)&&V.setFieldValue("studio_id",C.studio.stored_id),($=C.performers)==null?void 0:$.length){const ie=C.performers.filter(ae=>ae.stored_id!==void 0&&ae.stored_id!==null);if(ie.length>0){const ae=ie.map(se=>se.stored_id);V.setFieldValue("performer_ids",ae)}}if((X=C==null?void 0:C.tags)==null?void 0:X.length){const ie=C.tags.filter(ae=>ae.stored_id!==void 0&&ae.stored_id!==null);if(ie.length>0){const ae=ie.map(se=>se.stored_id);V.setFieldValue("tag_ids",ae)}}}function T(){return Oi(this,null,function*(){if(!!V.values.url){P(!0);try{const C=yield dy(V.values.url);if(!C||!C.data||!C.data.scrapeGalleryURL)return;j(C.data.scrapeGalleryURL)}catch(C){x.error(C)}finally{P(!1)}}})}function N(C,O,$){return e.a.createElement(m.a.Group,{controlId:O,as:xe.a},tt.renderLabel({title:O}),e.a.createElement(Se.a,{xs:9},e.a.createElement(m.a.Control,ed(xl({className:"text-input",placeholder:$!=null?$:O},V.getFieldProps(C)),{isInvalid:!!V.getFieldMeta(C).error})),e.a.createElement(m.a.Control.Feedback,{type:"invalid"},V.getFieldMeta(C).error)))}return R?e.a.createElement($e,null):e.a.createElement("div",{id:"gallery-edit-details"},e.a.createElement(ke.b,{when:V.dirty,message:v.formatMessage({id:"dialogs.unsaved_changes"})}),W(),e.a.createElement(m.a,{noValidate:!0,onSubmit:V.handleSubmit},e.a.createElement("div",{className:"form-container row px-3 pt-3"},e.a.createElement("div",{className:"col edit-buttons mb-3 pl-0"},e.a.createElement(q.a,{className:"edit-button",variant:"primary",disabled:!V.dirty,onClick:()=>V.submitForm()},e.a.createElement(b.a,{id:"actions.save"})),e.a.createElement(q.a,{className:"edit-button",variant:"danger",onClick:()=>r()},e.a.createElement(b.a,{id:"actions.delete"}))),e.a.createElement(Se.a,{xs:6,className:"text-right"},H())),e.a.createElement("div",{className:"form-container row px-3"},e.a.createElement("div",{className:"col-12 col-lg-6 col-xl-12"},N("title",v.formatMessage({id:"title"})),e.a.createElement(m.a.Group,{controlId:"url",as:xe.a},e.a.createElement(Se.a,{xs:3,className:"pr-0 url-label"},e.a.createElement(m.a.Label,{className:"col-form-label"},e.a.createElement(b.a,{id:"url"}))),e.a.createElement(Se.a,{xs:9},e.a.createElement(xi,ed(xl({},V.getFieldProps("url")),{onScrapeClick:T,urlScrapable:de,isInvalid:!!V.getFieldMeta("url").error})))),N("date",v.formatMessage({id:"date"}),"YYYY-MM-DD"),e.a.createElement(m.a.Group,{controlId:"rating",as:xe.a},tt.renderLabel({title:v.formatMessage({id:"rating"})}),e.a.createElement(Se.a,{xs:9},e.a.createElement(Kt,{value:(S=V.values.rating)!=null?S:void 0,onSetRating:C=>V.setFieldValue("rating",C!=null?C:null)}))),e.a.createElement(m.a.Group,{controlId:"studio",as:xe.a},tt.renderLabel({title:v.formatMessage({id:"studio"})}),e.a.createElement(Se.a,{xs:9},e.a.createElement(Ht,{onSelect:C=>{var O;return V.setFieldValue("studio_id",C.length>0?(O=C[0])==null?void 0:O.id:null)},ids:V.values.studio_id?[V.values.studio_id]:[]}))),e.a.createElement(m.a.Group,{controlId:"performers",as:xe.a},tt.renderLabel({title:v.formatMessage({id:"performers"}),labelProps:{column:!0,sm:3,xl:12}}),e.a.createElement(Se.a,{sm:9,xl:12},e.a.createElement(Aa,{isMulti:!0,onSelect:C=>V.setFieldValue("performer_ids",C.map(O=>O.id)),ids:V.values.performer_ids}))),e.a.createElement(m.a.Group,{controlId:"tags",as:xe.a},tt.renderLabel({title:v.formatMessage({id:"tags"}),labelProps:{column:!0,sm:3,xl:12}}),e.a.createElement(Se.a,{sm:9,xl:12},e.a.createElement(jt,{isMulti:!0,onSelect:C=>V.setFieldValue("tag_ids",C.map(O=>O.id)),ids:V.values.tag_ids}))),e.a.createElement(m.a.Group,{controlId:"scenes",as:xe.a},tt.renderLabel({title:v.formatMessage({id:"scenes"}),labelProps:{column:!0,sm:3,xl:12}}),e.a.createElement(Se.a,{sm:9,xl:12},e.a.createElement(xS,{scenes:D,onSelect:C=>te(C)})))),e.a.createElement("div",{className:"col-12 col-lg-6 col-xl-12"},e.a.createElement(m.a.Group,{controlId:"details"},e.a.createElement(m.a.Label,null,e.a.createElement(b.a,{id:"details"})),e.a.createElement(m.a.Control,{as:"textarea",className:"gallery-description text-input",onChange:C=>V.setFieldValue("details",C.currentTarget.value),value:V.values.details}))))))},vw=new br("country","country","country");class Ew extends ea{constructor(){super(vw)}}function kr(t,a){a&&a.length>0&&t.push(...a)}var rt={makePerformerScenesUrl:(t,a)=>{if(!t.id)return"#";const n=new bt(nt.Scenes),r=new Kn;return r.value=[{id:t.id,label:t.name||`Performer ${t.id}`}],n.criteria.push(r),kr(n.criteria,a),`/scenes?${n.makeQueryParameters()}`},makePerformerImagesUrl:(t,a)=>{if(!t.id)return"#";const n=new bt(nt.Images),r=new Kn;return r.value=[{id:t.id,label:t.name||`Performer ${t.id}`}],n.criteria.push(r),kr(n.criteria,a),`/images?${n.makeQueryParameters()}`},makePerformerGalleriesUrl:(t,a)=>{if(!t.id)return"#";const n=new bt(nt.Galleries),r=new Kn;return r.value=[{id:t.id,label:t.name||`Performer ${t.id}`}],n.criteria.push(r),kr(n.criteria,a),`/galleries?${n.makeQueryParameters()}`},makePerformerMoviesUrl:(t,a)=>{if(!t.id)return"#";const n=new bt(nt.Movies),r=new Kn;return r.value=[{id:t.id,label:t.name||`Performer ${t.id}`}],n.criteria.push(r),kr(n.criteria,a),`/movies?${n.makeQueryParameters()}`},makePerformersCountryUrl:t=>{if(!t.id)return"#";const a=new bt(nt.Performers),n=new Ew;return n.value=`${t.country}`,a.criteria.push(n),`/performers?${a.makeQueryParameters()}`},makeStudioScenesUrl:t=>{if(!t.id)return"#";const a=new bt(nt.Scenes),n=new pn;return n.value={items:[{id:t.id,label:t.name||`Studio ${t.id}`}],depth:0},a.criteria.push(n),`/scenes?${a.makeQueryParameters()}`},makeStudioImagesUrl:t=>{if(!t.id)return"#";const a=new bt(nt.Images),n=new pn;return n.value={items:[{id:t.id,label:t.name||`Studio ${t.id}`}],depth:0},a.criteria.push(n),`/images?${a.makeQueryParameters()}`},makeStudioGalleriesUrl:t=>{if(!t.id)return"#";const a=new bt(nt.Galleries),n=new pn;return n.value={items:[{id:t.id,label:t.name||`Studio ${t.id}`}],depth:0},a.criteria.push(n),`/galleries?${a.makeQueryParameters()}`},makeStudioMoviesUrl:t=>{if(!t.id)return"#";const a=new bt(nt.Movies),n=new pn;return n.value={items:[{id:t.id,label:t.name||`Studio ${t.id}`}],depth:0},a.criteria.push(n),`/movies?${a.makeQueryParameters()}`},makeParentTagsUrl:t=>{if(!t.id)return"#";const a=new bt(nt.Tags),n=new ta(hl);return n.value={items:[{id:t.id,label:t.name||`Tag ${t.id}`}],depth:0},a.criteria.push(n),`/tags?${a.makeQueryParameters()}`},makeChildTagsUrl:t=>{if(!t.id)return"#";const a=new bt(nt.Tags),n=new ta(_l);return n.value={items:[{id:t.id,label:t.name||`Tag ${t.id}`}],depth:0},a.criteria.push(n),`/tags?${a.makeQueryParameters()}`},makeTagSceneMarkersUrl:t=>{if(!t.id)return"#";const a=new bt(nt.SceneMarkers),n=new ta(oa);return n.value={items:[{id:t.id,label:t.name||`Tag ${t.id}`}],depth:0},a.criteria.push(n),`/scenes/markers?${a.makeQueryParameters()}`},makeTagScenesUrl:t=>{if(!t.id)return"#";const a=new bt(nt.Scenes),n=new ta(oa);return n.value={items:[{id:t.id,label:t.name||`Tag ${t.id}`}],depth:0},a.criteria.push(n),`/scenes?${a.makeQueryParameters()}`},makeTagPerformersUrl:t=>{if(!t.id)return"#";const a=new bt(nt.Performers),n=new ta(oa);return n.value={items:[{id:t.id,label:t.name||`Tag ${t.id}`}],depth:0},a.criteria.push(n),`/performers?${a.makeQueryParameters()}`},makeTagGalleriesUrl:t=>{if(!t.id)return"#";const a=new bt(nt.Galleries),n=new ta(oa);return n.value={items:[{id:t.id,label:t.name||`Tag ${t.id}`}],depth:0},a.criteria.push(n),`/galleries?${a.makeQueryParameters()}`},makeTagImagesUrl:t=>{if(!t.id)return"#";const a=new bt(nt.Images),n=new ta(oa);return n.value={items:[{id:t.id,label:t.name||`Tag ${t.id}`}],depth:0},a.criteria.push(n),`/images?${a.makeQueryParameters()}`},makeSceneMarkerUrl:t=>!t.id||!t.scene?"#":`/scenes/${t.scene.id}?t=${t.seconds}`,makeMovieScenesUrl:t=>{if(!t.id)return"#";const a=new bt(nt.Scenes),n=new Ou;return n.value=[{id:t.id,label:t.name||`Movie ${t.id}`}],a.criteria.push(n),`/scenes?${a.makeQueryParameters()}`},makeChildStudiosUrl:t=>{if(!t.id)return"#";const a=new bt(nt.Studios),n=new pl;return n.value=[{id:t.id,label:t.name||`Studio ${t.id}`}],a.criteria.push(n),`/studios?${a.makeQueryParameters()}`},makeGalleryImagesUrl:(t,a)=>{if(!t.id)return"#";const n=new bt(nt.Images),r=new bi;return r.value=[{id:t.id,label:t.title||`Gallery ${t.id}`}],n.criteria.push(r),kr(n.criteria,a),`/images?${n.makeQueryParameters()}`}};const xt=t=>{var a,n;let r="#",s="";if(t.tag){switch(t.tagType){case"scene":case void 0:r=rt.makeTagScenesUrl(t.tag);break;case"performer":r=rt.makeTagPerformersUrl(t.tag);break;case"gallery":r=rt.makeTagGalleriesUrl(t.tag);break;case"image":r=rt.makeTagImagesUrl(t.tag);break}s=t.tag.name||""}else t.performer?(r=rt.makePerformerScenesUrl(t.performer),s=t.performer.name||""):t.movie?(r=rt.makeMovieScenesUrl(t.movie),s=t.movie.name||""):t.marker?(r=rt.makeSceneMarkerUrl(t.marker),s=`${t.marker.title} - ${Me.secondsToTimestamp(t.marker.seconds||0)}`):t.gallery?(r=`/galleries/${t.gallery.id}`,s=t.gallery.title?t.gallery.title:Me.fileNameFromPath((a=t.gallery.path)!=null?a:"")):t.scene&&(r=`/scenes/${t.scene.id}`,s=t.scene.title?t.scene.title:Me.fileNameFromPath((n=t.scene.path)!=null?n:""));return e.a.createElement(Zt.a,{className:St()("tag-item",t.className),variant:"secondary"},e.a.createElement(Le.Link,{to:r},s))},Pl="TruncatedText",yw=`${Pl}-tooltip`;var Mt=({text:t,className:a,lineCount:n=1,placement:r="bottom",delay:s=1e3})=>{const[l,u]=Object(d.useState)(!1),o=Object(d.useRef)(null);if(!t)return e.a.createElement(e.a.Fragment,null);const i=Object(ia.debounce)(()=>u(!0),s),c=p=>{(p.offsetWidth<p.scrollWidth||p.offsetHeight+10<p.scrollHeight)&&i()},g=()=>{i.cancel(),u(!1)},f=e.a.createElement(zr.a,{target:o.current,show:l,placement:r},e.a.createElement(Ma.a,{id:Pl,className:yw},t));return e.a.createElement("div",{className:St()(Pl,a),style:{WebkitLineClamp:n},ref:o,onMouseEnter:p=>c(p.currentTarget),onFocus:p=>c(p.currentTarget),onMouseLeave:g,onBlur:g},t,f)};const Gt=({enterDelay:t=0,leaveDelay:a=400,content:n,children:r,className:s,placement:l="top",onOpen:u,onClose:o})=>{const[i,c]=Object(d.useState)(!1),g=Object(d.useRef)(null),f=Object(d.useRef)(),p=Object(d.useRef)(),_=Object(d.useCallback)(()=>{window.clearTimeout(p.current),f.current=window.setTimeout(()=>{c(!0),u==null||u()},t)},[t,u]),S=Object(d.useCallback)(()=>{window.clearTimeout(f.current),p.current=window.setTimeout(()=>{c(!1),o==null||o()},a)},[a,o]);return Object(d.useEffect)(()=>()=>{window.clearTimeout(f.current),window.clearTimeout(p.current)},[]),e.a.createElement(e.a.Fragment,null,e.a.createElement("div",{className:s,onMouseEnter:_,onMouseLeave:S,ref:g},r),g.current&&e.a.createElement(zr.a,{show:i,placement:l,target:g.current},e.a.createElement(In.a,{onMouseEnter:_,onMouseLeave:S,id:"popover",className:"hover-popover-content"},n)))};var It=ne(888);const bn=t=>{function a(u){const{shiftKey:o}=u;!t.onSelectedChanged||t.selecting&&(t.onSelectedChanged(!t.selected,o),u.preventDefault())}function n(u){t.selecting&&(u.dataTransfer.setData("text/plain",""),u.dataTransfer.setDragImage(new Image,0,0))}function r(u){const o=u,i=!1;!t.onSelectedChanged||(t.selecting&&!t.selected&&t.onSelectedChanged(!0,i),o.dataTransfer.dropEffect="move",o.preventDefault())}let s=!1;function l(){if(t.onSelectedChanged)return e.a.createElement(m.a.Control,{type:"checkbox",className:"card-check",checked:t.selected,onChange:()=>t.onSelectedChanged(!t.selected,s),onClick:u=>{s=u.shiftKey,u.stopPropagation()}})}return e.a.createElement(It.a,{className:St()(t.className,"grid-card"),onClick:a,onDragStart:n,onDragOver:r,draggable:t.onSelectedChanged&&t.selecting},l(),e.a.createElement("div",{className:St()(t.thumbnailSectionClassName,"thumbnail-section")},e.a.createElement(Le.Link,{to:t.url,className:t.linkClassName,onClick:a},t.image),t.overlays),e.a.createElement("div",{className:"card-section"},e.a.createElement(Le.Link,{to:t.url,onClick:a},e.a.createElement("h5",{className:"card-section-title"},e.a.createElement(Mt,{text:t.title,lineCount:2}))),t.details),t.popovers)};var bw=ne(156),Ni=ne.n(bw),Sw=ne(413);Ni.a.registerLocale(Sw);const ww={USA:"US","United States":"US",America:"US",American:"US",Czechia:"CZ",England:"GB","United Kingdom":"GB",Russia:"RU","Slovak Republic":"SK",Iran:"IR",Moldova:"MD"},kw=t=>{var a;if(!t)return null;const n=(a=ww[t])!=null?a:Ni.a.getAlpha2Code(t,"en");return n?{code:n,name:Ni.a.getName(n,"en")}:null},xw=t=>{var a;return t&&(a=Ni.a.getName(t,"en"))!=null?a:null};var Pw=kw,ad=({className:t,country:a})=>{const n=Pw(a);return(n==null?void 0:n.code)?e.a.createElement("span",{className:`${t!=null?t:""} flag-icon flag-icon-${n.code.toLowerCase()}`,title:n.name}):e.a.createElement(e.a.Fragment,null)};const pa=({className:t,url:a,type:n,count:r})=>{const s=Object(ge.a)();function l(){switch(n){case"scene":return"play-circle";case"image":return"image";case"gallery":return"images";case"movie":return"film"}}function u(){switch(n){case"scene":return{one:"scene",other:"scenes"};case"image":return{one:"image",other:"images"};case"gallery":return{one:"gallery",other:"galleries"};case"movie":return{one:"movie",other:"movies"}}}function o(){const i=s.formatPlural(r),c=u(),g=c[i]||c.other;return`${r} ${g}`}return e.a.createElement(Le.Link,{className:t,to:a,title:o()},e.a.createElement(q.a,{className:"minimal"},e.a.createElement(le,{icon:l()}),e.a.createElement("span",null,r)))},Ii=({performer:t,ageFromDate:a,selecting:n,selected:r,onSelectedChanged:s,extraCriteria:l})=>{var u,o,i;const c=Object(ge.a)(),g=Me.age(t.birthdate,a!=null?a:t.death_date),f=a?"media_info.performer_card.age_context":"media_info.performer_card.age",p=c.formatMessage({id:"years_old",defaultMessage:"years old"}),_=c.formatMessage({id:f},{age:g,years_old:p});function S(){if(t.favorite!==!1)return e.a.createElement("div",{className:"favorite"},e.a.createElement(le,{icon:"heart",size:"2x"}))}function v(){if(!!t.scene_count)return e.a.createElement(pa,{className:"scene-count",type:"scene",count:t.scene_count,url:rt.makePerformerScenesUrl(t,l==null?void 0:l.scenes)})}function x(){if(!!t.image_count)return e.a.createElement(pa,{className:"image-count",type:"image",count:t.image_count,url:rt.makePerformerImagesUrl(t,l==null?void 0:l.images)})}function w(){if(!!t.gallery_count)return e.a.createElement(pa,{className:"gallery-count",type:"gallery",count:t.gallery_count,url:rt.makePerformerGalleriesUrl(t,l==null?void 0:l.galleries)})}function D(){if(t.tags.length<=0)return;const F=t.tags.map(I=>e.a.createElement(xt,{key:I.id,tagType:"performer",tag:I}));return e.a.createElement(Gt,{placement:"bottom",content:F},e.a.createElement(q.a,{className:"minimal tag-count"},e.a.createElement(le,{icon:"tag"}),e.a.createElement("span",null,t.tags.length)))}function M(){if(!!t.movie_count)return e.a.createElement(pa,{className:"movie-count",type:"movie",count:t.movie_count,url:rt.makePerformerMoviesUrl(t,l==null?void 0:l.movies)})}function y(){if(t.scene_count||t.image_count||t.gallery_count||t.tags.length>0||t.movie_count)return e.a.createElement(e.a.Fragment,null,e.a.createElement("hr",null),e.a.createElement(yt.a,{className:"card-popovers"},v(),M(),x(),w(),D()))}function k(){if(!!t.rating)return e.a.createElement("div",{className:`rating-banner ${t.rating?`rating-${t.rating}`:""}`},e.a.createElement(b.a,{id:"rating"}),": ",t.rating)}return e.a.createElement(bn,{className:"performer-card",url:`/performers/${t.id}`,title:(u=t.name)!=null?u:"",image:e.a.createElement(e.a.Fragment,null,e.a.createElement("img",{className:"performer-card-image",alt:(o=t.name)!=null?o:"",src:(i=t.image_path)!=null?i:""}),S(),k()),details:e.a.createElement(e.a.Fragment,null,g!==0?e.a.createElement("div",{className:"text-muted"},_):"",e.a.createElement(Le.Link,{to:rt.makePerformersCountryUrl(t)},e.a.createElement(ad,{country:t.country})),y()),selected:r,selecting:n,onSelectedChanged:s})},Di=t=>a=>{var n;const r={id:t.id,label:(n=t.name)!=null?n:`Performer ${t.id}`};let s=a.criteria.find(l=>l.criterionOption.type==="performers");return s&&(s.modifier===ue.IncludesAll||s.modifier===ue.Includes)?(s.value.find(l=>l.id===t.id)||s.value.push(r),s.modifier=ue.IncludesAll):(s=new Kn,s.value=[r],a.criteria.push(s)),a};function xr(t){const a=t.slice();return a.sort((n,r)=>{var s,l;if(n.gender===r.gender)return((s=n.name)!=null?s:"").localeCompare((l=r.name)!=null?l:"");const u=[At.Female,At.TransgenderFemale,At.Male,At.TransgenderMale,At.Intersex,At.NonBinary],o=n.gender?u.indexOf(n.gender):u.length,i=r.gender?u.indexOf(r.gender):u.length;return o-i}),a}const Cw=({gallery:t})=>{var a,n,r;function s(){if(!!t.details)return e.a.createElement(e.a.Fragment,null,e.a.createElement("h6",null,"Details"),e.a.createElement("p",{className:"pre"},t.details))}function l(){if(t.tags.length===0)return;const c=t.tags.map(g=>e.a.createElement(xt,{key:g.id,tag:g,tagType:"gallery"}));return e.a.createElement(e.a.Fragment,null,e.a.createElement("h6",null,"Tags"),c)}function u(){if(t.performers.length===0)return;const g=xr(t.performers).map(f=>{var p;return e.a.createElement(Ii,{key:f.id,performer:f,ageFromDate:(p=t.date)!=null?p:void 0})});return e.a.createElement(e.a.Fragment,null,e.a.createElement("h6",null,"Performers"),e.a.createElement("div",{className:"row justify-content-center gallery-performers"},g))}const o=t.studio?"col-9":"col-12",i=(n=t.title)!=null?n:Me.fileNameFromPath((a=t.path)!=null?a:"");return e.a.createElement(e.a.Fragment,null,e.a.createElement("div",{className:"row"},e.a.createElement("div",{className:`${o} col-xl-12 gallery-details`},e.a.createElement("h3",{className:"gallery-header d-xl-none"},e.a.createElement(Mt,{text:i})),t.date?e.a.createElement("h5",null,e.a.createElement(ct.a,{value:t.date,format:"long",timeZone:"utc"})):void 0,t.rating?e.a.createElement("h6",null,"Rating: ",e.a.createElement(Kt,{value:t.rating})):""),t.studio&&e.a.createElement("div",{className:"col-3 d-xl-none"},e.a.createElement(Le.Link,{to:`/studios/${t.studio.id}`},e.a.createElement("img",{src:(r=t.studio.image_path)!=null?r:"",alt:`${t.studio.name} logo`,className:"studio-logo float-right"})))),e.a.createElement("div",{className:"row"},e.a.createElement("div",{className:"col-12"},s(),l(),u())))};var Mw=(t,a,n)=>new Promise((r,s)=>{var l=i=>{try{o(n.next(i))}catch(c){s(c)}},u=i=>{try{o(n.throw(i))}catch(c){s(c)}},o=i=>i.done?r(i.value):Promise.resolve(i.value).then(l,u);o((n=n.apply(t,a)).next())});const nd=t=>{var a,n;const r=Object(ge.a)(),s=r.formatMessage({id:"gallery"}),l=r.formatMessage({id:"galleries"}),u=r.formatMessage({id:"dialogs.delete_entity_title"},{count:t.selected.length,singularEntity:s,pluralEntity:l}),o=r.formatMessage({id:"toast.delete_entity"},{count:t.selected.length,singularEntity:s,pluralEntity:l}),i=r.formatMessage({id:"dialogs.delete_entity_desc"},{count:t.selected.length,singularEntity:s,pluralEntity:l}),{configuration:c}=e.a.useContext(Et),[g,f]=Object(d.useState)((a=c==null?void 0:c.defaults.deleteFile)!=null?a:!1),[p,_]=Object(d.useState)((n=c==null?void 0:c.defaults.deleteGenerated)!=null?n:!0),S=He(),[v]=TE(D()),[x,w]=Object(d.useState)(!1);function D(){return{ids:t.selected.map(k=>k.id),delete_file:g,delete_generated:p}}function M(){return Mw(this,null,function*(){w(!0);try{yield v(),S.success({content:o})}catch(k){S.error(k)}w(!1),t.onClose(!0)})}function y(){if(!g)return;const k=t.selected.filter(F=>F.path);if(k.length!==0)return e.a.createElement("div",{className:"delete-dialog alert alert-danger text-break"},e.a.createElement("p",{className:"font-weight-bold"},e.a.createElement(b.a,{values:{count:k.length,singularEntity:r.formatMessage({id:"file"}),pluralEntity:r.formatMessage({id:"files"})},id:"dialogs.delete_alert"})),e.a.createElement("ul",null,k.slice(0,5).map(F=>e.a.createElement("li",{key:F.path},F.path)),k.length>5&&e.a.createElement(b.a,{values:{count:k.length-5,singularEntity:r.formatMessage({id:"file"}),pluralEntity:r.formatMessage({id:"files"})},id:"dialogs.delete_object_overflow"}),e.a.createElement("li",null,e.a.createElement(b.a,{id:"dialogs.delete_galleries_extra"}))))}return e.a.createElement(it,{show:!0,icon:"trash-alt",header:u,accept:{variant:"danger",onClick:M,text:r.formatMessage({id:"actions.delete"})},cancel:{onClick:()=>t.onClose(!1),text:r.formatMessage({id:"actions.cancel"}),variant:"secondary"},isRunning:x},e.a.createElement("p",null,i),y(),e.a.createElement(m.a,null,e.a.createElement(m.a.Check,{id:"delete-file",checked:g,label:r.formatMessage({id:"dialogs.delete_gallery_files"}),onChange:()=>f(!g)}),e.a.createElement(m.a.Check,{id:"delete-generated",checked:p,label:r.formatMessage({id:"actions.delete_generated_supporting_files"}),onChange:()=>_(!p)})))},Cl=t=>{const{setLightboxState:a}=Object(d.useContext)(ys);return Object(d.useEffect)(()=>{a({images:t.images,showNavigation:t.showNavigation,pageCallback:t.pageCallback,initialIndex:t.initialIndex,pageHeader:t.pageHeader,slideshowEnabled:t.slideshowEnabled,onClose:t.onClose})},[a,t.images,t.showNavigation,t.pageCallback,t.initialIndex,t.pageHeader,t.slideshowEnabled,t.onClose]),Object(d.useCallback)((r,s=!1)=>{a({initialIndex:r,isVisible:!0,slideshowEnabled:s})},[a])},Ow=t=>{const{setLightboxState:a}=Object(d.useContext)(ys),[n,{data:r}]=kh({variables:{id:t}});return Object(d.useEffect)(()=>{var l,u;r&&a({images:(u=(l=r.findGallery)==null?void 0:l.images)!=null?u:[],isLoading:!1,isVisible:!0})},[a,r]),()=>{var l,u;r?a({isLoading:!1,isVisible:!0,images:(u=(l=r.findGallery)==null?void 0:l.images)!=null?u:[],pageCallback:void 0,pageHeader:void 0}):(a({isLoading:!0,isVisible:!0,pageCallback:void 0,pageHeader:void 0}),n())}},Ti=()=>e.a.createElement("span",null,e.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink","aria-hidden":"true",focusable:"false",width:"1em",height:"1em",style:{transform:"rotate(360deg)"},preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 36 36"},e.a.createElement("path",{fill:"currentColor",d:"M22.855.758L7.875 7.024l12.537 9.733c2.633 2.224 6.377 2.937 9.77 1.518c4.826-2.018 7.096-7.576 5.072-12.413C33.232 1.024 27.68-1.261 22.855.758zm-9.962 17.924L2.05 10.284L.137 23.529a7.993 7.993 0 0 0 2.958 7.803a8.001 8.001 0 0 0 9.798-12.65zm15.339 7.015l-8.156-4.69l-.033 9.223c-.088 2 .904 3.98 2.75 5.041a5.462 5.462 0 0 0 7.479-2.051c1.499-2.644.589-6.013-2.04-7.523z"}),e.a.createElement("rect",{x:"0",y:"0",width:"36",height:"36",fill:"rgba(0, 0, 0, 0)"}))),Fi=({performers:t})=>{const n=xr(t).map(r=>{var s,l;return e.a.createElement("div",{className:"performer-tag-container row",key:r.id},e.a.createElement(Le.Link,{to:`/performers/${r.id}`,className:"performer-tag col m-auto zoom-2"},e.a.createElement("img",{className:"image-thumbnail",alt:(s=r.name)!=null?s:"",src:(l=r.image_path)!=null?l:""})),e.a.createElement(xt,{key:r.id,performer:r,className:"d-block"}))});return e.a.createElement(Gt,{className:"performer-count",placement:"bottom",content:n},e.a.createElement(q.a,{className:"minimal"},e.a.createElement(le,{icon:"user"}),e.a.createElement("span",null,t.length)))},Pr=({rating:t})=>t?e.a.createElement("div",{className:`rating-banner rating-${t}`},e.a.createElement(b.a,{id:"rating"}),": ",t):e.a.createElement(e.a.Fragment,null),Nw=t=>{var a,n;function r(){if(t.image.tags.length<=0)return;const c=t.image.tags.map(g=>e.a.createElement(xt,{key:g.id,tag:g,tagType:"image"}));return e.a.createElement(Gt,{className:"tag-count",placement:"bottom",content:c},e.a.createElement(q.a,{className:"minimal"},e.a.createElement(le,{icon:"tag"}),e.a.createElement("span",null,t.image.tags.length)))}function s(){if(!(t.image.performers.length<=0))return e.a.createElement(Fi,{performers:t.image.performers})}function l(){if(t.image.o_counter)return e.a.createElement("div",null,e.a.createElement(q.a,{className:"minimal"},e.a.createElement("span",{className:"fa-icon"},e.a.createElement(Ti,null)),e.a.createElement("span",null,t.image.o_counter)))}function u(){if(t.image.organized)return e.a.createElement("div",null,e.a.createElement(q.a,{className:"minimal"},e.a.createElement(le,{icon:"box"})))}function o(){if(t.image.tags.length>0||t.image.performers.length>0||t.image.o_counter||t.image.organized)return e.a.createElement(e.a.Fragment,null,e.a.createElement("hr",null),e.a.createElement(yt.a,{className:"card-popovers"},r(),s(),l(),u()))}function i(){const{file:c}=t.image,g=c.width?c.width:0;return(c.height?c.height:0)>g}return e.a.createElement(bn,{className:`image-card zoom-${t.zoomIndex}`,url:`/images/${t.image.id}`,title:t.image.title?t.image.title:Me.fileNameFromPath(t.image.path),linkClassName:"image-card-link",image:e.a.createElement(e.a.Fragment,null,e.a.createElement("div",{className:St()("image-card-preview",{portrait:i()})},e.a.createElement("img",{className:"image-card-preview-image",alt:(a=t.image.title)!=null?a:"",src:(n=t.image.paths.thumbnail)!=null?n:""})),e.a.createElement(Pr,{rating:t.image.rating})),popovers:o(),selected:t.selected,selecting:t.selecting,onSelectedChanged:t.onSelectedChanged})};var ji=t=>{var a;const n=Object(ge.a)(),r=[ot.Set,ot.Add,ot.Remove];function s(i){t.onUpdate(i.map(c=>c.id))}function l(i){switch(i){case ot.Set:return n.formatMessage({id:"actions.overwrite",defaultMessage:"Overwrite"});case ot.Add:return n.formatMessage({id:"actions.add",defaultMessage:"Add"});case ot.Remove:return n.formatMessage({id:"actions.remove",defaultMessage:"Remove"})}}function u(i){i!==t.mode&&(i===ot.Set&&t.existingIds?t.onUpdate(t.existingIds):i!==ot.Set&&t.mode===ot.Set&&t.onUpdate([]),t.onSetMode(i))}function o(i){return d.createElement(q.a,{variant:"primary",active:t.mode===i,size:"sm",onClick:()=>u(i),disabled:t.disabled},l(i))}return d.createElement("div",{className:"multi-set"},d.createElement(yt.a,{className:"button-group-above"},r.map(i=>o(i))),d.createElement(Sr,{type:t.type,isDisabled:t.disabled,isMulti:!0,isClearable:!1,onSelect:s,ids:(a=t.ids)!=null?a:[]}))},Iw=(t,a,n)=>new Promise((r,s)=>{var l=i=>{try{o(n.next(i))}catch(c){s(c)}},u=i=>{try{o(n.throw(i))}catch(c){s(c)}},o=i=>i.done?r(i.value):Promise.resolve(i.value).then(l,u);o((n=n.apply(t,a)).next())});const Dw=t=>{const a=Object(ge.a)(),n=He(),[r,s]=Object(d.useState)(),[l,u]=Object(d.useState)(),[o,i]=e.a.useState(ot.Add),[c,g]=Object(d.useState)(),[f,p]=Object(d.useState)(),[_,S]=e.a.useState(ot.Add),[v,x]=Object(d.useState)(),[w,D]=Object(d.useState)(),[M,y]=Object(d.useState)(),[k]=PE(),[F,I]=Object(d.useState)(!1),j=e.a.createRef();function R(Q,J){return{mode:J,ids:Q}}function P(){const Q=L(t.selected),J=G(t.selected),re=Y(t.selected),Z=V(t.selected),W={ids:t.selected.map(H=>H.id)};return r===void 0?Q&&(W.rating=null):W.rating=r,l===void 0?J&&(W.studio_id=null):W.studio_id=l,o===ot.Set&&(!c||c.length===0)?re.length>0&&(W.performer_ids=R(c||[],o)):W.performer_ids=R(c||[],o),_===ot.Set&&(!v||v.length===0)?Z.length>0&&(W.tag_ids=R(v||[],_)):W.tag_ids=R(v||[],_),M!==void 0&&(W.organized=M),W}function z(){return Iw(this,null,function*(){I(!0);try{yield k({variables:{input:P()}}),n.success({content:a.formatMessage({id:"toast.updated_entity"},{entity:a.formatMessage({id:"images"}).toLocaleLowerCase()})}),t.onClose(!0)}catch(Q){n.error(Q)}I(!1)})}function L(Q){let J,re=!0;return Q.forEach(Z=>{var W;re?(J=(W=Z.rating)!=null?W:void 0,re=!1):J!==Z.rating&&(J=void 0)}),J}function G(Q){let J,re=!0;return Q.forEach(Z=>{var W,H;if(re)J=(W=Z==null?void 0:Z.studio)==null?void 0:W.id,re=!1;else{const de=(H=Z==null?void 0:Z.studio)==null?void 0:H.id;J!==de&&(J=void 0)}}),J}function Y(Q){let J=[],re=!0;return Q.forEach(Z=>{if(re)J=Z.performers?Z.performers.map(W=>W.id).sort():[],re=!1;else{const W=Z.performers?Z.performers.map(H=>H.id).sort():[];Re.a.isEqual(J,W)||(J=[])}}),J}function V(Q){let J=[],re=!0;return Q.forEach(Z=>{if(re)J=Z.tags?Z.tags.map(W=>W.id).sort():[],re=!1;else{const W=Z.tags?Z.tags.map(H=>H.id).sort():[];Re.a.isEqual(J,W)||(J=[])}}),J}Object(d.useEffect)(()=>{const Q=t.selected;let J,re,Z=[],W=[],H,de=!0;Q.forEach(A=>{var T,N,C;const O=A.rating,$=(T=A==null?void 0:A.studio)==null?void 0:T.id,X=((N=A.performers)!=null?N:[]).map(ae=>ae.id).sort(),ie=((C=A.tags)!=null?C:[]).map(ae=>ae.id).sort();de?(J=O!=null?O:void 0,re=$,Z=X,W=ie,H=A.organized,de=!1):(O!==J&&(J=void 0),$!==re&&(re=void 0),Re.a.isEqual(X,Z)||(Z=[]),Re.a.isEqual(ie,W)||(W=[]),A.organized!==H&&(H=void 0))}),s(J),u(re),p(Z),D(W),y(H)},[t.selected,o,_]),Object(d.useEffect)(()=>{j.current&&(j.current.indeterminate=M===void 0)},[M,j]);function U(Q,J){let re=ot.Add,Z=[];switch(Q){case"performers":re=o,Z=f;break;case"tags":re=_,Z=w;break}return e.a.createElement(ji,{type:Q,disabled:F,onUpdate:W=>{switch(Q){case"performers":g(W);break;case"tags":x(W);break}},onSetMode:W=>{switch(Q){case"performers":i(W);break;case"tags":S(W);break}},existingIds:Z!=null?Z:[],ids:J!=null?J:[],mode:re})}function te(){y(M?void 0:M!==void 0)}function oe(){var Q,J;return e.a.createElement(it,{show:!0,icon:"pencil-alt",header:a.formatMessage({id:"dialogs.edit_entity_title"},{count:(J=(Q=t==null?void 0:t.selected)==null?void 0:Q.length)!=null?J:1,singularEntity:a.formatMessage({id:"image"}),pluralEntity:a.formatMessage({id:"images"})}),accept:{onClick:z,text:a.formatMessage({id:"actions.apply"})},cancel:{onClick:()=>t.onClose(!1),text:a.formatMessage({id:"actions.cancel"}),variant:"secondary"},isRunning:F},e.a.createElement(m.a,null,e.a.createElement(m.a.Group,{controlId:"rating",as:xe.a},tt.renderLabel({title:a.formatMessage({id:"rating"})}),e.a.createElement(Se.a,{xs:9},e.a.createElement(Kt,{value:r,onSetRating:re=>s(re),disabled:F}))),e.a.createElement(m.a.Group,{controlId:"studio",as:xe.a},tt.renderLabel({title:a.formatMessage({id:"studio"})}),e.a.createElement(Se.a,{xs:9},e.a.createElement(Ht,{onSelect:re=>{var Z;return u(re.length>0?(Z=re[0])==null?void 0:Z.id:void 0)},ids:l?[l]:[],isDisabled:F}))),e.a.createElement(m.a.Group,{controlId:"performers"},e.a.createElement(m.a.Label,null,e.a.createElement(b.a,{id:"performers"})),U("performers",c)),e.a.createElement(m.a.Group,{controlId:"tags"},e.a.createElement(m.a.Label,null,e.a.createElement(b.a,{id:"tags"})),U("tags",v)),e.a.createElement(m.a.Group,{controlId:"organized"},e.a.createElement(m.a.Check,{type:"checkbox",label:a.formatMessage({id:"organized"}),checked:M,ref:j,onChange:()=>te()}))))}return oe()};var Tw=(t,a,n)=>new Promise((r,s)=>{var l=i=>{try{o(n.next(i))}catch(c){s(c)}},u=i=>{try{o(n.throw(i))}catch(c){s(c)}},o=i=>i.done?r(i.value):Promise.resolve(i.value).then(l,u);o((n=n.apply(t,a)).next())});const rd=t=>{var a,n;const r=Object(ge.a)(),s=r.formatMessage({id:"image"}),l=r.formatMessage({id:"images"}),u=r.formatMessage({id:"dialogs.delete_entity_title"},{count:t.selected.length,singularEntity:s,pluralEntity:l}),o=r.formatMessage({id:"toast.delete_entity"},{count:t.selected.length,singularEntity:s,pluralEntity:l}),i=r.formatMessage({id:"dialogs.delete_entity_desc"},{count:t.selected.length,singularEntity:s,pluralEntity:l}),{configuration:c}=e.a.useContext(Et),[g,f]=Object(d.useState)((a=c==null?void 0:c.defaults.deleteFile)!=null?a:!1),[p,_]=Object(d.useState)((n=c==null?void 0:c.defaults.deleteGenerated)!=null?n:!0),S=He(),[v]=CE(D()),[x,w]=Object(d.useState)(!1);function D(){return{ids:t.selected.map(k=>k.id),delete_file:g,delete_generated:p}}function M(){return Tw(this,null,function*(){w(!0);try{yield v(),S.success({content:o})}catch(k){S.error(k)}w(!1),t.onClose(!0)})}function y(){if(!!g)return e.a.createElement("div",{className:"delete-dialog alert alert-danger text-break"},e.a.createElement("p",{className:"font-weight-bold"},e.a.createElement(b.a,{values:{count:t.selected.length,singularEntity:r.formatMessage({id:"file"}),pluralEntity:r.formatMessage({id:"files"})},id:"dialogs.delete_alert"})),e.a.createElement("ul",null,t.selected.slice(0,5).map(k=>e.a.createElement("li",{key:k.path},k.path)),t.selected.length>5&&e.a.createElement(b.a,{values:{count:t.selected.length-5,singularEntity:r.formatMessage({id:"file"}),pluralEntity:r.formatMessage({id:"files"})},id:"dialogs.delete_object_overflow"})))}return e.a.createElement(it,{show:!0,icon:"trash-alt",header:u,accept:{variant:"danger",onClick:M,text:r.formatMessage({id:"actions.delete"})},cancel:{onClick:()=>t.onClose(!1),text:r.formatMessage({id:"actions.cancel"}),variant:"secondary"},isRunning:x},e.a.createElement("p",null,i),y(),e.a.createElement(m.a,null,e.a.createElement(m.a.Check,{id:"delete-image",checked:g,label:r.formatMessage({id:"actions.delete_file"}),onChange:()=>f(!g)}),e.a.createElement(m.a.Check,{id:"delete-image-generated",checked:p,label:r.formatMessage({id:"actions.delete_generated_supporting_files"}),onChange:()=>_(!p)})))};var Qj=ne(314),id=t=>{const a=document.createElement("a");a.href=t,a.click()},Fw=Object.defineProperty,jw=Object.defineProperties,Lw=Object.getOwnPropertyDescriptors,sd=Object.getOwnPropertySymbols,Aw=Object.prototype.hasOwnProperty,Rw=Object.prototype.propertyIsEnumerable,ld=(t,a,n)=>a in t?Fw(t,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[a]=n,zw=(t,a)=>{for(var n in a||(a={}))Aw.call(a,n)&&ld(t,n,a[n]);if(sd)for(var n of sd(a))Rw.call(a,n)&&ld(t,n,a[n]);return t},qw=(t,a)=>jw(t,Lw(a)),$w=(t,a,n)=>new Promise((r,s)=>{var l=i=>{try{o(n.next(i))}catch(c){s(c)}},u=i=>{try{o(n.throw(i))}catch(c){s(c)}},o=i=>i.done?r(i.value):Promise.resolve(i.value).then(l,u);o((n=n.apply(t,a)).next())});const Sn=t=>{const[a,n]=Object(d.useState)(!0),[r,s]=Object(d.useState)(!1),l=Object(ge.a)(),u=He();function o(){return $w(this,null,function*(){try{s(!0);const i=yield yy(qw(zw({},t.exportInput),{includeDependencies:a}));if(i.data&&i.data.exportObjects){const c=i.data.exportObjects;id(c)}}catch(i){u.error(i)}finally{s(!1),t.onClose()}})}return e.a.createElement(it,{show:!0,icon:"cogs",header:l.formatMessage({id:"dialogs.export_title"}),accept:{onClick:o,text:l.formatMessage({id:"actions.export"})},cancel:{onClick:()=>t.onClose(),text:l.formatMessage({id:"actions.cancel"}),variant:"secondary"},isRunning:r},e.a.createElement(m.a,null,e.a.createElement(m.a.Group,null,e.a.createElement(m.a.Check,{id:"include-dependencies",checked:a,label:l.formatMessage({id:"dialogs.export_include_related_objects"}),onChange:()=>n(!a)}))))};var Ml=(t,a,n)=>new Promise((r,s)=>{var l=i=>{try{o(n.next(i))}catch(c){s(c)}},u=i=>{try{o(n.throw(i))}catch(c){s(c)}},o=i=>i.done?r(i.value):Promise.resolve(i.value).then(l,u);o((n=n.apply(t,a)).next())});const Gw=({images:t,onChangePage:a,currentPage:n,pageCount:r})=>{const[s,l]=Object(d.useState)(!1),u=Object(d.useCallback)(f=>{f===-1?a(n===1?r:n-1):f===1&&a(n===r?1:n+1)},[a,n,r]),o=Object(d.useCallback)(()=>{l(!1)},[l]),i=Cl({images:t,showNavigation:!1,pageCallback:r>1?u:void 0,pageHeader:`Page ${n} / ${r}`,slideshowEnabled:s,onClose:o}),c=Object(d.useCallback)(f=>{l(!0),i(f,!0)},[i]),g=t.map((f,p)=>{var _,S;return e.a.createElement("div",{role:"link",tabIndex:p,key:f.id,onClick:()=>c(p),onKeyPress:()=>c(p)},e.a.createElement("img",{src:(_=f.paths.thumbnail)!=null?_:"",loading:"lazy",className:"gallery-image",alt:(S=f.title)!=null?S:Me.fileNameFromPath(f.path)}))});return e.a.createElement("div",{className:"gallery"},e.a.createElement("div",{className:"flexbin"},g))},Xn=({filterHook:t,persistState:a,persistanceKey:n,extraOperations:r})=>{const s=Object(ge.a)(),l=Object(ke.k)(),[u,o]=Object(d.useState)(!1),[i,c]=Object(d.useState)(!1),g=(r!=null?r:[]).concat([{text:s.formatMessage({id:"actions.view_random"}),onClick:S},{text:s.formatMessage({id:"actions.export"}),onClick:v,isDisplayed:fa},{text:s.formatMessage({id:"actions.export_all"}),onClick:x}]),f=(I,j)=>(B.a.bind("p r",()=>{S(I,j)}),()=>{B.a.unbind("p r")}),{template:p,onSelectChange:_}=$S({zoomable:!0,selectable:!0,otherOperations:g,renderContent:F,renderEditDialog:D,renderDeleteDialog:M,filterHook:t,addKeybinds:f,persistState:a,persistanceKey:n});function S(I,j){return Ml(this,null,function*(){if(I.data&&I.data.findImages){const{count:R}=I.data.findImages,P=Math.floor(Math.random()*R),z=Re.a.cloneDeep(j);z.itemsPerPage=1,z.currentPage=P+1;const L=yield zv(z);if(L.data.findImages.images.length===1){const{id:G}=L.data.findImages.images[0];l.push(`/images/${G}`)}}})}function v(){return Ml(this,null,function*(){c(!1),o(!0)})}function x(){return Ml(this,null,function*(){c(!0),o(!0)})}function w(I){if(u)return e.a.createElement(e.a.Fragment,null,e.a.createElement(Sn,{exportInput:{images:{ids:Array.from(I.values()),all:i}},onClose:()=>{o(!1)}}))}function D(I,j){return e.a.createElement(e.a.Fragment,null,e.a.createElement(Dw,{selected:I,onClose:j}))}function M(I,j){return e.a.createElement(e.a.Fragment,null,e.a.createElement(rd,{selected:I,onClose:j}))}function y(I,j,R){return e.a.createElement(Nw,{key:I.id,image:I,zoomIndex:R,selecting:j.size>0,selected:j.has(I.id),onSelectedChanged:(P,z)=>_(I.id,P,z)})}function k(I,j,R,P,z){if(!(!I.data||!I.data.findImages)){if(j.displayMode===Ge.Grid)return e.a.createElement("div",{className:"row justify-content-center"},I.data.findImages.images.map(L=>y(L,R,j.zoomIndex)));if(j.displayMode===Ge.Wall)return e.a.createElement(Gw,{images:I.data.findImages.images,onChangePage:P,currentPage:j.currentPage,pageCount:z})}}function F(I,j,R,P,z){return e.a.createElement(e.a.Fragment,null,w(R),k(I,j,R,P,z))}return p};var Vw=(t,a,n)=>new Promise((r,s)=>{var l=i=>{try{o(n.next(i))}catch(c){s(c)}},u=i=>{try{o(n.throw(i))}catch(c){s(c)}},o=i=>i.done?r(i.value):Promise.resolve(i.value).then(l,u);o((n=n.apply(t,a)).next())});const Bw=({gallery:t})=>{const a=Object(ge.a)(),n=He();function r(u){var o,i;const c={id:t.id,label:(i=t.title)!=null?i:Me.fileNameFromPath((o=t.path)!=null?o:"")};let g=u.criteria.find(f=>f.criterionOption.type==="galleries");return g&&(g.modifier===ue.IncludesAll||g.modifier===ue.Includes)?(g.value.find(f=>f.id===t.id)||g.value.push(c),g.modifier=ue.IncludesAll):(g=new bi,g.value=[c],u.criteria.push(g)),u}function s(u,o,i){return Vw(this,null,function*(){try{yield jE({gallery_id:t.id,image_ids:Array.from(i.values())}),n.success({content:a.formatMessage({id:"toast.added_entity"},{entity:a.formatMessage({id:"images"})})})}catch(c){n.error(c)}})}const l=[{text:"Remove from Gallery",onClick:s,isDisplayed:fa,postRefetch:!0,icon:"minus",buttonVariant:"danger"}];return e.a.createElement(Xn,{filterHook:r,extraOperations:l,persistState:ca.VIEW,persistanceKey:"galleryimages"})};var Uw=(t,a,n)=>new Promise((r,s)=>{var l=i=>{try{o(n.next(i))}catch(c){s(c)}},u=i=>{try{o(n.throw(i))}catch(c){s(c)}},o=i=>i.done?r(i.value):Promise.resolve(i.value).then(l,u);o((n=n.apply(t,a)).next())});const Qw=({gallery:t})=>{const a=He(),n=Object(ge.a)();function r(u){var o,i;const c={id:t.id,label:(i=t.title)!=null?i:Me.fileNameFromPath((o=t.path)!=null?o:"")};let g=u.criteria.find(f=>f.criterionOption.type==="galleries");return g&&g.modifier===ue.Excludes?(g.value.find(f=>f.id===t.id)||g.value.push(c),g.modifier=ue.Excludes):(g=new bi,g.modifier=ue.Excludes,g.value=[c],u.criteria.push(g)),u}function s(u,o,i){return Uw(this,null,function*(){try{yield FE({gallery_id:t.id,image_ids:Array.from(i.values())});const c=i.size;a.success({content:n.formatMessage({id:"toast.added_entity"},{count:c,singularEntity:n.formatMessage({id:"image"}),pluralEntity:n.formatMessage({id:"images"})})})}catch(c){a.error(c)}})}const l=[{text:n.formatMessage({id:"actions.add_to_entity"},{entityType:n.formatMessage({id:"gallery"})}),onClick:s,isDisplayed:fa,postRefetch:!0,icon:"plus"}];return e.a.createElement(Xn,{filterHook:r,extraOperations:l})},st=({id:t,name:a,value:n,abbr:r,truncate:s,children:l})=>{if(!n&&!l)return null;const u=e.a.createElement(e.a.Fragment,null,t?e.a.createElement(b.a,{id:t,defaultMessage:a}):a,":");return e.a.createElement(e.a.Fragment,null,e.a.createElement("dt",null,r?e.a.createElement("abbr",{title:r},u):u),e.a.createElement("dd",null,n?s?e.a.createElement(Mt,{text:n}):n:l))},aa=({id:t,name:a,value:n,url:r,abbr:s,truncate:l,children:u,target:o,trusted:i})=>{if(!n&&!u)return null;const c=e.a.createElement(e.a.Fragment,null,t?e.a.createElement(b.a,{id:t,defaultMessage:a}):a,":"),g=i?void 0:"noopener noreferrer";return e.a.createElement(e.a.Fragment,null,e.a.createElement("dt",null,s?e.a.createElement("abbr",{title:s},c):c),e.a.createElement("dd",null,r?e.a.createElement("a",{href:r,target:o||"_blank",rel:g},n?l?e.a.createElement(Mt,{text:n}):n:u):void 0))},Hw=t=>e.a.createElement("dl",{className:"container gallery-file-info details-list"},e.a.createElement(st,{id:"media_info.checksum",value:t.gallery.checksum,truncate:!0}),e.a.createElement(aa,{id:"path",url:`file://${t.gallery.path}`,value:`file://${t.gallery.path}`,truncate:!0}),e.a.createElement(aa,{id:"path",url:t.gallery.url,value:t.gallery.url,truncate:!0}));var Ww=Object.defineProperty,Kw=Object.defineProperties,Yw=Object.getOwnPropertyDescriptors,od=Object.getOwnPropertySymbols,Jw=Object.prototype.hasOwnProperty,Xw=Object.prototype.propertyIsEnumerable,cd=(t,a,n)=>a in t?Ww(t,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[a]=n,Zw=(t,a)=>{for(var n in a||(a={}))Jw.call(a,n)&&cd(t,n,a[n]);if(od)for(var n of od(a))Xw.call(a,n)&&cd(t,n,a[n]);return t},ek=(t,a)=>Kw(t,Yw(a));const ud=({image:t,video:a,isPortrait:n,soundActive:r})=>{const s=Object(d.useRef)(null);return Object(d.useEffect)(()=>{const l=new IntersectionObserver(u=>{u.forEach(o=>{var i,c,g;o.intersectionRatio>0?(c=(i=s.current)==null?void 0:i.play())==null||c.catch(()=>{}):(g=s.current)==null||g.pause()})});s.current&&l.observe(s.current)}),Object(d.useEffect)(()=>{var l;((l=s==null?void 0:s.current)==null?void 0:l.volume)&&(s.current.volume=r?.05:0)},[r]),e.a.createElement("div",{className:St()("scene-card-preview",{portrait:n})},e.a.createElement("img",{className:"scene-card-preview-image",src:t,alt:""}),e.a.createElement("video",{disableRemotePlayback:!0,playsInline:!0,className:"scene-card-preview-video",loop:!0,preload:"none",ref:s,src:a}))},dd=t=>{var a,n,r,s,l,u,o,i;const{configuration:c}=e.a.useContext(Et),f=((n=(a=t.scene.studio)==null?void 0:a.image_path)==null?void 0:n.endsWith("?default=true"))||((r=c==null?void 0:c.interface.showStudioAsText)!=null?r:!1);function p(){var P,z;return e.a.createElement("div",{className:"scene-specs-overlay"},t.scene.file.width&&t.scene.file.height?e.a.createElement("span",{className:"overlay-resolution"}," ",Me.resolution(t.scene.file.width,t.scene.file.height)):"",((P=t.scene.file.duration)!=null?P:0)>=1?Me.secondsToTimestamp((z=t.scene.file.duration)!=null?z:0):"")}function _(){var P;if(!!t.scene.studio)return e.a.createElement("div",{className:"scene-studio-overlay"},e.a.createElement(Le.Link,{to:`/studios/${t.scene.studio.id}`},f?t.scene.studio.name:e.a.createElement("img",{className:"image-thumbnail",alt:t.scene.studio.name,src:(P=t.scene.studio.image_path)!=null?P:""})))}function S(){if(t.scene.tags.length<=0)return;const P=t.scene.tags.map(z=>e.a.createElement(xt,{key:z.id,tag:z}));return e.a.createElement(Gt,{className:"tag-count",placement:"bottom",content:P},e.a.createElement(q.a,{className:"minimal"},e.a.createElement(le,{icon:"tag"}),e.a.createElement("span",null,t.scene.tags.length)))}function v(){if(!(t.scene.performers.length<=0))return e.a.createElement(Fi,{performers:t.scene.performers})}function x(){if(t.scene.movies.length<=0)return;const P=t.scene.movies.map(z=>{var L,G;return e.a.createElement("div",{className:"movie-tag-container row",key:"movie"},e.a.createElement(Le.Link,{to:`/movies/${z.movie.id}`,className:"movie-tag col m-auto zoom-2"},e.a.createElement("img",{className:"image-thumbnail",alt:(L=z.movie.name)!=null?L:"",src:(G=z.movie.front_image_path)!=null?G:""})),e.a.createElement(xt,{key:z.movie.id,movie:z.movie,className:"d-block"}))});return e.a.createElement(Gt,{placement:"bottom",content:P,className:"movie-count tag-tooltip"},e.a.createElement(q.a,{className:"minimal"},e.a.createElement(le,{icon:"film"}),e.a.createElement("span",null,t.scene.movies.length)))}function w(){if(t.scene.scene_markers.length<=0)return;const P=t.scene.scene_markers.map(z=>{const L=ek(Zw({},z),{scene:{id:t.scene.id}});return e.a.createElement(xt,{key:z.id,marker:L})});return e.a.createElement(Gt,{className:"marker-count",placement:"bottom",content:P},e.a.createElement(q.a,{className:"minimal"},e.a.createElement(le,{icon:"map-marker-alt"}),e.a.createElement("span",null,t.scene.scene_markers.length)))}function D(){if(t.scene.o_counter)return e.a.createElement("div",{className:"o-counter"},e.a.createElement(q.a,{className:"minimal"},e.a.createElement("span",{className:"fa-icon"},e.a.createElement(Ti,null)),e.a.createElement("span",null,t.scene.o_counter)))}function M(){if(t.scene.galleries.length<=0)return;const P=t.scene.galleries.map(z=>e.a.createElement(xt,{key:z.id,gallery:z}));return e.a.createElement(Gt,{className:"gallery-count",placement:"bottom",content:P},e.a.createElement(q.a,{className:"minimal"},e.a.createElement(le,{icon:"images"}),e.a.createElement("span",null,t.scene.galleries.length)))}function y(){if(t.scene.organized)return e.a.createElement("div",{className:"organized"},e.a.createElement(q.a,{className:"minimal"},e.a.createElement(le,{icon:"box"})))}function k(){var P;if(!t.compact&&(t.scene.tags.length>0||t.scene.performers.length>0||t.scene.movies.length>0||t.scene.scene_markers.length>0||((P=t.scene)==null?void 0:P.o_counter)||t.scene.galleries.length>0||t.scene.organized))return e.a.createElement(e.a.Fragment,null,e.a.createElement("hr",null),e.a.createElement(yt.a,{className:"card-popovers"},S(),v(),x(),w(),D(),M(),y()))}function F(){const{file:P}=t.scene,z=P.width?P.width:0;return(P.height?P.height:0)>z}function I(){if(!t.compact&&t.zoomIndex!==void 0)return`zoom-${t.zoomIndex}`}const j=(s=c==null?void 0:c.interface.continuePlaylistDefault)!=null?s:!1,R=t.queue?t.queue.makeLink(t.scene.id,{sceneIndex:t.index,continue:j}):`/scenes/${t.scene.id}`;return e.a.createElement(bn,{className:`scene-card ${I()}`,url:R,title:t.scene.title?t.scene.title:Me.fileNameFromPath(t.scene.path),linkClassName:"scene-card-link",thumbnailSectionClassName:"video-section",image:e.a.createElement(e.a.Fragment,null,e.a.createElement(ud,{image:(l=t.scene.paths.screenshot)!=null?l:void 0,video:(u=t.scene.paths.preview)!=null?u:void 0,isPortrait:F(),soundActive:(i=(o=c==null?void 0:c.interface)==null?void 0:o.soundOnPreview)!=null?i:!1}),e.a.createElement(Pr,{rating:t.scene.rating}),p()),overlays:_(),details:e.a.createElement(e.a.Fragment,null,e.a.createElement("span",null,t.scene.date),e.a.createElement("p",null,e.a.createElement(Mt,{text:t.scene.details,lineCount:3}))),popovers:k(),selected:t.selected,selecting:t.selecting,onSelectedChanged:t.onSelectedChanged})},tk=({scenes:t})=>e.a.createElement("div",{className:"container gallery-scenes"},t.map(a=>e.a.createElement(dd,{scene:a,key:a.id})));var ak=Object.defineProperty,nk=Object.defineProperties,rk=Object.getOwnPropertyDescriptors,md=Object.getOwnPropertySymbols,ik=Object.prototype.hasOwnProperty,sk=Object.prototype.propertyIsEnumerable,gd=(t,a,n)=>a in t?ak(t,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[a]=n,lk=(t,a)=>{for(var n in a||(a={}))ik.call(a,n)&&gd(t,n,a[n]);if(md)for(var n of md(a))sk.call(a,n)&&gd(t,n,a[n]);return t},ok=(t,a)=>nk(t,rk(a)),fd=(t,a,n)=>new Promise((r,s)=>{var l=i=>{try{o(n.next(i))}catch(c){s(c)}},u=i=>{try{o(n.throw(i))}catch(c){s(c)}},o=i=>i.done?r(i.value):Promise.resolve(i.value).then(l,u);o((n=n.apply(t,a)).next())});const ck=({gallery:t})=>{var a,n,r,s,l;const{tab:u="images"}=Object(ke.m)(),o=Object(ke.k)(),i=He(),c=Object(ge.a)(),[g,f]=Object(d.useState)("gallery-details-panel"),p=u==="images"||u==="add"?u:"images",_=P=>{if(u!==P){const z=P==="images"?"":`/${P}`;o.replace(`/galleries/${t.id}${z}`)}},[S]=zc(),[v,x]=Object(d.useState)(!1),w=()=>fd(void 0,null,function*(){try{x(!0),yield S({variables:{input:{id:t.id,organized:!t.organized}}})}catch(P){i.error(P)}finally{x(!1)}});function D(){return fd(this,null,function*(){!t||!t.path||(yield pi({paths:[t.path]}),i.success({content:c.formatMessage({id:"toast.rescanning_entity"},{count:1,singularEntity:c.formatMessage({id:"gallery"})})}))})}const[M,y]=Object(d.useState)(!1);function k(P){y(!1),P&&o.push("/galleries")}function F(){if(M&&t)return e.a.createElement(nd,{selected:[ok(lk({},t),{image_count:NaN})],onClose:k})}function I(){return e.a.createElement(ze.a,null,e.a.createElement(ze.a.Toggle,{variant:"secondary",id:"operation-menu",className:"minimal",title:c.formatMessage({id:"operations"})},e.a.createElement(le,{icon:"ellipsis-v"})),e.a.createElement(ze.a.Menu,{className:"bg-secondary text-white"},t.path?e.a.createElement(ze.a.Item,{key:"rescan",className:"bg-secondary text-white",onClick:()=>D()},e.a.createElement(b.a,{id:"actions.rescan"})):void 0,e.a.createElement(ze.a.Item,{key:"delete-gallery",className:"bg-secondary text-white",onClick:()=>y(!0)},e.a.createElement(b.a,{id:"actions.delete_entity",values:{entityType:c.formatMessage({id:"gallery"})}}))))}function j(){if(!!t)return e.a.createElement(qe.a.Container,{activeKey:g,onSelect:P=>P&&f(P)},e.a.createElement("div",null,e.a.createElement(De.a,{variant:"tabs",className:"mr-auto"},e.a.createElement(De.a.Item,null,e.a.createElement(De.a.Link,{eventKey:"gallery-details-panel"},e.a.createElement(b.a,{id:"details"}))),t.scenes.length>0&&e.a.createElement(De.a.Item,null,e.a.createElement(De.a.Link,{eventKey:"gallery-scenes-panel"},e.a.createElement(b.a,{id:"scenes"}))),t.path?e.a.createElement(De.a.Item,null,e.a.createElement(De.a.Link,{eventKey:"gallery-file-info-panel"},e.a.createElement(b.a,{id:"file_info"}))):void 0,e.a.createElement(De.a.Item,null,e.a.createElement(De.a.Link,{eventKey:"gallery-edit-panel"},e.a.createElement(b.a,{id:"actions.edit"}))),e.a.createElement(De.a.Item,{className:"ml-auto"},e.a.createElement(wl,{loading:v,organized:t.organized,onClick:w})),e.a.createElement(De.a.Item,null,I()))),e.a.createElement(qe.a.Content,null,e.a.createElement(qe.a.Pane,{eventKey:"gallery-details-panel"},e.a.createElement(Cw,{gallery:t})),e.a.createElement(qe.a.Pane,{className:"file-info-panel",eventKey:"gallery-file-info-panel"},e.a.createElement(Hw,{gallery:t})),e.a.createElement(qe.a.Pane,{eventKey:"gallery-edit-panel"},e.a.createElement(td,{isVisible:g==="gallery-edit-panel",isNew:!1,gallery:t,onDelete:()=>y(!0)})),t.scenes.length>0&&e.a.createElement(qe.a.Pane,{eventKey:"gallery-scenes-panel"},e.a.createElement(tk,{scenes:t.scenes}))))}function R(){if(!!t)return e.a.createElement(qe.a.Container,{activeKey:p,unmountOnExit:!0,onSelect:P=>P&&_(P)},e.a.createElement("div",null,e.a.createElement(De.a,{variant:"tabs",className:"mr-auto"},e.a.createElement(De.a.Item,null,e.a.createElement(De.a.Link,{eventKey:"images"},e.a.createElement(b.a,{id:"images"}))),e.a.createElement(De.a.Item,null,e.a.createElement(De.a.Link,{eventKey:"add"},e.a.createElement(b.a,{id:"actions.add"}))))),e.a.createElement(qe.a.Content,null,e.a.createElement(qe.a.Pane,{eventKey:"images"},e.a.createElement(Bw,{gallery:t})),e.a.createElement(qe.a.Pane,{eventKey:"add"},e.a.createElement(Qw,{gallery:t}))))}return Object(d.useEffect)(()=>(B.a.bind("a",()=>f("gallery-details-panel")),B.a.bind("e",()=>f("gallery-edit-panel")),B.a.bind("f",()=>f("gallery-file-info-panel")),()=>{B.a.unbind("a"),B.a.unbind("e"),B.a.unbind("f")})),e.a.createElement("div",{className:"row"},e.a.createElement(Tt.a,null,e.a.createElement("title",null,(n=t.title)!=null?n:Me.fileNameFromPath((a=t.path)!=null?a:""))),F(),e.a.createElement("div",{className:"gallery-tabs"},e.a.createElement("div",{className:"d-none d-xl-block"},t.studio&&e.a.createElement("h1",{className:"text-center"},e.a.createElement(Le.Link,{to:`/studios/${t.studio.id}`},e.a.createElement("img",{src:(r=t.studio.image_path)!=null?r:"",alt:`${t.studio.name} logo`,className:"studio-logo"}))),e.a.createElement("h3",{className:"gallery-header"},(l=t.title)!=null?l:Me.fileNameFromPath((s=t.path)!=null?s:""))),j()),e.a.createElement("div",{className:"gallery-container"},R()))};var uk=()=>{const{id:t}=Object(ke.m)(),{data:a,loading:n,error:r}=Dc(t!=null?t:"");return n?e.a.createElement($e,null):r?e.a.createElement($t,{error:r.message}):(a==null?void 0:a.findGallery)?e.a.createElement(ck,{gallery:a.findGallery}):e.a.createElement($t,{error:`No gallery found with id ${t}.`})},dk=()=>{const t=Object(ge.a)();return e.a.createElement("div",{className:"row new-view"},e.a.createElement("div",{className:"col-md-6"},e.a.createElement("h2",null,e.a.createElement(b.a,{id:"actions.create_entity",values:{entityType:t.formatMessage({id:"gallery"})}})),e.a.createElement(td,{isNew:!0,gallery:void 0,isVisible:!0,onDelete:()=>{}})))},Ra=ne(878);const pd=t=>{var a,n,r;const{configuration:s}=e.a.useContext(Et),l=(a=s==null?void 0:s.interface.showStudioAsText)!=null?a:!1;function u(){if(t.gallery.scenes.length===0)return;const _=t.gallery.scenes.map(S=>e.a.createElement(xt,{key:S.id,scene:S}));return e.a.createElement(Gt,{className:"scene-count",placement:"bottom",content:_},e.a.createElement(q.a,{className:"minimal"},e.a.createElement(le,{icon:"play-circle"}),e.a.createElement("span",null,t.gallery.scenes.length)))}function o(){if(t.gallery.tags.length<=0)return;const _=t.gallery.tags.map(S=>e.a.createElement(xt,{key:S.id,tag:S,tagType:"gallery"}));return e.a.createElement(Gt,{className:"tag-count",placement:"bottom",content:_},e.a.createElement(q.a,{className:"minimal"},e.a.createElement(le,{icon:"tag"}),e.a.createElement("span",null,t.gallery.tags.length)))}function i(){if(!(t.gallery.performers.length<=0))return e.a.createElement(Fi,{performers:t.gallery.performers})}function c(){if(!!t.gallery.image_count)return e.a.createElement(pa,{className:"image-count",type:"image",count:t.gallery.image_count,url:rt.makeGalleryImagesUrl(t.gallery)})}function g(){var _;if(!!t.gallery.studio)return e.a.createElement("div",{className:"scene-studio-overlay"},e.a.createElement(Le.Link,{to:`/studios/${t.gallery.studio.id}`},l?t.gallery.studio.name:e.a.createElement("img",{className:"image-thumbnail",alt:t.gallery.studio.name,src:(_=t.gallery.studio.image_path)!=null?_:""})))}function f(){if(t.gallery.organized)return e.a.createElement("div",null,e.a.createElement(q.a,{className:"minimal"},e.a.createElement(le,{icon:"box"})))}function p(){if(t.gallery.scenes.length>0||t.gallery.performers.length>0||t.gallery.tags.length>0||t.gallery.organized||t.gallery.image_count>0)return e.a.createElement(e.a.Fragment,null,e.a.createElement("hr",null),e.a.createElement(yt.a,{className:"card-popovers"},c(),o(),i(),u(),f()))}return e.a.createElement(bn,{className:`gallery-card zoom-${t.zoomIndex}`,url:`/galleries/${t.gallery.id}`,title:t.gallery.title?t.gallery.title:Me.fileNameFromPath((n=t.gallery.path)!=null?n:""),linkClassName:"gallery-card-header",image:e.a.createElement(e.a.Fragment,null,t.gallery.cover?e.a.createElement("img",{className:"gallery-card-image",alt:(r=t.gallery.title)!=null?r:"",src:`${t.gallery.cover.paths.thumbnail}`}):void 0,e.a.createElement(Pr,{rating:t.gallery.rating})),overlays:g(),details:e.a.createElement(e.a.Fragment,null,e.a.createElement("span",null,t.gallery.date),e.a.createElement("p",null,e.a.createElement(Mt,{text:t.gallery.details,lineCount:3}))),popovers:p(),selected:t.selected,selecting:t.selecting,onSelectedChanged:t.onSelectedChanged})},Ol="RatingStars",Cr=`${Ol}-filled`,Li=`${Ol}-unfilled`,mk=({rating:t})=>t?e.a.createElement("div",{className:Ol},e.a.createElement(le,{icon:["fas","star"],className:Cr}),e.a.createElement(le,{icon:[t>=2?"fas":"far","star"],className:t>=2?Cr:Li}),e.a.createElement(le,{icon:[t>=3?"fas":"far","star"],className:t>=3?Cr:Li}),e.a.createElement(le,{icon:[t>=4?"fas":"far","star"],className:t>=4?Cr:Li}),e.a.createElement(le,{icon:[t===5?"fas":"far","star"],className:t===5?Cr:Li})):e.a.createElement(e.a.Fragment,null),Mr="GalleryWallCard",gk=`${Mr}-footer`,fk=`${Mr}-img`,pk=`${Mr}-title`;var _k=({gallery:t})=>{var a,n,r,s,l,u,o,i;const c=Object(ge.a)(),g=Ow(t.id),f=((n=(a=t==null?void 0:t.cover)==null?void 0:a.file.width)!=null?n:0)>((s=(r=t.cover)==null?void 0:r.file.height)!=null?s:0)?"landscape":"portrait",p=(u=(l=t==null?void 0:t.cover)==null?void 0:l.paths.thumbnail)!=null?u:"",_=(i=t.title)!=null?i:Me.fileNameFromPath((o=t.path)!=null?o:""),S=t.performers.map(x=>x.name),v=S.length>=2?[...S.slice(0,-2),S.slice(-2).join(" & ")]:S;return e.a.createElement(e.a.Fragment,null,e.a.createElement("section",{className:`${Mr} ${Mr}-${f}`,onClick:g,onKeyPress:g,role:"button",tabIndex:0},e.a.createElement(mk,{rating:t.rating}),e.a.createElement("img",{src:p,alt:"",className:fk}),e.a.createElement("footer",{className:gk},e.a.createElement(Le.Link,{to:`/galleries/${t.id}`,onClick:x=>x.stopPropagation()},_&&e.a.createElement(Mt,{text:_,lineCount:1,className:pk}),e.a.createElement(Mt,{text:v.join(", ")}),e.a.createElement("div",null,t.date&&Me.formatDate(c,t.date))))))},hk=(t,a,n)=>new Promise((r,s)=>{var l=i=>{try{o(n.next(i))}catch(c){s(c)}},u=i=>{try{o(n.throw(i))}catch(c){s(c)}},o=i=>i.done?r(i.value):Promise.resolve(i.value).then(l,u);o((n=n.apply(t,a)).next())});const vk=t=>{const a=Object(ge.a)(),n=He(),[r,s]=Object(d.useState)(),[l,u]=Object(d.useState)(),[o,i]=e.a.useState(ot.Add),[c,g]=Object(d.useState)(),[f,p]=Object(d.useState)(),[_,S]=e.a.useState(ot.Add),[v,x]=Object(d.useState)(),[w,D]=Object(d.useState)(),[M,y]=Object(d.useState)(),[k]=DE(),[F,I]=Object(d.useState)(!1),j=e.a.createRef();function R(Q,J){return{mode:J,ids:Q}}function P(){const Q=L(t.selected),J=G(t.selected),re=Y(t.selected),Z=V(t.selected),W={ids:t.selected.map(H=>H.id)};return r===void 0?Q&&(W.rating=null):W.rating=r,l===void 0?J&&(W.studio_id=null):W.studio_id=l,o===ot.Set&&(!c||c.length===0)?re.length>0&&(W.performer_ids=R(c||[],o)):W.performer_ids=R(c||[],o),_===ot.Set&&(!v||v.length===0)?Z.length>0&&(W.tag_ids=R(v||[],_)):W.tag_ids=R(v||[],_),M!==void 0&&(W.organized=M),W}function z(){return hk(this,null,function*(){I(!0);try{yield k({variables:{input:P()}}),n.success({content:a.formatMessage({id:"toast.updated_entity"},{entity:a.formatMessage({id:"galleries"}).toLocaleLowerCase()})}),t.onClose(!0)}catch(Q){n.error(Q)}I(!1)})}function L(Q){let J,re=!0;return Q.forEach(Z=>{var W;re?(J=(W=Z.rating)!=null?W:void 0,re=!1):J!==Z.rating&&(J=void 0)}),J}function G(Q){let J,re=!0;return Q.forEach(Z=>{var W,H;if(re)J=(W=Z==null?void 0:Z.studio)==null?void 0:W.id,re=!1;else{const de=(H=Z==null?void 0:Z.studio)==null?void 0:H.id;J!==de&&(J=void 0)}}),J}function Y(Q){let J=[],re=!0;return Q.forEach(Z=>{if(re)J=Z.performers?Z.performers.map(W=>W.id).sort():[],re=!1;else{const W=Z.performers?Z.performers.map(H=>H.id).sort():[];Re.a.isEqual(J,W)||(J=[])}}),J}function V(Q){let J=[],re=!0;return Q.forEach(Z=>{if(re)J=Z.tags?Z.tags.map(W=>W.id).sort():[],re=!1;else{const W=Z.tags?Z.tags.map(H=>H.id).sort():[];Re.a.isEqual(J,W)||(J=[])}}),J}Object(d.useEffect)(()=>{const Q=t.selected;let J,re,Z=[],W=[],H,de=!0;Q.forEach(A=>{var T,N,C;const O=A.rating,$=(T=A==null?void 0:A.studio)==null?void 0:T.id,X=((N=A.performers)!=null?N:[]).map(ae=>ae.id).sort(),ie=((C=A.tags)!=null?C:[]).map(ae=>ae.id).sort();de?(J=O!=null?O:void 0,re=$,Z=X,W=ie,H=A.organized,de=!1):(O!==J&&(J=void 0),$!==re&&(re=void 0),Re.a.isEqual(X,Z)||(Z=[]),Re.a.isEqual(ie,W)||(W=[]),A.organized!==H&&(H=void 0))}),s(J),u(re),p(Z),D(W),y(H)},[t.selected]),Object(d.useEffect)(()=>{j.current&&(j.current.indeterminate=M===void 0)},[M,j]);function U(Q,J){let re=ot.Add,Z=[];switch(Q){case"performers":re=o,Z=f;break;case"tags":re=_,Z=w;break}return e.a.createElement(ji,{type:Q,disabled:F,onUpdate:W=>{switch(Q){case"performers":g(W);break;case"tags":x(W);break}},onSetMode:W=>{switch(Q){case"performers":i(W);break;case"tags":S(W);break}},existingIds:Z!=null?Z:[],ids:J!=null?J:[],mode:re})}function te(){y(M?void 0:M!==void 0)}function oe(){var Q,J;return e.a.createElement(it,{show:!0,icon:"pencil-alt",header:a.formatMessage({id:"dialogs.edit_entity_title"},{count:(J=(Q=t==null?void 0:t.selected)==null?void 0:Q.length)!=null?J:1,singularEntity:a.formatMessage({id:"gallery"}),pluralEntity:a.formatMessage({id:"galleries"})}),accept:{onClick:z,text:a.formatMessage({id:"actions.apply"})},cancel:{onClick:()=>t.onClose(!1),text:a.formatMessage({id:"actions.cancel"}),variant:"secondary"},isRunning:F},e.a.createElement(m.a,null,e.a.createElement(m.a.Group,{controlId:"rating",as:xe.a},tt.renderLabel({title:a.formatMessage({id:"rating"})}),e.a.createElement(Se.a,{xs:9},e.a.createElement(Kt,{value:r,onSetRating:re=>s(re),disabled:F}))),e.a.createElement(m.a.Group,{controlId:"studio",as:xe.a},tt.renderLabel({title:a.formatMessage({id:"studio"})}),e.a.createElement(Se.a,{xs:9},e.a.createElement(Ht,{onSelect:re=>{var Z;return u(re.length>0?(Z=re[0])==null?void 0:Z.id:void 0)},ids:l?[l]:[],isDisabled:F}))),e.a.createElement(m.a.Group,{controlId:"performers"},e.a.createElement(m.a.Label,null,e.a.createElement(b.a,{id:"performers"})),U("performers",c)),e.a.createElement(m.a.Group,{controlId:"tags"},e.a.createElement(m.a.Label,null,e.a.createElement(b.a,{id:"tags"})),U("tags",v)),e.a.createElement(m.a.Group,{controlId:"organized"},e.a.createElement(m.a.Check,{type:"checkbox",label:a.formatMessage({id:"organized"}),checked:M,ref:j,onChange:()=>te()}))))}return oe()};var Nl=(t,a,n)=>new Promise((r,s)=>{var l=i=>{try{o(n.next(i))}catch(c){s(c)}},u=i=>{try{o(n.throw(i))}catch(c){s(c)}},o=i=>i.done?r(i.value):Promise.resolve(i.value).then(l,u);o((n=n.apply(t,a)).next())});const Ai=({filterHook:t,persistState:a})=>{const n=Object(ge.a)(),r=Object(ke.k)(),[s,l]=Object(d.useState)(!1),[u,o]=Object(d.useState)(!1),i=[{text:n.formatMessage({id:"actions.view_random"}),onClick:f},{text:n.formatMessage({id:"actions.export"}),onClick:p,isDisplayed:fa},{text:n.formatMessage({id:"actions.export_all"}),onClick:_}],g=GS({zoomable:!0,selectable:!0,otherOperations:i,renderContent:D,renderEditDialog:v,renderDeleteDialog:x,filterHook:t,addKeybinds:(M,y)=>(B.a.bind("p r",()=>{f(M,y)}),()=>{B.a.unbind("p r")}),persistState:a});function f(M,y){return Nl(this,null,function*(){if(M.data&&M.data.findGalleries){const{count:k}=M.data.findGalleries,F=Math.floor(Math.random()*k),I=Re.a.cloneDeep(y);I.itemsPerPage=1,I.currentPage=F+1;const j=yield Tv(I);if(j.data.findGalleries.galleries.length===1){const{id:R}=j.data.findGalleries.galleries[0];r.push(`/galleries/${R}`)}}})}function p(){return Nl(this,null,function*(){o(!1),l(!0)})}function _(){return Nl(this,null,function*(){o(!0),l(!0)})}function S(M){if(s)return e.a.createElement(e.a.Fragment,null,e.a.createElement(Sn,{exportInput:{galleries:{ids:Array.from(M.values()),all:u}},onClose:()=>{l(!1)}}))}function v(M,y){return e.a.createElement(e.a.Fragment,null,e.a.createElement(vk,{selected:M,onClose:y}))}function x(M,y){return e.a.createElement(e.a.Fragment,null,e.a.createElement(nd,{selected:M,onClose:y}))}function w(M,y,k){if(!(!M.data||!M.data.findGalleries)){if(y.displayMode===Ge.Grid)return e.a.createElement("div",{className:"row justify-content-center"},M.data.findGalleries.galleries.map(F=>e.a.createElement(pd,{key:F.id,gallery:F,zoomIndex:y.zoomIndex,selecting:k.size>0,selected:k.has(F.id),onSelectedChanged:(I,j)=>g.onSelectChange(F.id,I,j)})));if(y.displayMode===Ge.List)return e.a.createElement(Ra.a,{className:"col col-sm-6 mx-auto"},e.a.createElement("thead",null,e.a.createElement("tr",null,e.a.createElement("th",null,n.formatMessage({id:"actions.preview"})),e.a.createElement("th",{className:"d-none d-sm-none"},n.formatMessage({id:"title"})))),e.a.createElement("tbody",null,M.data.findGalleries.galleries.map(F=>{var I,j,R;return e.a.createElement("tr",{key:F.id},e.a.createElement("td",null,e.a.createElement(Le.Link,{to:`/galleries/${F.id}`},F.cover?e.a.createElement("img",{alt:(I=F.title)!=null?I:"",className:"w-100 w-sm-auto",src:`${F.cover.paths.thumbnail}`}):void 0)),e.a.createElement("td",{className:"d-none d-sm-block"},e.a.createElement(Le.Link,{to:`/galleries/${F.id}`},(R=F.title)!=null?R:Me.fileNameFromPath((j=F.path)!=null?j:"")," ","(",F.image_count," ",F.image_count===1?"image":"images",")")))})));if(y.displayMode===Ge.Wall)return e.a.createElement("div",{className:"row"},e.a.createElement("div",{className:"GalleryWall"},M.data.findGalleries.galleries.map(F=>e.a.createElement(_k,{key:F.id,gallery:F}))))}}function D(M,y,k){return e.a.createElement(e.a.Fragment,null,S(k),w(M,y,k))}return g.template};var Ek=Object.defineProperty,yk=Object.defineProperties,bk=Object.getOwnPropertyDescriptors,_d=Object.getOwnPropertySymbols,Sk=Object.prototype.hasOwnProperty,wk=Object.prototype.propertyIsEnumerable,hd=(t,a,n)=>a in t?Ek(t,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[a]=n,kk=(t,a)=>{for(var n in a||(a={}))Sk.call(a,n)&&hd(t,n,a[n]);if(_d)for(var n of _d(a))wk.call(a,n)&&hd(t,n,a[n]);return t},xk=(t,a)=>yk(t,bk(a)),Pk=()=>{const a=`${Object(ge.a)().formatMessage({id:"galleries"})} ${Pa}`;return e.a.createElement(e.a.Fragment,null,e.a.createElement(Tt.a,{defaultTitle:a,titleTemplate:`%s | ${a}`}),e.a.createElement(ke.g,null,e.a.createElement(ke.d,{exact:!0,path:"/galleries",render:n=>e.a.createElement(Ai,xk(kk({},n),{persistState:ca.ALL}))}),e.a.createElement(ke.d,{exact:!0,path:"/galleries/new",component:dk}),e.a.createElement(ke.d,{path:"/galleries/:id/:tab?",component:uk})))},Ri=ne(885),Ck=ne(59),Mk=ne(400),Ok=ne(425),Nk={isLoggedIn:()=>new Ok.a().get("session")!==void 0},Il=ne(868),Ik=ne.p+"static/media/Introduction.dbc463a2.md",Dk=ne.p+"static/media/Tasks.e98c9453.md",Tk=ne.p+"static/media/AutoTagging.ee692b0a.md",Fk=ne.p+"static/media/JSONSpec.2053a978.md",jk=ne.p+"static/media/Configuration.809f8e10.md",Lk=ne.p+"static/media/Interface.2533e319.md",Ak=ne.p+"static/media/Galleries.0375c2c4.md",Rk=ne.p+"static/media/Scraping.8bff2356.md",zk=ne.p+"static/media/ScraperDevelopment.4f34b26d.md",qk=ne.p+"static/media/Plugins.a7e3ddc4.md",$k=ne.p+"static/media/ExternalPlugins.6839ab97.md",Gk=ne.p+"static/media/EmbeddedPlugins.a9d42c5b.md",Vk=ne.p+"static/media/Tagger.51285c58.md",Bk=ne.p+"static/media/Contributing.59f75fa2.md",Uk=ne.p+"static/media/SceneFilenameParser.4b78543f.md",Qk=ne.p+"static/media/KeyboardShortcuts.10bcb034.md",Hk=ne.p+"static/media/Help.29c62449.md",Wk=ne.p+"static/media/Deduplication.49d897ad.md",Kk=ne.p+"static/media/Interactive.6555a196.md",Yk=ne.p+"static/media/Identify.4b7e66de.md",Jk=ne(405),Xk=ne.n(Jk),Zk=ne(406),ex=ne.n(Zk);const vd=({page:t})=>{const[a,n]=Object(d.useState)("");return Object(d.useEffect)(()=>{a||fetch(t).then(r=>r.text()).then(r=>n(r))},[t,a]),e.a.createElement(Xk.a,{className:"markdown",source:a,plugins:[ex.a]})},Dl=({animation:t,show:a,onClose:n,defaultActiveTab:r})=>{const s=[{key:"Introduction.md",title:"Introduction",content:Ik},{key:"Configuration.md",title:"Configuration",content:jk},{key:"Interface.md",title:"Interface Options",content:Lk},{key:"Tasks.md",title:"Tasks",content:Dk},{key:"Identify.md",title:"Identify",content:Yk,className:"indent-1"},{key:"AutoTagging.md",title:"Auto Tagging",content:Tk,className:"indent-1"},{key:"SceneFilenameParser.md",title:"Scene Filename Parser",content:Uk,className:"indent-1"},{key:"JSONSpec.md",title:"JSON Specification",content:Fk,className:"indent-1"},{key:"Galleries.md",title:"Image Galleries",content:Ak},{key:"Scraping.md",title:"Metadata Scraping",content:Rk},{key:"ScraperDevelopment.md",title:"Scraper Development",content:zk,className:"indent-1"},{key:"Plugins.md",title:"Plugins",content:qk},{key:"ExternalPlugins.md",title:"External",content:$k,className:"indent-1"},{key:"EmbeddedPlugins.md",title:"Embedded",content:Gk,className:"indent-1"},{key:"Tagger.md",title:"Scene Tagger",content:Vk},{key:"Deduplication.md",title:"Dupe Checker",content:Wk},{key:"Interactive.md",title:"Interactivity",content:Kk},{key:"KeyboardShortcuts.md",title:"Keyboard Shortcuts",content:Qk},{key:"Contributing.md",title:"Contributing",content:Bk},{key:"Help.md",title:"Further Help",content:Hk}],[l,u]=Object(d.useState)(r!=null?r:s[0].key);function o(i){if(i.target instanceof HTMLAnchorElement){const c=i.target.getAttribute("href");if(c&&c.startsWith("/help")){const g=i.target.pathname.substring("/help/".length);u(g),i.preventDefault()}}}return e.a.createElement(mt.a,{animation:t,show:a,onHide:n,dialogClassName:"modal-dialog-scrollable manual modal-xl"},e.a.createElement(mt.a.Header,{closeButton:!0},e.a.createElement(mt.a.Title,null,"Help")),e.a.createElement(mt.a.Body,null,e.a.createElement(Il.a,{className:"manual-container"},e.a.createElement(qe.a.Container,{activeKey:l,onSelect:i=>i&&u(i),id:"manual-tabs"},e.a.createElement(xe.a,null,e.a.createElement(Se.a,{lg:3,className:"mb-3 mb-lg-0 manual-toc"},e.a.createElement(De.a,{variant:"pills",className:"flex-column"},s.map(i=>e.a.createElement(De.a.Item,{key:`${i.key}-nav`},e.a.createElement(De.a.Link,{className:i.className,eventKey:i.key},i.title))),e.a.createElement("hr",{className:"d-sm-none"}))),e.a.createElement(Se.a,{lg:9,className:"manual-content"},e.a.createElement(qe.a.Content,null,s.map(i=>e.a.createElement(qe.a.Pane,{eventKey:i.key,key:`${i.key}-pane`,onClick:o},e.a.createElement(vd,{page:i.content}))))))))))};var tx=Object.defineProperty,ax=Object.defineProperties,nx=Object.getOwnPropertyDescriptors,Ed=Object.getOwnPropertySymbols,rx=Object.prototype.hasOwnProperty,ix=Object.prototype.propertyIsEnumerable,yd=(t,a,n)=>a in t?tx(t,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[a]=n,sx=(t,a)=>{for(var n in a||(a={}))rx.call(a,n)&&yd(t,n,a[n]);if(Ed)for(var n of Ed(a))ix.call(a,n)&&yd(t,n,a[n]);return t},lx=(t,a)=>ax(t,nx(a));const za=Object(ct.c)({scenes:{id:"scenes",defaultMessage:"Scenes"},images:{id:"images",defaultMessage:"Images"},movies:{id:"movies",defaultMessage:"Movies"},markers:{id:"markers",defaultMessage:"Markers"},performers:{id:"performers",defaultMessage:"Performers"},studios:{id:"studios",defaultMessage:"Studios"},tags:{id:"tags",defaultMessage:"Tags"},galleries:{id:"galleries",defaultMessage:"Galleries"},sceneTagger:{id:"sceneTagger",defaultMessage:"Scene Tagger"},donate:{id:"donate",defaultMessage:"Donate"}}),Tl=[{name:"scenes",message:za.scenes,href:"/scenes",icon:"play-circle",hotkey:"g s"},{name:"images",message:za.images,href:"/images",icon:"image",hotkey:"g i"},{name:"movies",message:za.movies,href:"/movies",icon:"film",hotkey:"g v",userCreatable:!0},{name:"markers",message:za.markers,href:"/scenes/markers",icon:"map-marker-alt",hotkey:"g k"},{name:"galleries",message:za.galleries,href:"/galleries",icon:"images",hotkey:"g l",userCreatable:!0},{name:"performers",message:za.performers,href:"/performers",icon:"user",hotkey:"g p",userCreatable:!0},{name:"studios",message:za.studios,href:"/studios",icon:"video",hotkey:"g u",userCreatable:!0},{name:"tags",message:za.tags,href:"/tags",icon:"tag",hotkey:"g t",userCreatable:!0}],ox=Tl.filter(t=>t.userCreatable).map(t=>t.href),cx=()=>{const t=Object(ke.k)(),a=Object(ke.l)(),{configuration:n,loading:r}=e.a.useContext(Et),[s,l]=Object(d.useState)(Tl),[u,o]=Object(d.useState)(!1),[i,c]=Object(d.useState)(!1);Object(d.useEffect)(()=>{const M=n==null?void 0:n.interface;(M==null?void 0:M.menuItems)&&l(Tl.filter(y=>M.menuItems.includes(y.name)))},[n]);const g=Object(d.useRef)(),f=Object(ge.a)(),p=Object(d.useCallback)(M=>{g.current&&M.target instanceof Node&&!g.current.contains(M.target)&&o(!1)},[o]);Object(d.useEffect)(()=>(u&&(document.addEventListener("click",p),document.addEventListener("touchstart",p)),()=>{document.removeEventListener("click",p),document.removeEventListener("touchstart",p)}),[u,p]);const _=Object(d.useCallback)(M=>{t.push(M),document.activeElement instanceof HTMLElement&&document.activeElement.blur()},[t]),{pathname:S}=a,v=ox.includes(S)?`${S}/new`:null;Object(d.useEffect)(()=>(B.a.bind("?",()=>c(!i)),B.a.bind("g z",()=>_("/settings")),s.forEach(M=>B.a.bind(M.hotkey,()=>_(M.href))),v&&B.a.bind("n",()=>t.push(v)),()=>{B.a.unbind("?"),B.a.unbind("g z"),s.forEach(M=>B.a.unbind(M.hotkey)),v&&B.a.unbind("n")}));function x(){if(Nk.isLoggedIn())return e.a.createElement(q.a,{className:"minimal logout-button d-flex align-items-center",href:"/logout",title:"Log out"},e.a.createElement(le,{icon:"sign-out-alt"}))}const w=Object(d.useCallback)(()=>o(!1),[o]);function D(){return e.a.createElement(e.a.Fragment,null,e.a.createElement(De.a.Link,{className:"nav-utility",href:"https://opencollective.com/stashapp",target:"_blank",onClick:w},e.a.createElement(q.a,{className:"minimal donate",title:"Donate"},e.a.createElement(le,{icon:"heart"}),e.a.createElement("span",{className:"d-none d-sm-inline"},f.formatMessage(za.donate)))),e.a.createElement(Le.NavLink,{className:"nav-utility",exact:!0,to:"/settings",onClick:w},e.a.createElement(q.a,{className:"minimal d-flex align-items-center h-100",title:"Settings"},e.a.createElement(le,{icon:"cog"}))),e.a.createElement(q.a,{className:"nav-utility minimal",onClick:()=>c(!0),title:"Help"},e.a.createElement(le,{icon:"question-circle"})),x())}return e.a.createElement(e.a.Fragment,null,e.a.createElement(Dl,{show:i,onClose:()=>c(!1)}),e.a.createElement(Ri.a,{collapseOnSelect:!0,fixed:"top",variant:"dark",bg:"dark",className:"top-nav",expand:"xl",expanded:u,onToggle:o,ref:g},e.a.createElement(Ri.a.Collapse,{className:"bg-dark order-sm-1"},e.a.createElement(Ck.a,{in:!r},e.a.createElement(e.a.Fragment,null,e.a.createElement(De.a,null,s.map(({href:M,icon:y,message:k})=>e.a.createElement(De.a.Link,{eventKey:M,as:"div",key:M,className:"col-4 col-sm-3 col-md-2 col-lg-auto"},e.a.createElement(Mk.LinkContainer,{activeClassName:"active",exact:!0,to:M},e.a.createElement(q.a,{className:"minimal p-4 p-xl-2 d-flex d-xl-inline-block flex-column justify-content-between align-items-center"},e.a.createElement(le,lx(sx({},{icon:y}),{className:"nav-menu-icon d-block d-xl-inline mb-2 mb-xl-0"})),e.a.createElement("span",null,f.formatMessage(k))))))),e.a.createElement(De.a,null,D())))),e.a.createElement(Ri.a.Brand,{as:"div",onClick:w},e.a.createElement(Le.Link,{to:"/"},e.a.createElement(q.a,{className:"minimal brand-link d-inline-block"},"Stash"))),e.a.createElement(De.a,{className:"navbar-buttons flex-row ml-auto order-xl-2"},!!v&&e.a.createElement("div",{className:"mr-2"},e.a.createElement(Le.Link,{to:v},e.a.createElement(q.a,{variant:"primary"},e.a.createElement(b.a,{id:"new",defaultMessage:"New"})))),D(),e.a.createElement(Ri.a.Toggle,{className:"nav-menu-toggle ml-sm-2"},e.a.createElement(le,{icon:u?"times":"bars"})))))},ux=()=>e.a.createElement("h1",null,"Page not found.");var Fl=ne(881);const dx=({performer:t})=>{var a,n,r,s,l,u;const o=Object(ge.a)();function i(){var p;if(!!t.tags.length)return e.a.createElement(e.a.Fragment,null,e.a.createElement("dt",null,e.a.createElement(b.a,{id:"tags"})),e.a.createElement("dd",null,e.a.createElement("ul",{className:"pl-0"},((p=t.tags)!=null?p:[]).map(_=>e.a.createElement(xt,{key:_.id,tagType:"performer",tag:_})))))}function c(){if(!!t.stash_ids.length)return e.a.createElement(e.a.Fragment,null,e.a.createElement("dt",null,"StashIDs"),e.a.createElement("dd",null,e.a.createElement("ul",{className:"pl-0"},t.stash_ids.map(p=>{var _;const S=(_=p.endpoint.match(/https?:\/\/.*?\//))==null?void 0:_[0],v=S?e.a.createElement("a",{href:`${S}performers/${p.stash_id}`,target:"_blank",rel:"noopener noreferrer"},p.stash_id):p.stash_id;return e.a.createElement("li",{key:p.stash_id,className:"row no-gutters"},v)}))))}const g=p=>p?o.formatNumber(Number.parseInt(p,10),{style:"unit",unit:"centimeter",unitDisplay:"narrow"}):"",f=p=>p?o.formatNumber(p,{style:"unit",unit:"kilogram",unitDisplay:"narrow"}):"";return e.a.createElement("dl",{className:"details-list"},e.a.createElement(st,{id:"gender",value:Ka((a=t.gender)!=null?a:void 0)}),e.a.createElement(st,{id:"birthdate",value:Me.formatDate(o,(n=t.birthdate)!=null?n:void 0)}),e.a.createElement(st,{id:"death_date",value:Me.formatDate(o,(r=t.death_date)!=null?r:void 0)}),e.a.createElement(st,{id:"ethnicity",value:t.ethnicity}),e.a.createElement(st,{id:"hair_color",value:t.hair_color}),e.a.createElement(st,{id:"eye_color",value:t.eye_color}),e.a.createElement(st,{id:"country",value:t.country}),e.a.createElement(st,{id:"height",value:g(t.height)}),e.a.createElement(st,{id:"weight",value:f(t.weight)}),e.a.createElement(st,{id:"measurements",value:t.measurements}),e.a.createElement(st,{id:"fake_tits",value:t.fake_tits}),e.a.createElement(st,{id:"career_length",value:t.career_length}),e.a.createElement(st,{id:"tattoos",value:t.tattoos}),e.a.createElement(st,{id:"piercings",value:t.piercings}),e.a.createElement(st,{id:"details",value:t.details}),e.a.createElement(aa,{id:"url",value:t.url,url:Me.sanitiseURL((s=t.url)!=null?s:"")}),e.a.createElement(aa,{id:"twitter",value:t.twitter,url:Me.sanitiseURL((l=t.twitter)!=null?l:"",Me.twitterURL)}),e.a.createElement(aa,{id:"instagram",value:t.instagram,url:Me.sanitiseURL((u=t.instagram)!=null?u:"",Me.instagramURL)}),i(),c())};var mx=(t,a,n)=>new Promise((r,s)=>{var l=i=>{try{o(n.next(i))}catch(c){s(c)}},u=i=>{try{o(n.throw(i))}catch(c){s(c)}},o=i=>i.done?r(i.value):Promise.resolve(i.value).then(l,u);o((n=n.apply(t,a)).next())});const gx=({performer:t})=>{const a=He();function n(){return mx(this,null,function*(){try{yield Er({performers:[t.id]}),a.success({content:"Started auto tagging"})}catch(r){a.error(r)}})}return e.a.createElement(q.a,{onClick:n},e.a.createElement(b.a,{id:"actions.auto_tag"}))};var fx=Object.defineProperty,zi=Object.getOwnPropertySymbols,bd=Object.prototype.hasOwnProperty,Sd=Object.prototype.propertyIsEnumerable,wd=(t,a,n)=>a in t?fx(t,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[a]=n,px=(t,a)=>{for(var n in a||(a={}))bd.call(a,n)&&wd(t,n,a[n]);if(zi)for(var n of zi(a))Sd.call(a,n)&&wd(t,n,a[n]);return t},_x=(t,a)=>{var n={};for(var r in t)bd.call(t,r)&&a.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&zi)for(var r of zi(t))a.indexOf(r)<0&&Sd.call(t,r)&&(n[r]=t[r]);return n},hx=(t,a,n)=>new Promise((r,s)=>{var l=i=>{try{o(n.next(i))}catch(c){s(c)}},u=i=>{try{o(n.throw(i))}catch(c){s(c)}},o=i=>i.done?r(i.value):Promise.resolve(i.value).then(l,u);o((n=n.apply(t,a)).next())});const wn=t=>{const[a,n]=Object(d.useState)(!1),r=Object(d.useRef)(!1),s=t,{operation:l,loading:u,hideChildrenWhenLoading:o=!1,setLoading:i}=s,c=_x(s,["operation","loading","hideChildrenWhenLoading","setLoading"]);Object(d.useEffect)(()=>(r.current=!0,()=>{r.current=!1}),[]);const g=i||n,f=u!==void 0?u:a;function p(){return hx(this,null,function*(){l&&(g(!0),yield l(),r.current&&g(!1))})}return e.a.createElement(q.a,px({onClick:p},c),f&&e.a.createElement("span",{className:"mr-2"},e.a.createElement($e,{message:"",inline:!0,small:!0})),(!f||!o)&&t.children)},kd="stashbox:",jl="scraper:",xd="tagger",qi={blacklist:["\\sXXX\\s","1080p","720p","2160p","KTR","RARBG","\\scom\\s","\\[","\\]"],showMales:!1,mode:"auto",setCoverImage:!0,setTags:!1,tagOperation:"merge",fingerprintQueue:{},excludedPerformerFields:["name"]},vx=["name","aliases","image","gender","birthdate","ethnicity","country","eye_color","hair_color","height","measurements","fake_tits","career_length","tattoos","piercings","url","twitter","instagram","details","death_date","weight"];var Ex=Object.defineProperty,yx=Object.defineProperties,bx=Object.getOwnPropertyDescriptors,Pd=Object.getOwnPropertySymbols,Sx=Object.prototype.hasOwnProperty,wx=Object.prototype.propertyIsEnumerable,Cd=(t,a,n)=>a in t?Ex(t,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[a]=n,dt=(t,a)=>{for(var n in a||(a={}))Sx.call(a,n)&&Cd(t,n,a[n]);if(Pd)for(var n of Pd(a))wx.call(a,n)&&Cd(t,n,a[n]);return t},_t=(t,a)=>yx(t,bx(a)),da=(t,a,n)=>new Promise((r,s)=>{var l=i=>{try{o(n.next(i))}catch(c){s(c)}},u=i=>{try{o(n.throw(i))}catch(c){s(c)}},o=i=>i.done?r(i.value):Promise.resolve(i.value).then(l,u);o((n=n.apply(t,a)).next())});const Za=()=>Promise.resolve(),Ll=()=>Promise.resolve(void 0),kn=e.a.createContext({config:qi,setConfig:()=>{},loading:!1,sources:[],searchResults:{},setCurrentSource:()=>{},doSceneQuery:Za,doSceneFragmentScrape:Za,doMultiSceneFragmentScrape:Za,stopMultiScrape:()=>{},createNewTag:Ll,createNewPerformer:Ll,linkPerformer:Za,createNewStudio:Ll,linkStudio:Za,resolveScene:Za,submitFingerprints:Za,pendingFingerprints:[],saveScene:Za}),kx=({children:t})=>{const[{data:a},n]=_i(xd,qi),[r,s]=Object(d.useState)(!1),[l,u]=Object(d.useState)(!1),[o,i]=Object(d.useState)([]),[c,g]=Object(d.useState)(),[f,p]=Object(d.useState)(),[_,S]=Object(d.useState)({}),v=Object(d.useRef)(!1),{configuration:x}=e.a.useContext(Et),w=ui(),D=He(),[M]=un(),[y]=vr(),[k]=Ys(),[F]=Un(),[I]=qc(),[j]=Js();Object(d.useEffect)(()=>{if(!x||!w.data)return;const{stashBoxes:N}=x.general,C=w.data.listSceneScrapers,O=N.map((X,ie)=>({id:`${kd}${ie}`,stashboxEndpoint:X.endpoint,sourceInput:{stash_box_index:ie},displayName:`stash-box: ${X.name||`#${ie+1}`}`,supportSceneFragment:!0,supportSceneQuery:!0})),$=C.filter(X=>{var ie;return(ie=X.scene)==null?void 0:ie.supported_scrapes.some(ae=>ae===Rt.Name||ae===Rt.Fragment)}).map(X=>{var ie,ae;return{id:`${jl}${X.id}`,sourceInput:{scraper_id:X.id},displayName:X.name,supportSceneQuery:(ie=X.scene)==null?void 0:ie.supported_scrapes.includes(Rt.Name),supportSceneFragment:(ae=X.scene)==null?void 0:ae.supported_scrapes.includes(Rt.Fragment)}});i(O.concat($))},[w.data,x]),Object(d.useEffect)(()=>{o.length&&!c&&g(o[0])},[o,c]),Object(d.useEffect)(()=>{S({})},[c]);function R(){var N;const C=c==null?void 0:c.stashboxEndpoint;return!a||!C?[]:(N=a.fingerprintQueue[C])!=null?N:[]}function P(){const N=c==null?void 0:c.stashboxEndpoint;!a||!N||n(_t(dt({},a),{fingerprintQueue:_t(dt({},a.fingerprintQueue),{[N]:[]})}))}const[z]=rh();function L(){return da(this,null,function*(){var N;const C=c==null?void 0:c.stashboxEndpoint,O=(N=c==null?void 0:c.sourceInput.stash_box_index)!=null?N:void 0;if(!(!a||!C||O===void 0))try{s(!0),yield z({variables:{input:{stash_box_index:O,scene_ids:a.fingerprintQueue[C]}}}),P()}catch($){D.error($)}finally{s(!1)}})}function G(N){var C;const O=c==null?void 0:c.stashboxEndpoint;!a||!O||n(_t(dt({},a),{fingerprintQueue:_t(dt({},a.fingerprintQueue),{[O]:[...(C=a.fingerprintQueue[O])!=null?C:[],N]})}))}function Y(N,C){return da(this,null,function*(){if(!!c)try{s(!0);const O=yield Qc(c.sourceInput,C);let $;const X=c.sourceInput.stash_box_index!==void 0;O.error?$={error:O.error.message}:O.errors?$={error:O.errors.toString()}:$={results:O.data.scrapeSingleScene.map(ie=>_t(dt({},ie),{resolved:X}))},S(_t(dt({},_),{[N]:$}))}catch(O){D.error(O)}finally{s(!1)}})}function V(N){return da(this,null,function*(){if(!c)return;const C=yield Hc(c.sourceInput,N);let O;C.error?O={error:C.error.message}:C.errors?O={error:C.errors.toString()}:O={results:C.data.scrapeSingleScene.map($=>_t(dt({},$),{resolved:!0}))},S($=>_t(dt({},$),{[N]:O}))})}function U(N){return da(this,null,function*(){if(!!c){S(C=>{const O=dt({},C);return delete O[N],O});try{s(!0),yield V(N)}catch(C){D.error(C)}finally{s(!1)}}})}function te(N){return da(this,null,function*(){var C;if(!!c){S({});try{v.current=!1,s(!0),p(void 0);const O=(C=c.sourceInput.stash_box_index)!=null?C:void 0;if(O!==void 0){const $=yield xy(N,O);if($.error)p($.error.message);else if($.errors)p($.errors.toString());else{const X=dt({},_);N.forEach((ie,ae)=>{const se=$.data.scrapeMultiScenes[ae].map(ye=>_t(dt({},ye),{resolved:!0}));X[ie]={results:se}}),S(X)}}else u(!0),yield N.reduce(($,X)=>da(this,null,function*(){yield $,v.current||(yield V(X))}),Promise.resolve())}catch(O){D.error(O)}finally{s(!1),u(!1)}}})}function oe(){v.current=!0}function Q(N,C,O){return da(this,null,function*(){if(!c||O.resolved||!_[N].results)return Promise.resolve();try{const $={date:O.date,details:O.details,remote_site_id:O.remote_site_id,title:O.title,url:O.url},X=yield Wc(c.sourceInput,$);if(X.data.scrapeSingleScene.length){const ie=X.data.scrapeSingleScene[0],ae=[..._[N].results];ae[C]=_t(dt({},ie),{resolved:!0}),S(_t(dt({},_),{[N]:_t(dt({},_[N]),{results:ae})}))}}catch($){D.error($);const X=[..._[N].results];X[C]=_t(dt({},X[C]),{resolved:!0}),S(_t(dt({},_),{[N]:_t(dt({},_[N]),{results:X})}))}})}function J(N){S(C=>{const O=dt({},C);return delete O[N],O})}function re(N,C){return da(this,null,function*(){try{yield j({variables:{input:N}}),C&&G(N.id),J(N.id)}catch(O){D.error(O)}finally{s(!1)}})}function Z(N){const C=dt({},_);return Object.keys(C).forEach(O=>{const $=_[O];!$.results||(C[O].results=$.results.map(N))}),C}function W(N){return da(this,null,function*(){var C,O,$;const X={name:(C=N.name)!=null?C:""};try{const ae=($=(O=(yield M({variables:{input:X}})).data)==null?void 0:O.tagCreate)==null?void 0:$.id,se=Z(ye=>ye.tags?_t(dt({},ye),{tags:ye.tags.map(Pe=>Pe.name===N.name?_t(dt({},Pe),{stored_id:ae}):Pe)}):ye);return S(se),D.success({content:e.a.createElement("span",null,"Created tag: ",e.a.createElement("b",null,N.name))}),ae}catch(ie){D.error(ie)}})}function H(N){return da(this,null,function*(){var C,O;try{const X=(O=(C=(yield y({variables:{input:N}})).data)==null?void 0:C.performerCreate)==null?void 0:O.id,ie=Z(ae=>ae.performers?_t(dt({},ae),{performers:ae.performers.map(se=>se.name===N.name?_t(dt({},se),{stored_id:X}):se)}):ae);return S(ie),D.success({content:e.a.createElement("span",null,"Created performer: ",e.a.createElement("b",null,N.name))}),X}catch($){D.error($)}})}function de(N,C){return da(this,null,function*(){if(!(!N.remote_site_id||!(c==null?void 0:c.stashboxEndpoint)))try{const O=yield Jv(C);if(O.data.findPerformer){const X=O.data.findPerformer.stash_ids.map(ae=>({endpoint:ae.endpoint,stash_id:ae.stash_id}));X.push({stash_id:N.remote_site_id,endpoint:c==null?void 0:c.stashboxEndpoint}),yield k({variables:{input:{id:C,stash_ids:X}}});const ie=Z(ae=>ae.performers?_t(dt({},ae),{performers:ae.performers.map(se=>se.remote_site_id===N.remote_site_id?_t(dt({},se),{stored_id:C}):se)}):ae);S(ie),D.success({content:e.a.createElement("span",null,"Added stash-id to performer")})}}catch(O){D.error(O)}})}function A(N){return da(this,null,function*(){var C,O;try{const X=(O=(C=(yield F({variables:{input:N}})).data)==null?void 0:C.studioCreate)==null?void 0:O.id,ie=Z(ae=>ae.studio?_t(dt({},ae),{studio:ae.studio.name===N.name?_t(dt({},ae.studio),{stored_id:X}):ae.studio}):ae);return S(ie),D.success({content:e.a.createElement("span",null,"Created studio: ",e.a.createElement("b",null,N.name))}),X}catch($){D.error($)}})}function T(N,C){return da(this,null,function*(){if(!(!N.remote_site_id||!(c==null?void 0:c.stashboxEndpoint)))try{const O=yield eE(C);if(O.data.findStudio){const X=O.data.findStudio.stash_ids.map(ae=>({endpoint:ae.endpoint,stash_id:ae.stash_id}));X.push({stash_id:N.remote_site_id,endpoint:c==null?void 0:c.stashboxEndpoint}),yield I({variables:{input:{id:C,stash_ids:X}}});const ie=Z(ae=>ae.studio?_t(dt({},ae),{studio:ae.remote_site_id===N.remote_site_id?_t(dt({},ae.studio),{stored_id:C}):ae.studio}):ae);S(ie),D.success({content:e.a.createElement("span",null,"Added stash-id to studio")})}}catch(O){D.error(O)}})}return e.a.createElement(kn.Provider,{value:{config:a!=null?a:qi,setConfig:n,loading:r||l,loadingMulti:l,multiError:f,sources:o,currentSource:c,searchResults:_,setCurrentSource:N=>{g(N)},doSceneQuery:Y,doSceneFragmentScrape:U,doMultiSceneFragmentScrape:te,stopMultiScrape:oe,createNewTag:W,createNewPerformer:H,linkPerformer:de,createNewStudio:A,linkStudio:T,resolveScene:Q,saveScene:re,submitFingerprints:L,pendingFingerprints:R()}},t)};var xx=Object.defineProperty,Px=Object.defineProperties,Cx=Object.getOwnPropertyDescriptors,Md=Object.getOwnPropertySymbols,Mx=Object.prototype.hasOwnProperty,Ox=Object.prototype.propertyIsEnumerable,Od=(t,a,n)=>a in t?xx(t,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[a]=n,xn=(t,a)=>{for(var n in a||(a={}))Mx.call(a,n)&&Od(t,n,a[n]);if(Md)for(var n of Md(a))Ox.call(a,n)&&Od(t,n,a[n]);return t},Pn=(t,a)=>Px(t,Cx(a)),Nx=({show:t})=>{const{config:a,setConfig:n}=Object(d.useContext)(kn),r=Object(ge.a)(),s=Object(d.useRef)(null),l=o=>{n(Pn(xn({},a),{blacklist:[...a.blacklist.slice(0,o),...a.blacklist.slice(o+1)]}))},u=()=>{if(!s.current)return;const o=s.current.value;o.length!==0&&(n(Pn(xn({},a),{blacklist:[...a.blacklist,o]})),s.current.value="")};return e.a.createElement(En.a,{in:t},e.a.createElement(It.a,null,e.a.createElement("div",{className:"row"},e.a.createElement("h4",{className:"col-12"},e.a.createElement(b.a,{id:"configuration"})),e.a.createElement("hr",{className:"w-100"}),e.a.createElement(m.a,{className:"col-md-6"},e.a.createElement(m.a.Group,{controlId:"tag-males",className:"align-items-center"},e.a.createElement(m.a.Check,{label:e.a.createElement(b.a,{id:"component_tagger.config.show_male_label"}),checked:a.showMales,onChange:o=>n(Pn(xn({},a),{showMales:o.currentTarget.checked}))}),e.a.createElement(m.a.Text,null,e.a.createElement(b.a,{id:"component_tagger.config.show_male_desc"}))),e.a.createElement(m.a.Group,{controlId:"set-cover",className:"align-items-center"},e.a.createElement(m.a.Check,{label:e.a.createElement(b.a,{id:"component_tagger.config.set_cover_label"}),checked:a.setCoverImage,onChange:o=>n(Pn(xn({},a),{setCoverImage:o.currentTarget.checked}))}),e.a.createElement(m.a.Text,null,e.a.createElement(b.a,{id:"component_tagger.config.set_cover_desc"}))),e.a.createElement(m.a.Group,{className:"align-items-center"},e.a.createElement("div",{className:"d-flex align-items-center"},e.a.createElement(m.a.Check,{id:"tag-mode",label:e.a.createElement(b.a,{id:"component_tagger.config.set_tag_label"}),className:"mr-4",checked:a.setTags,onChange:o=>n(Pn(xn({},a),{setTags:o.currentTarget.checked}))}),e.a.createElement(m.a.Control,{id:"tag-operation",className:"col-md-2 col-3 input-control",as:"select",value:a.tagOperation,onChange:o=>n(Pn(xn({},a),{tagOperation:o.currentTarget.value})),disabled:!a.setTags},e.a.createElement("option",{value:"merge"},r.formatMessage({id:"actions.merge"})),e.a.createElement("option",{value:"overwrite"},r.formatMessage({id:"actions.overwrite"})))),e.a.createElement(m.a.Text,null,e.a.createElement(b.a,{id:"component_tagger.config.set_tag_desc"}))),e.a.createElement(m.a.Group,{controlId:"mode-select"},e.a.createElement("div",{className:"row no-gutters"},e.a.createElement(m.a.Label,{className:"mr-4 mt-1"},e.a.createElement(b.a,{id:"component_tagger.config.query_mode_label"}),":"),e.a.createElement(m.a.Control,{as:"select",className:"col-md-2 col-3 input-control",value:a.mode,onChange:o=>n(Pn(xn({},a),{mode:o.currentTarget.value}))},e.a.createElement("option",{value:"auto"},r.formatMessage({id:"component_tagger.config.query_mode_auto"})),e.a.createElement("option",{value:"filename"},r.formatMessage({id:"component_tagger.config.query_mode_filename"})),e.a.createElement("option",{value:"dir"},r.formatMessage({id:"component_tagger.config.query_mode_dir"})),e.a.createElement("option",{value:"path"},r.formatMessage({id:"component_tagger.config.query_mode_path"})),e.a.createElement("option",{value:"metadata"},r.formatMessage({id:"component_tagger.config.query_mode_metadata"})))),e.a.createElement(m.a.Text,null,r.formatMessage({id:`component_tagger.config.query_mode_${a.mode}_desc`,defaultMessage:"Unknown query mode"})))),e.a.createElement("div",{className:"col-md-6"},e.a.createElement("h5",null,e.a.createElement(b.a,{id:"component_tagger.config.blacklist_label"})),e.a.createElement(Ze.a,null,e.a.createElement(m.a.Control,{className:"text-input",ref:s}),e.a.createElement(Ze.a.Append,null,e.a.createElement(q.a,{onClick:u},e.a.createElement(b.a,{id:"actions.add"})))),e.a.createElement("div",null,r.formatMessage({id:"component_tagger.config.blacklist_desc"},{chars_require_escape:e.a.createElement("code",null,"[\\^$.|?*+()")})),a.blacklist.map((o,i)=>e.a.createElement(Zt.a,{className:"tag-item d-inline-block",variant:"secondary",key:o},o.toString(),e.a.createElement(q.a,{className:"minimal ml-2",onClick:()=>l(i)},e.a.createElement(le,{icon:"times"}))))))))};const $i=["jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"],Ix=/\.(\d\d)\.(\d\d)\.(\d\d)\./,Dx=/(\d{4})[-.](\d{2})[-.](\d{2})/,Tx=/(\d{2})[-.](\d{2})[-.](\d{4})/,Fx=new RegExp(`(\\d{1,2}).(${$i.join("|")})\\.?.(\\d{4})`,"i"),jx=new RegExp(`(${$i.join("|")})\\.?.(\\d{1,2}),?.(\\d{4})`,"i"),Lx=t=>{let a=t;const n=a.match(Ix);n&&(a=a.replace(n[0],` 20${n[1]}-${n[2]}-${n[3]} `));const r=a.match(Tx);r&&(a=a.replace(r[0],` ${r[1]}-${r[2]}-${r[3]} `));const s=a.match(Fx);if(s){const o=($i.indexOf(s[2].toLowerCase())+1).toString().padStart(2,"0");a=a.replace(s[0],` ${s[3]}-${o}-${s[1].padStart(2,"0")} `)}const l=a.match(jx);if(l){const o=($i.indexOf(l[1].toLowerCase())+1).toString().padStart(2,"0");a=a.replace(l[0],` ${l[3]}-${o}-${l[2].padStart(2,"0")} `)}const u=a.search(Dx);return u!==-1?a.slice(0,u).replace(/-/g," ")+a.slice(u,u+10).replace(/\./g,"-")+a.slice(u+10).replace(/-/g," "):a.replace(/-/g," ")};function Ax(t,a,n,r,s){var l,u,o;if(r==="auto"&&t.date&&t.studio||r==="metadata"){let c=[t.date,(u=(l=t.studio)==null?void 0:l.name)!=null?u:"",((o=t==null?void 0:t.performers)!=null?o:[]).map(g=>g.name).join(" "),(t==null?void 0:t.title)?t.title.replace(/[^a-zA-Z0-9 ]+/g,""):""].filter(g=>g!=="").join(" ");return s.forEach(g=>{c=c.replace(new RegExp(g,"gi")," ")}),c}let i="";return r==="auto"||r==="filename"?i=n:r==="path"?i=[...a,n].join(" "):r==="dir"&&a.length&&(i=a[a.length-1]),s.forEach(c=>{i=i.replace(new RegExp(c,"gi")," ")}),i=Lx(i),i.replace(/\./g," ")}const Rx=t=>{var a,n;const r=t.toLowerCase(),u=(/^([a-z]:|\\\\)/.test(r)?r.replace(/^[a-z]:/,"").replace(/\\/g,"/"):r).split("/").filter(f=>f.trim().length>0),o=u[u.length-1],i=(n=(a=o.match(/\.[a-z0-9]*$/))==null?void 0:a[0])!=null?n:"",c=o.slice(0,i.length*-1);return{paths:u.length>=2?u.slice(0,u.length-2):[],file:c,ext:i}};var Nd=(t,a,n)=>new Promise((r,s)=>{var l=i=>{try{o(n.next(i))}catch(c){s(c)}},u=i=>{try{o(n.throw(i))}catch(c){s(c)}},o=i=>i.done?r(i.value):Promise.resolve(i.value).then(l,u);o((n=n.apply(t,a)).next())});const zx=({scene:t})=>{var a,n,r;const[s,l]=Object(d.useState)(!1),u=xr(t.performers);return e.a.createElement("div",{className:"original-scene-details"},e.a.createElement(En.a,{in:s},e.a.createElement("div",{className:"row"},e.a.createElement("div",{className:"col col-lg-6"},e.a.createElement("h4",null,t.title),e.a.createElement("h5",null,(a=t.studio)==null?void 0:a.name,((n=t.studio)==null?void 0:n.name)&&t.date&&" \u2022 ",t.date),e.a.createElement(Mt,{text:(r=t.details)!=null?r:"",lineCount:3})),e.a.createElement("div",{className:"col col-lg-6"},e.a.createElement("div",null,u.map(o=>{var i,c;return e.a.createElement("div",{className:"performer-tag-container row",key:o.id},e.a.createElement(Le.Link,{to:`/performers/${o.id}`,className:"performer-tag col m-auto zoom-2"},e.a.createElement("img",{className:"image-thumbnail",alt:(i=o.name)!=null?i:"",src:(c=o.image_path)!=null?c:""})),e.a.createElement(xt,{key:o.id,performer:o,className:"d-block"}))})),e.a.createElement("div",null,t.tags.map(o=>e.a.createElement(xt,{key:o.id,tag:o})))))),e.a.createElement(q.a,{onClick:()=>l(!s),className:"minimal collapse-button",size:"lg"},e.a.createElement(le,{icon:s?"chevron-up":"chevron-down"})))},qx=({scene:t,url:a,loading:n,doSceneQuery:r,scrapeSceneFragment:s,errorMessage:l,children:u})=>{var o,i,c;const{config:g}=Object(d.useContext)(kn),[f,p]=Object(d.useState)(""),[_,S]=Object(d.useState)(!1),{paths:v,file:x}=Rx(t.path),w=Ax(t,v,x,g.mode,g.blacklist),D=t.file.width?t.file.width:0,y=(t.file.height?t.file.height:0)>D;function k(){return Nd(this,null,function*(){if(!!r)try{S(!0),yield r(f||w)}finally{S(!1)}})}function F(){if(!!r)return e.a.createElement(Ze.a,null,e.a.createElement(Ze.a.Prepend,null,e.a.createElement(Ze.a.Text,null,e.a.createElement(b.a,{id:"component_tagger.noun_query"}))),e.a.createElement(m.a.Control,{className:"text-input",value:f||w,onChange:j=>{p(j.currentTarget.value)},onKeyPress:j=>j.key==="Enter"&&k()}),e.a.createElement(Ze.a.Append,null,e.a.createElement(wn,{disabled:n,operation:k,loading:_,setLoading:S},e.a.createElement(b.a,{id:"actions.search"}))))}function I(){if(t.stash_ids.length>0){const j=t.stash_ids.map(R=>{var P;const z=(P=R.endpoint.match(/https?:\/\/.*?\//))==null?void 0:P[0];return z?e.a.createElement("a",{key:`${R.endpoint}${R.stash_id}`,className:"small d-block",href:`${z}scenes/${R.stash_id}`,target:"_blank",rel:"noopener noreferrer"},R.stash_id):e.a.createElement("div",{className:"small"},R.stash_id)});return e.a.createElement("div",{className:"mt-2 sub-content text-right"},j)}}return e.a.createElement("div",{key:t.id,className:"mt-3 search-item"},e.a.createElement("div",{className:"row"},e.a.createElement("div",{className:"col col-lg-6 overflow-hidden align-items-center d-flex flex-column flex-sm-row"},e.a.createElement("div",{className:"scene-card mr-3"},e.a.createElement(Le.Link,{to:a},e.a.createElement(ud,{image:(o=t.paths.screenshot)!=null?o:void 0,video:(i=t.paths.preview)!=null?i:void 0,isPortrait:y,soundActive:!1}))),e.a.createElement(Le.Link,{to:a,className:"scene-link overflow-hidden"},e.a.createElement(Mt,{text:(c=t.title)!=null?c:t.path,lineCount:2}))),e.a.createElement("div",{className:"col-md-6 my-1"},e.a.createElement("div",null,F(),s?e.a.createElement("div",{className:"mt-2 text-right"},e.a.createElement(wn,{disabled:n,operation:()=>Nd(void 0,null,function*(){yield s(t)})},e.a.createElement(b.a,{id:"actions.scrape_scene_fragment"}))):void 0),l?e.a.createElement("div",{className:"text-danger font-weight-bold"},l):void 0,I()),e.a.createElement(zx,{scene:t})),u)};var $x=({modalVisible:t,studio:a,handleStudioCreate:n,closeModal:r,header:s,icon:l})=>{var u,o;const{currentSource:i}=Object(d.useContext)(kn),c=Object(ge.a)();function g(){var S;if(!a.name)throw new Error("studio name must set");const v={name:(S=a.name)!=null?S:"",url:a.url},x=a.remote_site_id;x&&(i==null?void 0:i.stashboxEndpoint)&&(v.stash_ids=[{endpoint:i.stashboxEndpoint,stash_id:x}]),n(v)}const f=(S,v,x=!0)=>v&&e.a.createElement("div",{className:"row no-gutters"},e.a.createElement("div",{className:"col-5 studio-create-modal-field",key:S},e.a.createElement("strong",null,e.a.createElement(b.a,{id:S}),":")),x?e.a.createElement(Mt,{className:"col-7",text:v}):e.a.createElement("span",{className:"col-7"},v)),p=(o=(u=i==null?void 0:i.stashboxEndpoint)==null?void 0:u.match(/https?:\/\/.*?\//))==null?void 0:o[0],_=p?`${p}studios/${a.remote_site_id}`:void 0;return e.a.createElement(it,{show:t,accept:{text:c.formatMessage({id:"actions.save"}),onClick:g},onHide:()=>r(),cancel:{onClick:()=>r(),variant:"secondary"},icon:l,header:s},e.a.createElement("div",{className:"row"},e.a.createElement("div",{className:"col-12"},f("name",a.name),f("url",a.url),_&&e.a.createElement("h6",{className:"mt-2"},e.a.createElement("a",{href:_,target:"_blank",rel:"noopener noreferrer"},"Stash-Box Source",e.a.createElement(le,{icon:"external-link-alt",className:"ml-2"}))))))},Gx=Object.defineProperty,Vx=Object.defineProperties,Bx=Object.getOwnPropertyDescriptors,Id=Object.getOwnPropertySymbols,Ux=Object.prototype.hasOwnProperty,Qx=Object.prototype.propertyIsEnumerable,Dd=(t,a,n)=>a in t?Gx(t,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[a]=n,Al=(t,a)=>{for(var n in a||(a={}))Ux.call(a,n)&&Dd(t,n,a[n]);if(Id)for(var n of Id(a))Qx.call(a,n)&&Dd(t,n,a[n]);return t},Rl=(t,a)=>Vx(t,Bx(a)),zl=({modalVisible:t,performer:a,onSave:n,closeModal:r,excludedPerformerFields:s=[],header:l,icon:u,create:o=!1,endpoint:i})=>{var c,g;const f=Object(ge.a)(),[p,_]=Object(d.useState)(0),[S,v]=Object(d.useState)("empty"),[x,w]=Object(d.useState)({}),[D,M]=Object(d.useState)(s.reduce((V,U)=>Rl(Al({},V),{[U]:!0}),{})),y=(c=a.images)!=null?c:[],k=V=>{_(V),x[V]||v("loading")},F=()=>k(p===0?y.length-1:p-1),I=()=>k(p===y.length-1?0:p+1),j=V=>{w(Rl(Al({},x),{[V]:!0})),v("loaded")},R=()=>v("error"),P=V=>M(Rl(Al({},D),{[V]:!D[V]})),z=(V,U,te=!0)=>U&&e.a.createElement("div",{className:"row no-gutters"},e.a.createElement("div",{className:"col-5 performer-create-modal-field",key:V},!o&&e.a.createElement(q.a,{onClick:()=>P(V),variant:"secondary",className:D[V]?"text-muted":"text-success"},e.a.createElement(le,{icon:D[V]?"times":"check"})),e.a.createElement("strong",null,e.a.createElement(b.a,{id:V}),":")),te?e.a.createElement(Mt,{className:"col-7",text:U}):e.a.createElement("span",{className:"col-7"},U)),L=(g=i==null?void 0:i.match(/https?:\/\/.*?\//))==null?void 0:g[0],G=L?`${L}performers/${a.remote_site_id}`:void 0;function Y(){var V,U,te,oe,Q;if(!a.name)throw new Error("performer name must set");const J={name:(V=a.name)!=null?V:"",aliases:a.aliases,gender:ya((U=a.gender)!=null?U:void 0,!0),birthdate:a.birthdate,ethnicity:a.ethnicity,eye_color:a.eye_color,country:a.country,height:a.height,measurements:a.measurements,fake_tits:a.fake_tits,career_length:a.career_length,tattoos:a.tattoos,piercings:a.piercings,url:a.url,twitter:a.twitter,instagram:a.instagram,image:y.length>p?y[p]:void 0,details:a.details,death_date:a.death_date,hair_color:a.hair_color,weight:(oe=Number.parseFloat((te=a.weight)!=null?te:""))!=null?oe:void 0};Number.isNaN((Q=J.weight)!=null?Q:0)&&(J.weight=void 0),a.tags&&(J.tag_ids=a.tags.map(Z=>Z.stored_id).filter(Z=>Z));const re=a.remote_site_id;re&&i&&(J.stash_ids=[{endpoint:i,stash_id:re}]),Object.keys(J).forEach(Z=>{(D[Z]||!J[Z])&&(J[Z]=void 0)}),n(J)}return e.a.createElement(it,{show:t,accept:{text:f.formatMessage({id:"actions.save"}),onClick:Y},cancel:{onClick:()=>r(),variant:"secondary"},onHide:()=>r(),dialogClassName:"performer-create-modal",icon:u,header:l},e.a.createElement("div",{className:"row"},e.a.createElement("div",{className:"col-7"},z("name",a.name),z("gender",a.gender?Ka(a.gender):""),z("birthdate",a.birthdate),z("death_date",a.death_date),z("ethnicity",a.ethnicity),z("country",a.country),z("hair_color",a.hair_color),z("eye_color",a.eye_color),z("height",a.height),z("weight",a.weight),z("measurements",a.measurements),(a==null?void 0:a.gender)!==At.Male&&z("fake_tits",a.fake_tits),z("career_length",a.career_length),z("tattoos",a.tattoos,!1),z("piercings",a.piercings,!1),z("weight",a.weight,!1),z("details",a.details),z("url",a.url),z("twitter",a.twitter),z("instagram",a.instagram),G&&e.a.createElement("h6",{className:"mt-2"},e.a.createElement("a",{href:G,target:"_blank",rel:"noopener noreferrer"},"Stash-Box Source",e.a.createElement(le,{icon:"external-link-alt",className:"ml-2"})))),y.length>0&&e.a.createElement("div",{className:"col-5 image-selection"},e.a.createElement("div",{className:"performer-image"},!o&&e.a.createElement(q.a,{onClick:()=>P("image"),variant:"secondary",className:St()("performer-image-exclude",D.image?"text-muted":"text-success")},e.a.createElement(le,{icon:D.image?"times":"check"})),e.a.createElement("img",{src:y[p],className:St()({"d-none":S!=="loaded"}),alt:"",onLoad:()=>j(p),onError:R}),S==="loading"&&e.a.createElement($e,{message:"Loading image..."}),S==="error"&&e.a.createElement("div",{className:"h-100 d-flex justify-content-center align-items-center"},e.a.createElement("b",null,"Error loading image."))),e.a.createElement("div",{className:"d-flex mt-3"},e.a.createElement(q.a,{onClick:F,disabled:y.length===1},e.a.createElement(le,{icon:"arrow-left"})),e.a.createElement("h5",{className:"flex-grow-1"},"Select performer image",e.a.createElement("br",null),p+1," of ",y.length),e.a.createElement(q.a,{onClick:I,disabled:y.length===1},e.a.createElement(le,{icon:"arrow-right"}))))))};const Td=e.a.createContext({createPerformerModal:()=>{},createStudioModal:()=>{}}),Hx=({children:t})=>{const{currentSource:a}=Object(d.useContext)(kn),[n,r]=Object(d.useState)(),[s,l]=Object(d.useState)(),[u,o]=Object(d.useState)(),[i,c]=Object(d.useState)();function g(w){s&&s(w),r(void 0),l(void 0)}function f(){s&&s(),r(void 0),l(void 0)}function p(w,D){r(w),l(()=>D)}function _(w){i&&i(w),o(void 0),c(void 0)}function S(){i&&i(),o(void 0),c(void 0)}function v(w,D){o(w),c(()=>D)}const x=a==null?void 0:a.stashboxEndpoint;return e.a.createElement(Td.Provider,{value:{createPerformerModal:p,createStudioModal:v}},n&&e.a.createElement(zl,{closeModal:f,modalVisible:!0,performer:n,onSave:g,icon:"tags",header:"Create Performer",endpoint:x,create:!0}),u&&e.a.createElement($x,{closeModal:S,modalVisible:!0,studio:u,handleStudioCreate:_,icon:"tags",header:"Create Studio"}),t)};var Wx=ne(411),Kx=ne(258),Fd=ne.n(Kx),jd=({className:t})=>e.a.createElement(le,{icon:["far","check-circle"],className:t,color:"#0f9960"});const Yx=({exclude:t,disabled:a,setExclude:n})=>e.a.createElement(q.a,{onClick:()=>n(!t),disabled:a,variant:"minimal",className:`${t?"text-danger":"text-success"} include-exclude-button`},e.a.createElement(le,{className:"fa-fw",icon:t?"times":"check"})),en=({exclude:t,setExclude:a,children:n,title:r})=>e.a.createElement("div",{className:`optional-field ${t?"excluded":"included"}`},e.a.createElement(Yx,{exclude:t,setExclude:a}),r&&e.a.createElement("span",{className:"optional-field-title"},r),e.a.createElement("div",{className:"optional-field-content"},n));var Jx=({performer:t,selectedID:a,setSelectedID:n,onCreate:r,onLink:s,endpoint:l})=>{var u;const{data:o,loading:i}=Ec({variables:{id:(u=t.stored_id)!=null?u:""},skip:!t.stored_id}),c=o==null?void 0:o.findPerformer,g=c==null?void 0:c.stash_ids.some(v=>v.endpoint===l&&v.stash_id),f=v=>{v.length?n(v[0].id):n(void 0)},p=()=>{n(void 0)};if(i)return e.a.createElement("div",null,"Loading performer");if(c&&g)return e.a.createElement("div",{className:"row no-gutters my-2"},e.a.createElement("div",{className:"entity-name"},e.a.createElement(b.a,{id:"countables.performers",values:{count:1}}),":",e.a.createElement("b",{className:"ml-2"},t.name)),e.a.createElement("span",{className:"ml-auto"},e.a.createElement(en,{exclude:a===void 0,setExclude:v=>v?p():n(c.id)},e.a.createElement("div",null,e.a.createElement("span",{className:"mr-2"},e.a.createElement(b.a,{id:"component_tagger.verb_matched"}),":"),e.a.createElement("b",{className:"col-3 text-right"},c.name)))));function _(){if(l&&s)return e.a.createElement(wn,{variant:"secondary",disabled:a===void 0,operation:s,hideChildrenWhenLoading:!0},e.a.createElement(le,{icon:"save"}))}const S=a?"existing":"skip";return e.a.createElement("div",{className:"row no-gutters align-items-center mt-2"},e.a.createElement("div",{className:"entity-name"},e.a.createElement(b.a,{id:"countables.performers",values:{count:1}}),":",e.a.createElement("b",{className:"ml-2"},t.name)),e.a.createElement(yt.a,null,e.a.createElement(q.a,{variant:"secondary",onClick:()=>r()},e.a.createElement(b.a,{id:"actions.create"})),e.a.createElement(q.a,{variant:S==="skip"?"primary":"secondary",onClick:()=>p()},e.a.createElement(b.a,{id:"actions.skip"})),e.a.createElement(Aa,{ids:a?[a]:[],onSelect:f,className:St()("performer-select",{"performer-select-active":S==="existing"}),isClearable:!1}),_()))},Xx=({studio:t,selectedID:a,setSelectedID:n,onCreate:r,onLink:s,endpoint:l})=>{var u;const{data:o,loading:i}=bc({variables:{id:(u=t.stored_id)!=null?u:""},skip:!t.stored_id}),c=o==null?void 0:o.findStudio,g=c==null?void 0:c.stash_ids.some(v=>v.endpoint===l&&v.stash_id),f=v=>{v.length?n(v[0].id):n(void 0)},p=()=>{n(void 0)};if(i)return e.a.createElement("div",null,"Loading studio");if(c&&g)return e.a.createElement("div",{className:"row no-gutters my-2"},e.a.createElement("div",{className:"entity-name"},e.a.createElement(b.a,{id:"countables.studios",values:{count:1}}),":",e.a.createElement("b",{className:"ml-2"},t.name)),e.a.createElement("span",{className:"ml-auto"},e.a.createElement(en,{exclude:a===void 0,setExclude:v=>v?p():n(c.id)},e.a.createElement("div",null,e.a.createElement("span",{className:"mr-2"},e.a.createElement(b.a,{id:"component_tagger.verb_matched"}),":"),e.a.createElement("b",{className:"col-3 text-right"},c.name)))));function _(){if(l&&s)return e.a.createElement(wn,{variant:"secondary",disabled:a===void 0,operation:s,hideChildrenWhenLoading:!0},e.a.createElement(le,{icon:"save"}))}const S=a?"existing":"skip";return e.a.createElement("div",{className:"row no-gutters align-items-center mt-2"},e.a.createElement("div",{className:"entity-name"},e.a.createElement(b.a,{id:"countables.studios",values:{count:1}}),":",e.a.createElement("b",{className:"ml-2"},t.name)),e.a.createElement(yt.a,null,e.a.createElement(q.a,{variant:"secondary",onClick:()=>r()},e.a.createElement(b.a,{id:"actions.create"})),e.a.createElement(q.a,{variant:S==="skip"?"primary":"secondary",onClick:()=>p()},e.a.createElement(b.a,{id:"actions.skip"})),e.a.createElement(Ht,{ids:a?[a]:[],onSelect:f,className:St()("studio-select",{"studio-select-active":S==="existing"}),isClearable:!1}),_()))},Zx=Object.defineProperty,eP=Object.defineProperties,tP=Object.getOwnPropertyDescriptors,Ld=Object.getOwnPropertySymbols,aP=Object.prototype.hasOwnProperty,nP=Object.prototype.propertyIsEnumerable,Ad=(t,a,n)=>a in t?Zx(t,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[a]=n,rP=(t,a)=>{for(var n in a||(a={}))aP.call(a,n)&&Ad(t,n,a[n]);if(Ld)for(var n of Ld(a))nP.call(a,n)&&Ad(t,n,a[n]);return t},iP=(t,a)=>eP(t,tP(a)),Gi=(t,a,n)=>new Promise((r,s)=>{var l=i=>{try{o(n.next(i))}catch(c){s(c)}},u=i=>{try{o(n.throw(i))}catch(c){s(c)}},o=i=>i.done?r(i.value):Promise.resolve(i.value).then(l,u);o((n=n.apply(t,a)).next())});const sP=(t,a)=>{var n,r,s;if(!a)return"";const l=(r=(n=t.fingerprints)==null?void 0:n.map(g=>g.duration).map(g=>Math.abs(g-a)))!=null?r:[],u=(s=t.duration)!=null?s:0;if(!u&&l.length===0)return"";const o=l.filter(g=>g<=5).length;let i;if(o>0?i=e.a.createElement(b.a,{id:"component_tagger.results.fp_matches_multi",values:{matchCount:o,durationsLength:l.length}}):Math.abs(u-a)<5&&(i=e.a.createElement(b.a,{id:"component_tagger.results.fp_matches"})),i)return e.a.createElement("div",{className:"font-weight-bold"},e.a.createElement(jd,{className:"mr-2"}),i);const c=Math.min(Math.abs(u-a),...l);return e.a.createElement(b.a,{id:"component_tagger.results.duration_off",values:{number:Math.floor(c)}})},lP=(t,a)=>{var n,r,s;const l=(n=t.fingerprints)==null?void 0:n.some(i=>i.hash===a.checksum||i.hash===a.oshash),u=a.phash?(s=(r=t.fingerprints)==null?void 0:r.filter(i=>i.algorithm==="PHASH"&&Fd()(i.hash,a.phash)<=8))!=null?s:[]:[],o=e.a.createElement("div",{className:"m-2"},u.map(i=>e.a.createElement("div",{key:i.hash},e.a.createElement("b",null,i.hash),i.hash===a.phash?", Exact match":`, distance ${Fd()(i.hash,a.phash)}`)));if(l||u.length>0)return e.a.createElement("div",{className:"font-weight-bold"},e.a.createElement(jd,{className:"mr-2"}),u.length>0?e.a.createElement(Gt,{placement:"bottom",content:o,className:"PHashPopover"},u.length>1?e.a.createElement(b.a,{id:"component_tagger.results.phash_matches",values:{count:u.length}}):e.a.createElement(b.a,{id:"component_tagger.results.hash_matches",values:{hash_type:e.a.createElement(b.a,{id:"media_info.phash"})}})):e.a.createElement(b.a,{id:"component_tagger.results.hash_matches",values:{hash_type:e.a.createElement(b.a,{id:"media_info.checksum"})}}))},Rd=({scene:t,stashScene:a,index:n,isActive:r})=>{var s;const l=Object(ge.a)(),{config:u,createNewTag:o,createNewPerformer:i,linkPerformer:c,createNewStudio:g,linkStudio:f,resolveScene:p,currentSource:_,saveScene:S}=e.a.useContext(kn),v=Object(d.useMemo)(()=>{var se,ye;return(ye=(se=t.performers)==null?void 0:se.filter(Pe=>u.showMales?!0:!Pe.gender||ya(Pe.gender,!0)!==At.Male))!=null?ye:[]},[u,t]),{createPerformerModal:x,createStudioModal:w}=e.a.useContext(Td),D=Object(d.useCallback)(()=>{var se,ye;const Pe=a.tags.map(Te=>Te.id);if(!u.setTags)return Pe;const{tagOperation:Fe}=u,ve=(ye=(se=t.tags)==null?void 0:se.filter(Te=>Te.stored_id).map(Te=>Te.stored_id))!=null?ye:[];if(Fe==="overwrite")return ve;if(Fe==="merge")return Object(ia.uniq)(Pe.concat(ve));throw new Error("unexpected tagOperation")},[a,t,u]),M=Object(d.useCallback)(()=>v.map(se=>{var ye;return(ye=se.stored_id)!=null?ye:void 0}),[v]),y=Object(d.useCallback)(()=>{var se,ye,Pe;return(Pe=(se=t.studio)==null?void 0:se.stored_id)!=null?Pe:(ye=a.studio)==null?void 0:ye.id},[a,t]),[k,F]=Object(d.useState)(!1),[I,j]=Object(d.useState)({}),[R,P]=Object(d.useState)(D()),[z,L]=Object(d.useState)(M()),[G,Y]=Object(d.useState)(y());Object(d.useEffect)(()=>{P(D())},[D]),Object(d.useEffect)(()=>{L(M())},[M]),Object(d.useEffect)(()=>{Y(y())},[y]),Object(d.useEffect)(()=>{function se(){return Gi(this,null,function*(){try{F(!0),yield p(a.id,n,t)}finally{F(!1)}})}r&&!k&&!t.resolved&&se()},[r,k,a,n,p,t]);const V=Object(d.useMemo)(()=>{var se;if((_==null?void 0:_.stashboxEndpoint)&&t.remote_site_id)return`${(se=_.stashboxEndpoint.match(/https?:\/\/.*?\//))==null?void 0:se[0]}scenes/${t.remote_site_id}`},[_,t]),U=(se,ye)=>j(iP(rP({},I),{[se]:ye}));function te(){return Gi(this,null,function*(){var se,ye,Pe;const Fe=Object.keys(I).filter(Ne=>I[Ne]);function ve(Ne,Ie,je){return Fe.includes(Ne)?Ie:je}let Te;if(!I.cover_image&&u.setCoverImage){const Ne=t.image;if(Ne){const Ie=yield fetch(Ne,{mode:"cors",cache:"no-store"});if(Ie.status===200){const je=yield Ie.blob();je.size>1e4&&(Te=yield Object(Wx.a)(je))}}}const Ve=z.filter(Ne=>Ne!==void 0),he={id:(se=a.id)!=null?se:"",title:ve("title",a.title,t.title),details:ve("details",a.details,t.details),date:ve("date",a.date,t.date),performer_ids:Ve.length===0?a.performers.map(Ne=>Ne.id):Ve,studio_id:G,cover_image:ve("cover_image",void 0,Te),url:ve("url",a.url,t.url),tag_ids:R,stash_ids:(ye=a.stash_ids)!=null?ye:[]},be=!Fe.includes("stash_ids");be&&(_==null?void 0:_.stashboxEndpoint)&&t.remote_site_id&&(he.stash_ids=[...(Pe=a==null?void 0:a.stash_ids.map(Ne=>({endpoint:Ne.endpoint,stash_id:Ne.stash_id})).filter(Ne=>Ne.endpoint!==_.stashboxEndpoint))!=null?Pe:[],{endpoint:_.stashboxEndpoint,stash_id:t.remote_site_id}]),yield S(he,be)})}function oe(se){se&&i(se)}function Q(se){x(se,oe)}function J(se){se&&g(se)}function re(se){w(se,J)}const Z={cover_image:"cover_image",title:"title",date:"date",url:"url",details:"details",studio:"studio",stash_ids:"stash_ids"},W=()=>{if(t.image)return e.a.createElement("div",{className:"scene-image-container"},e.a.createElement(en,{disabled:!u.setCoverImage,exclude:I[Z.cover_image]||!u.setCoverImage,setExclude:se=>U(Z.cover_image,se)},e.a.createElement("img",{src:t.image,alt:"",className:"align-self-center scene-image"})))},H=()=>{if(!t.title)return e.a.createElement("h4",{className:"text-muted"},e.a.createElement(b.a,{id:"component_tagger.results.unnamed"}));const se=t.url?e.a.createElement("a",{href:t.url,target:"_blank",rel:"noopener noreferrer",className:"scene-link"},e.a.createElement(Mt,{text:t.title})):e.a.createElement(Mt,{text:t.title});return e.a.createElement("h4",null,e.a.createElement(en,{exclude:I[Z.title],setExclude:ye=>U(Z.title,ye)},se))};function de(){var se,ye,Pe;const Fe=t.studio&&t.date?`${t.studio.name} \u2022 ${t.date}`:`${(Pe=(ye=(se=t.studio)==null?void 0:se.name)!=null?ye:t.date)!=null?Pe:""}`;if(Fe)return e.a.createElement("h5",null,Fe)}const A=()=>{var se,ye,Pe;if((se=t.performers)==null?void 0:se.length)return e.a.createElement("div",null,l.formatMessage({id:"countables.performers"},{count:(ye=t==null?void 0:t.performers)==null?void 0:ye.length}),": ",(Pe=t==null?void 0:t.performers)==null?void 0:Pe.map(Fe=>Fe.name).join(", "))},T=()=>{if(r&&t.date)return e.a.createElement("h5",null,e.a.createElement(en,{exclude:I[Z.date],setExclude:se=>U(Z.date,se)},t.date))},N=()=>{if(t.url)return e.a.createElement("div",{className:"scene-details"},e.a.createElement(en,{exclude:I[Z.url],setExclude:se=>U(Z.url,se)},e.a.createElement("a",{href:t.url,target:"_blank",rel:"noopener noreferrer"},t.url)))},C=()=>{var se;if(t.details)return e.a.createElement("div",{className:"scene-details"},e.a.createElement(en,{exclude:I[Z.details],setExclude:ye=>U(Z.details,ye)},e.a.createElement(Mt,{text:(se=t.details)!=null?se:"",lineCount:3})))},O=()=>{if(t.remote_site_id&&V)return e.a.createElement("div",{className:"scene-details"},e.a.createElement(en,{exclude:I[Z.stash_ids],setExclude:se=>U(Z.stash_ids,se)},e.a.createElement("a",{href:V,target:"_blank",rel:"noopener noreferrer"},t.remote_site_id)))},$=()=>{if(t.studio)return e.a.createElement("div",{className:"mt-2"},e.a.createElement(Xx,{studio:t.studio,selectedID:G,setSelectedID:se=>Y(se),onCreate:()=>re(t.studio),endpoint:_==null?void 0:_.stashboxEndpoint,onLink:()=>Gi(void 0,null,function*(){yield f(t.studio,G)})}))};function X(se,ye){const Pe=[...z];Pe[se]=ye,L(Pe)}const ie=()=>e.a.createElement("div",{className:"mt-2"},e.a.createElement("div",null,e.a.createElement(m.a.Group,{controlId:"performers"},v.map((se,ye)=>{var Pe,Fe;return e.a.createElement(Jx,{performer:se,selectedID:z[ye],setSelectedID:ve=>X(ye,ve),onCreate:()=>Q(se),onLink:()=>Gi(void 0,null,function*(){yield c(se,z[ye])}),endpoint:_==null?void 0:_.stashboxEndpoint,key:`${(Fe=(Pe=se.name)!=null?Pe:se.remote_site_id)!=null?Fe:""}`})})))),ae=()=>{var se;return e.a.createElement("div",{className:"mt-2"},e.a.createElement("div",null,e.a.createElement(m.a.Group,{controlId:"tags",as:xe.a},tt.renderLabel({title:`${l.formatMessage({id:"tags"})}:`}),e.a.createElement(Se.a,{sm:9,xl:12},e.a.createElement(jt,{isMulti:!0,onSelect:ye=>{P(ye.map(Pe=>Pe.id))},ids:R})))),(se=t.tags)==null?void 0:se.filter(ye=>!ye.stored_id).map(ye=>e.a.createElement(Zt.a,{className:"tag-item",variant:"secondary",key:ye.name,onClick:()=>{o(ye)}},ye.name,e.a.createElement(q.a,{className:"minimal ml-2"},e.a.createElement(le,{className:"fa-fw",icon:"plus"})))))};return k?e.a.createElement($e,{card:!0}):e.a.createElement(e.a.Fragment,null,e.a.createElement("div",{className:r?"col-lg-6":""},e.a.createElement("div",{className:"row mx-0"},W(),e.a.createElement("div",{className:"d-flex flex-column justify-content-center scene-metadata"},H(),!r&&e.a.createElement(e.a.Fragment,null,de(),A()),T(),sP(t,(s=a.file)==null?void 0:s.duration),lP(t,a))),r&&e.a.createElement("div",{className:"d-flex flex-column"},O(),N(),C())),r&&e.a.createElement("div",{className:"col-lg-6"},$(),ie(),ae(),e.a.createElement("div",{className:"row no-gutters mt-2 align-items-center justify-content-end"},e.a.createElement(wn,{operation:te},e.a.createElement(b.a,{id:"actions.save"})))))},oP=({target:t,scenes:a})=>{const[n,r]=Object(d.useState)();Object(d.useEffect)(()=>{a||r(void 0)},[a]);function s(l){return St()("row mx-0 mt-2 search-result",{"selected-result active":l===n})}return e.a.createElement("ul",{className:"pl-0 mt-3 mb-0"},a.map((l,u)=>e.a.createElement("li",{key:u,onClick:()=>r(u),className:s(u)},e.a.createElement(Rd,{index:u,isActive:u===n,scene:l,stashScene:t}))))};var lL=Rd,ql=(t,a,n)=>new Promise((r,s)=>{var l=i=>{try{o(n.next(i))}catch(c){s(c)}},u=i=>{try{o(n.throw(i))}catch(c){s(c)}},o=i=>i.done?r(i.value):Promise.resolve(i.value).then(l,u);o((n=n.apply(t,a)).next())});const cP=({scenes:t,queue:a})=>{var n;const{sources:r,setCurrentSource:s,currentSource:l,doSceneQuery:u,doSceneFragmentScrape:o,doMultiSceneFragmentScrape:i,stopMultiScrape:c,searchResults:g,loading:f,loadingMulti:p,multiError:_,submitFingerprints:S,pendingFingerprints:v}=Object(d.useContext)(kn),{configuration:x}=e.a.useContext(Et),[w,D]=Object(d.useState)(!1),[M,y]=Object(d.useState)(!1),k=Object(ge.a)(),F=(n=x==null?void 0:x.interface.continuePlaylistDefault)!=null?n:!1;function I(U,te){return a?a.makeLink(U.id,{sceneIndex:te,continue:F}):`/scenes/${U.id}`}function j(U){s(r.find(te=>te.id===U.currentTarget.value))}function R(){return e.a.createElement(m.a.Group,{controlId:"scraper"},e.a.createElement(m.a.Label,null,e.a.createElement(b.a,{id:"component_tagger.config.source"})),e.a.createElement("div",null,e.a.createElement(m.a.Control,{as:"select",value:l==null?void 0:l.id,className:"input-control",disabled:f||!r.length,onChange:j},!r.length&&e.a.createElement("option",null,"No scraper sources"),r.map(U=>e.a.createElement("option",{value:U.id,key:U.id},U.displayName)))))}function P(){return e.a.createElement("div",{className:"ml-2"},e.a.createElement(q.a,{onClick:()=>D(!w)},e.a.createElement(le,{className:"fa-fw",icon:"cog"})))}function z(){return(M?t.filter(te=>{var oe,Q;return(Q=(oe=g[te.id])==null?void 0:oe.results)==null?void 0:Q.length}):t).map((te,oe)=>{var Q,J;const re=I(te,oe);let Z;const W=g[te.id];return(W==null?void 0:W.error)?Z=W.error:W&&((Q=W.results)==null?void 0:Q.length)===0&&(Z=k.formatMessage({id:"component_tagger.results.match_failed_no_result"})),e.a.createElement(qx,{key:te.id,loading:f,scene:te,url:re,errorMessage:Z,doSceneQuery:(l==null?void 0:l.supportSceneQuery)?H=>ql(this,null,function*(){yield u(te.id,H)}):void 0,scrapeSceneFragment:(l==null?void 0:l.supportSceneFragment)?()=>ql(this,null,function*(){yield o(te.id)}):void 0},W&&((J=W.results)==null?void 0:J.length)?e.a.createElement(oP,{scenes:W.results,target:te}):void 0)})}const L=()=>{y(!M)};function G(){if(Object.keys(g).length)return e.a.createElement(q.a,{onClick:L},e.a.createElement(b.a,{id:"component_tagger.verb_toggle_unmatched",values:{toggle:e.a.createElement(b.a,{id:`actions.${M?"show":"hide"}`})}}))}function Y(){if(v.length)return e.a.createElement(wn,{className:"ml-1",operation:S,disabled:f||p},e.a.createElement("span",null,e.a.createElement(b.a,{id:"component_tagger.verb_submit_fp",values:{fpCount:v.length}})))}function V(){if(!!(l==null?void 0:l.supportSceneFragment))return p?e.a.createElement(q.a,{className:"ml-1",variant:"danger",onClick:()=>{c()}},e.a.createElement($e,{message:"",inline:!0,small:!0}),e.a.createElement("span",{className:"ml-2"},k.formatMessage({id:"actions.stop"}))):e.a.createElement("div",{className:"ml-1"},e.a.createElement(wn,{disabled:f,operation:()=>ql(this,null,function*(){yield i(t.map(U=>U.id))})},k.formatMessage({id:"component_tagger.verb_scrape_all"})),_&&e.a.createElement(e.a.Fragment,null,e.a.createElement("br",null),e.a.createElement("b",{className:"text-danger"},_)))}return e.a.createElement(Hx,null,e.a.createElement("div",{className:"tagger-container mx-md-auto"},e.a.createElement("div",{className:"tagger-container-header"},e.a.createElement("div",{className:"d-flex justify-content-between align-items-center flex-wrap"},e.a.createElement("div",{className:"w-auto"},R()),e.a.createElement("div",{className:"d-flex"},G(),Y(),V(),P())),e.a.createElement(Nx,{show:w})),e.a.createElement("div",null,z())))};class qa{static fromListFilterModel(a){const n=new qa,r=a.clone();return r.itemsPerPage=40,n.originalQueryPage=a.currentPage,n.originalQueryPageSize=a.itemsPerPage,n.query=r,n}static fromSceneIDList(a){const n=new qa;return n.sceneIDs=a.map(r=>Number(r)),n}makeQueryParameters(a,n){var r;if(this.query){const s=this.query.getQueryParameters(),l={qfp:(r=s.p)!=null?r:1,qfc:s.c,qfq:s.q,qsort:s.sortby,qsortd:s.sortdir};if(n!==void 0)l.qfp=n;else if(a!==void 0&&this.originalQueryPage!==void 0&&this.originalQueryPageSize!==void 0){const u=a+(this.originalQueryPage-1)*this.originalQueryPageSize,o=Math.floor(u/this.query.itemsPerPage)+1;l.qfp=o}return Qt.a.stringify(l,{encode:!1})}if(this.sceneIDs&&this.sceneIDs.length>0){const s={qs:this.sceneIDs};return Qt.a.stringify(s,{encode:!1})}return""}static fromQueryParameters(a){const n=new qa,r=Qt.a.parse(a),s={sortby:r.qsort,sortdir:r.qsortd,q:r.qfq,p:r.qfp,c:r.qfc};if(r.qfp){const l=new bt(nt.Scenes,s,Du.defaultSortBy);n.query=l}else r.qs&&(n.sceneIDs=Array.isArray(r.qs)?r.qs.map(l=>Number(l)):[Number(r.qs)]);return n}playScene(a,n,r){a.push(this.makeLink(n,r))}makeLink(a,n){const r=this.makeQueryParameters(n==null?void 0:n.sceneIndex,n==null?void 0:n.newPage),s=(n==null?void 0:n.autoPlay)?"&autoplay=true":"",l=(n==null?void 0:n.continue)?"&continue=true":"";return`/scenes/${a}?${r}${s}${l}`}}const uP=({previews:t,config:a,active:n})=>{var r,s,l;const u=Object(d.useRef)(),[o,i]=Object(d.useState)(!1),c=(r=a==null?void 0:a.interface)==null?void 0:r.wallPlayback,g=(l=(s=a==null?void 0:a.interface)==null?void 0:s.soundOnPreview)!=null?l:!1;if(Object(d.useEffect)(()=>{!u.current||(u.current.muted=!(g&&n),c!=="video"&&(n?u.current.play():u.current.pause()))},[u,c,g,n]),!t)return e.a.createElement("div",null);const f=e.a.createElement("img",{alt:"",className:"wall-item-media",src:c==="animation"&&t.animation||t.image}),p=e.a.createElement("video",{disableRemotePlayback:!0,playsInline:!0,src:t.video,poster:t.image,autoPlay:c==="video",loop:!0,muted:!0,className:St()("wall-item-media",{"wall-item-preview":c!=="video"}),onError:_=>{var S;i(((S=_.currentTarget.error)==null?void 0:S.code)===4)},ref:u});return o?t.image?f:e.a.createElement("div",{className:"wall-item-media wall-item-missing"},"Pending preview generation"):c==="video"?p:e.a.createElement(e.a.Fragment,null,f,p)},$l=t=>{var a,n,r,s,l,u,o,i,c,g;const[f,p]=Object(d.useState)(!1),_=Object(d.useRef)(),{configuration:S}=e.a.useContext(Et),v=(a=S==null?void 0:S.interface.wallShowTitle)!=null?a:!0,x=t.sceneMarker?{video:t.sceneMarker.stream,animation:t.sceneMarker.preview,image:t.sceneMarker.screenshot}:t.scene?{video:(r=(n=t.scene)==null?void 0:n.paths.preview)!=null?r:void 0,animation:(l=(s=t.scene)==null?void 0:s.paths.webp)!=null?l:void 0,image:(o=(u=t.scene)==null?void 0:u.paths.screenshot)!=null?o:void 0}:t.image?{image:(c=(i=t.image)==null?void 0:i.paths.thumbnail)!=null?c:void 0}:void 0,w=()=>p(!1),D=I=>{var j;if(I.propertyName==="transform"&&I.elapsedTime===0){const R=(j=getComputedStyle(_.current).transform.match(/-?\d+\.?\d+|\d+/g))==null?void 0:j[0],P=Number.parseFloat(R!=null?R:"2")||2;p(P<=1.1&&!f)}};Object(d.useEffect)(()=>{const{current:I}=_;return I==null||I.addEventListener("transitioncancel",w),I==null||I.addEventListener("transitionstart",D),()=>{I==null||I.removeEventListener("transitioncancel",w),I==null||I.removeEventListener("transitionstart",D)}});const M=()=>{var I,j,R;t.scene&&((I=t==null?void 0:t.clickHandler)==null||I.call(t,t.scene)),t.sceneMarker&&((j=t==null?void 0:t.clickHandler)==null||j.call(t,t.sceneMarker)),t.image&&((R=t==null?void 0:t.clickHandler)==null||R.call(t,t.image))},y=(g=S==null?void 0:S.interface.continuePlaylistDefault)!=null?g:!1;let k="#";t.clickHandler||(t.scene?k=t.sceneQueue?t.sceneQueue.makeLink(t.scene.id,{sceneIndex:t.index,continue:y}):`/scenes/${t.scene.id}`:t.sceneMarker?k=rt.makeSceneMarkerUrl(t.sceneMarker):t.image&&(k=`/images/${t.image.id}`));const F=()=>{var I,j;if(!v)return;const R=t.sceneMarker?`${t.sceneMarker.title} - ${Me.secondsToTimestamp(t.sceneMarker.seconds)}`:(j=(I=t.scene)==null?void 0:I.title)!=null?j:"",P=t.sceneMarker?[t.sceneMarker.primary_tag,...t.sceneMarker.tags]:[];return e.a.createElement("div",{className:"wall-item-text"},e.a.createElement("div",null,R),P.map(z=>e.a.createElement("span",{key:z.id,className:"wall-tag"},z.name)))};return e.a.createElement("div",{className:"wall-item"},e.a.createElement("div",{className:`wall-item-container ${t.className}`,ref:_},e.a.createElement(Le.Link,{onClick:M,to:k,className:"wall-item-anchor"},e.a.createElement(uP,{previews:x,config:S,active:f}),F())))},Gl=(t,a)=>t===0&&a>5?"transform-origin-top-left":t===4&&a>5?"transform-origin-top-right":t<5?"transform-origin-top":a>9&&a%5==0&&t+1===a?"transform-origin-bottom-right":a>9&&a%5==0&&t+5===a?"transform-origin-bottom-left":t%5==4?"transform-origin-right":t%5==0?"transform-origin-left":a-(a%5||5)<=t+1?"transform-origin-bottom":"transform-origin-center",Vl=t=>{var a,n,r;const s=((a=t.scenes)!=null?a:[]).map((o,i,c)=>e.a.createElement($l,{key:o.id,index:i,scene:o,sceneQueue:t.sceneQueue,clickHandler:t.clickHandler,className:Gl(i,c.length)})),l=((n=t.sceneMarkers)!=null?n:[]).map((o,i,c)=>e.a.createElement($l,{key:o.id,sceneMarker:o,clickHandler:t.clickHandler,className:Gl(i,c.length)})),u=((r=t.images)!=null?r:[]).map((o,i,c)=>e.a.createElement($l,{key:o.id,image:o,clickHandler:t.clickHandler,className:Gl(i,c.length)}));return e.a.createElement("div",{className:"row"},e.a.createElement("div",{className:"wall w-100 row justify-content-center"},s,l,u))},dP=t=>{const a=l=>l.map(u=>e.a.createElement(Le.Link,{key:u.id,to:rt.makeTagScenesUrl(u)},e.a.createElement("h6",null,u.name))),n=l=>l.map(u=>e.a.createElement(Le.Link,{key:u.id,to:rt.makePerformerScenesUrl(u)},e.a.createElement("h6",null,u.name))),r=l=>l.movies.map(u=>u.movie?e.a.createElement(Le.Link,{to:rt.makeMovieScenesUrl(u.movie)},e.a.createElement("h6",null,u.movie.name)):void 0),s=(l,u)=>{var o,i,c;const g=t.queue?t.queue.makeLink(l.id,{sceneIndex:u}):`/scenes/${l.id}`;let f=!1;return e.a.createElement("tr",{key:l.id},e.a.createElement("td",null,e.a.createElement(m.a.Control,{type:"checkbox",checked:t.selectedIds.has(l.id),onChange:()=>t.onSelectChange(l.id,!t.selectedIds.has(l.id),f),onClick:p=>{f=p.shiftKey,p.stopPropagation()}})),e.a.createElement("td",null,e.a.createElement(Le.Link,{to:g},e.a.createElement("img",{className:"image-thumbnail",alt:(o=l.title)!=null?o:"",src:(i=l.paths.screenshot)!=null?i:""}))),e.a.createElement("td",{className:"text-left"},e.a.createElement(Le.Link,{to:g},e.a.createElement("h5",null,(c=l.title)!=null?c:Me.fileNameFromPath(l.path)))),e.a.createElement("td",null,l.rating?l.rating:""),e.a.createElement("td",null,l.file.duration&&Me.secondsToTimestamp(l.file.duration)),e.a.createElement("td",null,a(l.tags)),e.a.createElement("td",null,n(l.performers)),e.a.createElement("td",null,l.studio&&e.a.createElement(Le.Link,{to:rt.makeStudioScenesUrl(l.studio)},e.a.createElement("h6",null,l.studio.name))),e.a.createElement("td",null,r(l)),e.a.createElement("td",null,l.gallery&&e.a.createElement(q.a,{className:"minimal"},e.a.createElement(Le.Link,{to:`/galleries/${l.gallery.id}`},e.a.createElement(le,{icon:"image"})))))};return e.a.createElement("div",{className:"row table-list justify-content-center"},e.a.createElement(Ra.a,{striped:!0,bordered:!0},e.a.createElement("thead",null,e.a.createElement("tr",null,e.a.createElement("th",null),e.a.createElement("th",null),e.a.createElement("th",{className:"text-left"},e.a.createElement(b.a,{id:"title"})),e.a.createElement("th",null,e.a.createElement(b.a,{id:"rating"})),e.a.createElement("th",null,e.a.createElement(b.a,{id:"duration"})),e.a.createElement("th",null,e.a.createElement(b.a,{id:"tags"})),e.a.createElement("th",null,e.a.createElement(b.a,{id:"performers"})),e.a.createElement("th",null,e.a.createElement(b.a,{id:"studio"})),e.a.createElement("th",null,e.a.createElement(b.a,{id:"movies"})),e.a.createElement("th",null,e.a.createElement(b.a,{id:"gallery"})))),e.a.createElement("tbody",null,t.scenes.map(s))))};var mP=(t,a,n)=>new Promise((r,s)=>{var l=i=>{try{o(n.next(i))}catch(c){s(c)}},u=i=>{try{o(n.throw(i))}catch(c){s(c)}},o=i=>i.done?r(i.value):Promise.resolve(i.value).then(l,u);o((n=n.apply(t,a)).next())});const zd=t=>{const a=Object(ge.a)(),n=He(),[r,s]=Object(d.useState)(),[l,u]=Object(d.useState)(),[o,i]=e.a.useState(ot.Add),[c,g]=Object(d.useState)(),[f,p]=Object(d.useState)(),[_,S]=e.a.useState(ot.Add),[v,x]=Object(d.useState)(),[w,D]=Object(d.useState)(),[M,y]=e.a.useState(ot.Add),[k,F]=Object(d.useState)(),[I,j]=Object(d.useState)(),[R,P]=Object(d.useState)(),[z]=EE(U()),[L,G]=Object(d.useState)(!1),Y=e.a.createRef();function V(A,T){return{mode:T,ids:A}}function U(){const A=oe(t.selected),T=Q(t.selected),N=J(t.selected),C=re(t.selected),O=Z(t.selected),$={ids:t.selected.map(X=>X.id)};return r===void 0?A&&($.rating=null):$.rating=r,l===void 0?T&&($.studio_id=null):$.studio_id=l,o===ot.Set&&(!c||c.length===0)?N.length>0&&($.performer_ids=V(c||[],o)):$.performer_ids=V(c||[],o),_===ot.Set&&(!v||v.length===0)?C.length>0&&($.tag_ids=V(v||[],_)):$.tag_ids=V(v||[],_),M===ot.Set&&(!k||k.length===0)?O.length>0&&($.movie_ids=V(k||[],M)):$.movie_ids=V(k||[],M),R!==void 0&&($.organized=R),$}function te(){return mP(this,null,function*(){G(!0);try{yield z(),n.success({content:a.formatMessage({id:"toast.updated_entity"},{entity:a.formatMessage({id:"scenes"}).toLocaleLowerCase()})}),t.onClose(!0)}catch(A){n.error(A)}G(!1)})}function oe(A){let T,N=!0;return A.forEach(C=>{var O;N?(T=(O=C.rating)!=null?O:void 0,N=!1):T!==C.rating&&(T=void 0)}),T}function Q(A){let T,N=!0;return A.forEach(C=>{var O,$;if(N)T=(O=C==null?void 0:C.studio)==null?void 0:O.id,N=!1;else{const X=($=C==null?void 0:C.studio)==null?void 0:$.id;T!==X&&(T=void 0)}}),T}function J(A){let T=[],N=!0;return A.forEach(C=>{if(N)T=C.performers?C.performers.map(O=>O.id).sort():[],N=!1;else{const O=C.performers?C.performers.map($=>$.id).sort():[];Re.a.isEqual(T,O)||(T=[])}}),T}function re(A){let T=[],N=!0;return A.forEach(C=>{if(N)T=C.tags?C.tags.map(O=>O.id).sort():[],N=!1;else{const O=C.tags?C.tags.map($=>$.id).sort():[];Re.a.isEqual(T,O)||(T=[])}}),T}function Z(A){let T=[],N=!0;return A.forEach(C=>{if(N)T=C.movies?C.movies.map(O=>O.movie.id).sort():[],N=!1;else{const O=C.movies?C.movies.map($=>$.movie.id).sort():[];Re.a.isEqual(T,O)||(T=[])}}),T}Object(d.useEffect)(()=>{const A=t.selected;let T,N,C=[],O=[],$=[],X,ie=!0;A.forEach(ae=>{var se,ye,Pe,Fe;const ve=ae.rating,Te=(se=ae==null?void 0:ae.studio)==null?void 0:se.id,Ve=((ye=ae.performers)!=null?ye:[]).map(Ne=>Ne.id).sort(),he=((Pe=ae.tags)!=null?Pe:[]).map(Ne=>Ne.id).sort(),be=((Fe=ae.movies)!=null?Fe:[]).map(Ne=>Ne.movie.id).sort();ie?(T=ve!=null?ve:void 0,N=Te,C=Ve,O=he,$=be,ie=!1,X=ae.organized):(ve!==T&&(T=void 0),Te!==N&&(N=void 0),Re.a.isEqual(Ve,C)||(C=[]),Re.a.isEqual(he,O)||(O=[]),Re.a.isEqual(be,$)||($=[]),ae.organized!==X&&(X=void 0))}),s(T),u(N),p(C),D(O),j($),P(X)},[t.selected,o,_,M]),Object(d.useEffect)(()=>{Y.current&&(Y.current.indeterminate=R===void 0)},[R,Y]);function W(A,T){let N=ot.Add,C=[];switch(A){case"performers":N=o,C=f;break;case"tags":N=_,C=w;break;case"movies":N=M,C=I;break}return e.a.createElement(ji,{type:A,disabled:L,onUpdate:O=>{switch(A){case"performers":g(O);break;case"tags":x(O);break;case"movies":F(O);break}},onSetMode:O=>{switch(A){case"performers":i(O);break;case"tags":S(O);break;case"movies":y(O);break}},ids:T!=null?T:[],existingIds:C!=null?C:[],mode:N})}function H(){P(R?void 0:R!==void 0)}function de(){var A,T;return e.a.createElement(it,{show:!0,icon:"pencil-alt",header:a.formatMessage({id:"dialogs.edit_entity_title"},{count:(T=(A=t==null?void 0:t.selected)==null?void 0:A.length)!=null?T:1,singularEntity:a.formatMessage({id:"scene"}),pluralEntity:a.formatMessage({id:"scenes"})}),accept:{onClick:te,text:a.formatMessage({id:"actions.apply"})},cancel:{onClick:()=>t.onClose(!1),text:a.formatMessage({id:"actions.cancel"}),variant:"secondary"},isRunning:L},e.a.createElement(m.a,null,e.a.createElement(m.a.Group,{controlId:"rating",as:xe.a},tt.renderLabel({title:a.formatMessage({id:"rating"})}),e.a.createElement(Se.a,{xs:9},e.a.createElement(Kt,{value:r,onSetRating:N=>s(N),disabled:L}))),e.a.createElement(m.a.Group,{controlId:"studio",as:xe.a},tt.renderLabel({title:a.formatMessage({id:"studio"})}),e.a.createElement(Se.a,{xs:9},e.a.createElement(Ht,{onSelect:N=>{var C;return u(N.length>0?(C=N[0])==null?void 0:C.id:void 0)},ids:l?[l]:[],isDisabled:L}))),e.a.createElement(m.a.Group,{controlId:"performers"},e.a.createElement(m.a.Label,null,e.a.createElement(b.a,{id:"performers"})),W("performers",c)),e.a.createElement(m.a.Group,{controlId:"tags"},e.a.createElement(m.a.Label,null,e.a.createElement(b.a,{id:"tags"})),W("tags",v)),e.a.createElement(m.a.Group,{controlId:"movies"},e.a.createElement(m.a.Label,null,e.a.createElement(b.a,{id:"movies"})),W("movies",k)),e.a.createElement(m.a.Group,{controlId:"organized"},e.a.createElement(m.a.Check,{type:"checkbox",label:a.formatMessage({id:"organized"}),checked:R,ref:Y,onChange:()=>H()}))))}return de()};var gP=(t,a,n)=>new Promise((r,s)=>{var l=i=>{try{o(n.next(i))}catch(c){s(c)}},u=i=>{try{o(n.throw(i))}catch(c){s(c)}},o=i=>i.done?r(i.value):Promise.resolve(i.value).then(l,u);o((n=n.apply(t,a)).next())});const Bl=t=>{var a,n;const r=Object(ge.a)(),s=r.formatMessage({id:"scene"}),l=r.formatMessage({id:"scenes"}),u=r.formatMessage({id:"dialogs.delete_entity_title"},{count:t.selected.length,singularEntity:s,pluralEntity:l}),o=r.formatMessage({id:"toast.delete_entity"},{count:t.selected.length,singularEntity:s,pluralEntity:l}),i=r.formatMessage({id:"dialogs.delete_entity_desc"},{count:t.selected.length,singularEntity:s,pluralEntity:l}),{configuration:c}=e.a.useContext(Et),[g,f]=Object(d.useState)((a=c==null?void 0:c.defaults.deleteFile)!=null?a:!1),[p,_]=Object(d.useState)((n=c==null?void 0:c.defaults.deleteGenerated)!=null?n:!0),S=He(),[v]=kE(D()),[x,w]=Object(d.useState)(!1);function D(){return{ids:t.selected.map(k=>k.id),delete_file:g,delete_generated:p}}function M(){return gP(this,null,function*(){w(!0);try{yield v(),S.success({content:o})}catch(k){S.error(k)}w(!1),t.onClose(!0)})}function y(){if(!!g)return e.a.createElement("div",{className:"delete-dialog alert alert-danger text-break"},e.a.createElement("p",{className:"font-weight-bold"},e.a.createElement(b.a,{values:{count:t.selected.length,singularEntity:r.formatMessage({id:"file"}),pluralEntity:r.formatMessage({id:"files"})},id:"dialogs.delete_alert"})),e.a.createElement("ul",null,t.selected.slice(0,5).map(k=>e.a.createElement("li",{key:k.path},k.path)),t.selected.length>5&&e.a.createElement(b.a,{values:{count:t.selected.length-5,singularEntity:r.formatMessage({id:"file"}),pluralEntity:r.formatMessage({id:"files"})},id:"dialogs.delete_object_overflow"})))}return e.a.createElement(it,{show:!0,icon:"trash-alt",header:u,accept:{variant:"danger",onClick:M,text:r.formatMessage({id:"actions.delete"})},cancel:{onClick:()=>t.onClose(!1),text:r.formatMessage({id:"actions.cancel"}),variant:"secondary"},isRunning:x},e.a.createElement("p",null,i),y(),e.a.createElement(m.a,null,e.a.createElement(m.a.Check,{id:"delete-file",checked:g,label:r.formatMessage({id:"actions.delete_file"}),onChange:()=>f(!g)}),e.a.createElement(m.a.Check,{id:"delete-generated",checked:p,label:r.formatMessage({id:"actions.delete_generated_supporting_files"}),onChange:()=>_(!p)})))};var fP=(t,a,n)=>new Promise((r,s)=>{var l=i=>{try{o(n.next(i))}catch(c){s(c)}},u=i=>{try{o(n.throw(i))}catch(c){s(c)}},o=i=>i.done?r(i.value):Promise.resolve(i.value).then(l,u);o((n=n.apply(t,a)).next())});const qd=t=>{const{configuration:a}=e.a.useContext(Et),[n,r]=Object(d.useState)(!0),[s,l]=Object(d.useState)(!0),[u,o]=Object(d.useState)(!0),[i,c]=Object(d.useState)(!0),[g,f]=Object(d.useState)(!1),[p,_]=Object(d.useState)(!0),[S,v]=Object(d.useState)(!1),[x,w]=Object(d.useState)(0),[D,M]=Object(d.useState)(0),[y,k]=Object(d.useState)(void 0),[F,I]=Object(d.useState)(void 0),[j,R]=Object(d.useState)(Tn.Slow),[P,z]=Object(d.useState)(!1),[L,G]=Object(d.useState)(!1),[Y,V]=Object(d.useState)(!1),U=Object(ge.a)(),te=He();Object(d.useEffect)(()=>{!a||a.general&&(w(a.general.previewSegments),M(a.general.previewSegmentDuration),k(a.general.previewExcludeStart),I(a.general.previewExcludeEnd),R(a.general.previewPreset))},[a]);function oe(){return fP(this,null,function*(){try{yield Kc({sprites:n,phashes:s,previews:u,imagePreviews:u&&S,markers:i,markerImagePreviews:i&&P,markerScreenshots:i&&L,transcodes:g,overwrite:p,sceneIDs:t.selectedIds,previewOptions:{previewPreset:j!=null?j:void 0,previewSegments:x,previewSegmentDuration:D,previewExcludeStart:y,previewExcludeEnd:F}}),te.success({content:"Started generating"})}catch(Q){te.error(Q)}finally{t.onClose()}})}return e.a.createElement(it,{show:!0,icon:"cogs",header:U.formatMessage({id:"actions.generate"}),accept:{onClick:oe,text:U.formatMessage({id:"actions.generate"})},cancel:{onClick:()=>t.onClose(),text:U.formatMessage({id:"actions.cancel"}),variant:"secondary"}},e.a.createElement(m.a,null,e.a.createElement(m.a.Group,null,e.a.createElement(m.a.Check,{id:"preview-task",checked:u,label:U.formatMessage({id:"dialogs.scene_gen.video_previews"}),onChange:()=>o(!u)}),e.a.createElement("div",{className:"d-flex flex-row"},e.a.createElement("div",null,"\u21B3"),e.a.createElement(m.a.Check,{id:"image-preview-task",checked:S,disabled:!u,label:U.formatMessage({id:"dialogs.scene_gen.image_previews"}),onChange:()=>v(!S),className:"ml-2 flex-grow"})),e.a.createElement("div",{className:"my-2"},e.a.createElement(q.a,{onClick:()=>V(!Y),className:"minimal pl-0 no-focus"},e.a.createElement(le,{icon:Y?"chevron-down":"chevron-right"}),e.a.createElement("span",null,U.formatMessage({id:"dialogs.scene_gen.preview_options"}))),e.a.createElement(En.a,{in:Y},e.a.createElement("div",null,e.a.createElement(m.a.Group,{id:"transcode-size"},e.a.createElement("h6",null,U.formatMessage({id:"dialogs.scene_gen.preview_preset_head"})),e.a.createElement(m.a.Control,{className:"w-auto input-control",as:"select",value:j,onChange:Q=>R(Q.currentTarget.value)},Object.keys(Tn).map(Q=>e.a.createElement("option",{value:Q.toLowerCase(),key:Q},Q))),e.a.createElement(m.a.Text,{className:"text-muted"},U.formatMessage({id:"dialogs.scene_gen.preview_preset_desc"}))),e.a.createElement(m.a.Group,{id:"preview-segments"},e.a.createElement("h6",null,U.formatMessage({id:"dialogs.scene_gen.preview_seg_count_head"})),e.a.createElement(m.a.Control,{className:"col col-sm-6 text-input",type:"number",value:x.toString(),onInput:Q=>w(Number.parseInt(Q.currentTarget.value,10))}),e.a.createElement(m.a.Text,{className:"text-muted"},U.formatMessage({id:"dialogs.scene_gen.preview_seg_count_desc"}))),e.a.createElement(m.a.Group,{id:"preview-segment-duration"},e.a.createElement("h6",null,U.formatMessage({id:"dialogs.scene_gen.preview_seg_duration_head"})),e.a.createElement(m.a.Control,{className:"col col-sm-6 text-input",type:"number",value:D.toString(),onInput:Q=>M(Number.parseFloat(Q.currentTarget.value))}),e.a.createElement(m.a.Text,{className:"text-muted"},U.formatMessage({id:"dialogs.scene_gen.preview_seg_duration_desc"}))),e.a.createElement(m.a.Group,{id:"preview-exclude-start"},e.a.createElement("h6",null,U.formatMessage({id:"dialogs.scene_gen.preview_exclude_start_time_head"})),e.a.createElement(m.a.Control,{className:"col col-sm-6 text-input",defaultValue:y,onChange:Q=>k(Q.currentTarget.value)}),e.a.createElement(m.a.Text,{className:"text-muted"},U.formatMessage({id:"dialogs.scene_gen.preview_exclude_start_time_desc"}))),e.a.createElement(m.a.Group,{id:"preview-exclude-start"},e.a.createElement("h6",null,U.formatMessage({id:"dialogs.scene_gen.preview_exclude_end_time_head"})),e.a.createElement(m.a.Control,{className:"col col-sm-6 text-input",defaultValue:F,onChange:Q=>I(Q.currentTarget.value)}),e.a.createElement(m.a.Text,{className:"text-muted"},U.formatMessage({id:"dialogs.scene_gen.preview_exclude_end_time_desc"})))))),e.a.createElement(m.a.Check,{id:"sprite-task",checked:n,label:U.formatMessage({id:"dialogs.scene_gen.sprites"}),onChange:()=>r(!n)}),e.a.createElement(m.a.Check,{id:"marker-task",checked:i,label:U.formatMessage({id:"dialogs.scene_gen.markers"}),onChange:()=>c(!i)}),e.a.createElement("div",{className:"d-flex flex-row"},e.a.createElement("div",null,"\u21B3"),e.a.createElement(m.a.Group,null,e.a.createElement(m.a.Check,{id:"marker-image-preview-task",checked:P,disabled:!i,label:U.formatMessage({id:"dialogs.scene_gen.marker_image_previews"}),onChange:()=>z(!P),className:"ml-2 flex-grow"}),e.a.createElement(m.a.Check,{id:"marker-screenshot-task",checked:L,disabled:!i,label:U.formatMessage({id:"dialogs.scene_gen.marker_screenshots"}),onChange:()=>G(!L),className:"ml-2 flex-grow"}))),e.a.createElement(m.a.Check,{id:"transcode-task",checked:g,label:U.formatMessage({id:"dialogs.scene_gen.transcodes"}),onChange:()=>f(!g)}),e.a.createElement(m.a.Check,{id:"phash-task",checked:s,label:U.formatMessage({id:"dialogs.scene_gen.phash"}),onChange:()=>l(!s)}),e.a.createElement("hr",null),e.a.createElement(m.a.Check,{id:"overwrite",checked:p,label:U.formatMessage({id:"dialogs.scene_gen.overwrite"}),onChange:()=>_(!p)}))))},pP=({scenes:t,queue:a,selectedIds:n,zoomIndex:r,onSelectChange:s})=>e.a.createElement("div",{className:"row justify-content-center"},t.map((l,u)=>e.a.createElement(dd,{key:l.id,scene:l,queue:a,index:u,zoomIndex:r,selecting:n.size>0,selected:n.has(l.id),onSelectedChanged:(o,i)=>s(l.id,o,i)}))),$d=({currentDirectory:t,setCurrentDirectory:a,defaultDirectories:n,appendButton:r})=>{var s,l,u;const[o,i]=Object(d.useState)(t),{data:c,error:g,loading:f}=pE(o),p=t?(l=(s=c==null?void 0:c.directory.directories)!=null?s:n)!=null?l:[]:n!=null?n:[],_=Object(d.useMemo)(()=>Object(ia.debounce)(D=>{i(D)},250),[]);Object(d.useEffect)(()=>{t===""&&!n&&(c==null?void 0:c.directory.path)&&a(c.directory.path)},[t,a,c,n]);function S(D){a(D),i(D)}function v(D){a(D),_(D)}function x(){(n==null?void 0:n.includes(t))?S(""):(c==null?void 0:c.directory.parent)&&S(c.directory.parent)}const w=t&&((u=c==null?void 0:c.directory)==null?void 0:u.parent)?e.a.createElement("li",{className:"folder-list-parent folder-list-item"},e.a.createElement(q.a,{variant:"link",onClick:()=>x()},e.a.createElement(b.a,{defaultMessage:"Up a directory",id:"up-dir"}))):null;return e.a.createElement(e.a.Fragment,null,g?e.a.createElement("h1",null,g.message):"",e.a.createElement(Ze.a,null,e.a.createElement(m.a.Control,{placeholder:"File path",onChange:D=>{v(D.currentTarget.value)},value:t,spellCheck:!1}),r?e.a.createElement(Ze.a.Append,null,r):void 0,!c||!c.directory||f?e.a.createElement(Ze.a.Append,null,e.a.createElement($e,{inline:!0,small:!0,message:""})):void 0),e.a.createElement("ul",{className:"folder-list"},w,p.map(D=>e.a.createElement("li",{key:D,className:"folder-list-item"},e.a.createElement(q.a,{variant:"link",onClick:()=>S(D)},D)))))},Ul=({animation:t,allowEmpty:a=!1,initialPaths:n=[],onClose:r})=>{const s=Object(ge.a)(),{configuration:l}=e.a.useContext(Et),u=l==null?void 0:l.general.stashes.map(_=>_.path),[o,i]=Object(d.useState)(n),[c,g]=Object(d.useState)("");function f(_){i(o.filter(S=>S!==_))}function p(_){_&&!o.includes(_)&&i(o.concat(_))}return e.a.createElement(it,{show:!0,modalProps:{animation:t},disabled:!a&&o.length===0,icon:"pencil-alt",header:s.formatMessage({id:"actions.select_folders"}),accept:{onClick:()=>{r(o)},text:s.formatMessage({id:"actions.confirm"})},cancel:{onClick:()=>r(),text:s.formatMessage({id:"actions.cancel"}),variant:"secondary"}},e.a.createElement("div",{className:"dialog-container"},o.map(_=>e.a.createElement(xe.a,{className:"align-items-center mb-1",key:_},e.a.createElement(m.a.Label,{column:!0,xs:10},_),e.a.createElement(Se.a,{xs:2,className:"d-flex justify-content-end"},e.a.createElement(q.a,{className:"ml-auto",size:"sm",variant:"danger",title:s.formatMessage({id:"actions.delete"}),onClick:()=>f(_)},e.a.createElement(le,{icon:"minus"}))))),e.a.createElement($d,{currentDirectory:c,setCurrentDirectory:_=>g(_),defaultDirectories:u,appendButton:e.a.createElement(q.a,{variant:"secondary",onClick:()=>p(c)},e.a.createElement(le,{icon:"plus"}))})))},_P=["title","date","details","url","studio","performers","tags","stash_ids"],hP=["studio","performers","tags"],Vi=({id:t,value:a,setValue:n,allowUndefined:r=!0,label:s,disabled:l,defaultValue:u})=>{const o=Object(ge.a)();if(!r)return e.a.createElement(m.a.Check,{id:t,disabled:l,checked:a,label:s,onChange:()=>n(!a)});function i(f){return f?o.formatMessage({id:"true"}):o.formatMessage({id:"false"})}function c(f){if(f===void 0){const p=u!==void 0?e.a.createElement("span",{className:"default-value"}," ","(",i(u),")"):"";return e.a.createElement("span",null,o.formatMessage({id:"actions.use_default"}),p)}return i(f)}function g(f){return e.a.createElement(m.a.Check,{type:"radio",id:`${t}-value-${f!=null?f:"undefined"}`,checked:a===f,onChange:()=>n(f),disabled:l,label:c(f)})}return e.a.createElement(m.a.Group,null,e.a.createElement("h6",null,s),e.a.createElement(m.a.Group,null,g(void 0),g(!1),g(!0)))};var vP=Object.defineProperty,EP=Object.defineProperties,yP=Object.getOwnPropertyDescriptors,Gd=Object.getOwnPropertySymbols,bP=Object.prototype.hasOwnProperty,SP=Object.prototype.propertyIsEnumerable,Vd=(t,a,n)=>a in t?vP(t,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[a]=n,Bi=(t,a)=>{for(var n in a||(a={}))bP.call(a,n)&&Vd(t,n,a[n]);if(Gd)for(var n of Gd(a))SP.call(a,n)&&Vd(t,n,a[n]);return t},Ui=(t,a)=>EP(t,yP(a));const wP=({options:t,field:a,editField:n,editOptions:r,editing:s,allowSetDefault:l,defaultOptions:u})=>{const o=Object(ge.a)(),[i,c]=Object(d.useState)(),g=Object(d.useCallback)(()=>{let v;t?v={field:a,strategy:t.strategy,createMissing:t.createMissing}:v={field:a,strategy:void 0,createMissing:void 0},c(v)},[t,a]);Object(d.useEffect)(()=>{g()},[g]);function f(){return o.formatMessage({id:a})}function p(){if(!i)return;const v=Object.entries(jn);let{strategy:x}=i;if(x===void 0&&(l||(x=jn.Merge)),!s){if(x===void 0)return o.formatMessage({id:"actions.use_default"});const w=v.find(D=>D[1]===x);return o.formatMessage({id:`actions.${w[0].toLowerCase()}`})}return i?e.a.createElement(m.a.Group,null,l?e.a.createElement(m.a.Check,{type:"radio",id:`${a}-strategy-default`,checked:i.strategy===void 0,onChange:()=>c(Ui(Bi({},i),{strategy:void 0})),disabled:!s,label:o.formatMessage({id:"actions.use_default"})}):void 0,v.map(w=>e.a.createElement(m.a.Check,{type:"radio",key:w[0],id:`${a}-strategy-${w[0]}`,checked:i.strategy===w[1],onChange:()=>c(Ui(Bi({},i),{strategy:w[1]})),disabled:!s,label:o.formatMessage({id:`actions.${w[0].toLowerCase()}`})}))):e.a.createElement(e.a.Fragment,null)}function _(){var v,x;if(!!i&&hP.includes(i.field)&&i.strategy!==jn.Ignore){const w=i.createMissing===null?void 0:i.createMissing;if(!s)return w===void 0&&l?o.formatMessage({id:"actions.use_default"}):w?e.a.createElement(le,{icon:"check",className:"text-success"}):e.a.createElement(le,{icon:"times",className:"text-danger"});const D=(x=(v=u==null?void 0:u.fieldOptions)==null?void 0:v.find(M=>M.field===i.field))==null?void 0:x.createMissing;return i.strategy===void 0?void 0:e.a.createElement(Vi,{id:"create-missing",disabled:!s,allowUndefined:l,value:w,setValue:M=>c(Ui(Bi({},i),{createMissing:M})),defaultValue:D!=null?D:void 0})}}function S(){if(!!i)if(i.strategy===void 0)r(null),g();else{let{createMissing:v}=i;v===void 0&&!l&&(v=!1),r(Ui(Bi({},i),{strategy:i.strategy,createMissing:v}))}}return e.a.createElement("tr",null,e.a.createElement("td",null,f()),e.a.createElement("td",null,p()),e.a.createElement("td",null,_()),e.a.createElement("td",{className:"text-right"},s?e.a.createElement(e.a.Fragment,null,e.a.createElement(q.a,{className:"minimal text-success",onClick:()=>S()},e.a.createElement(le,{icon:"check"})),e.a.createElement(q.a,{className:"minimal text-danger",onClick:()=>{r(),g()}},e.a.createElement(le,{icon:"times"}))):e.a.createElement(e.a.Fragment,null,e.a.createElement(q.a,{className:"minimal",onClick:()=>n()},e.a.createElement(le,{icon:"pencil-alt"})))))},kP=({fieldOptions:t,setFieldOptions:a,setEditingField:n,allowSetDefault:r=!0,defaultOptions:s})=>{const[l,u]=Object(d.useState)(),[o,i]=Object(d.useState)();Object(d.useEffect)(()=>{u(t?[...t]:[])},[t]);function c(f){if(!!l){if(f!==void 0){const p=[...l],_=p.findIndex(S=>S.field===o);_!==-1?f===null?p.splice(_,1):p.splice(_,1,f):f!==null&&p.push(f),a(p)}i(void 0),n(!1)}}function g(f){i(f),n(!0)}return l?e.a.createElement(m.a.Group,{className:"scraper-sources"},e.a.createElement("h5",null,e.a.createElement(b.a,{id:"config.tasks.identify.field_options"})),e.a.createElement(Ra.a,{responsive:!0,className:"field-options-table"},e.a.createElement("thead",null,e.a.createElement("tr",null,e.a.createElement("th",{className:"w-25"},e.a.createElement(b.a,{id:"config.tasks.identify.field"})),e.a.createElement("th",{className:"w-25"},e.a.createElement(b.a,{id:"config.tasks.identify.strategy"})),e.a.createElement("th",{className:"w-25"},e.a.createElement(b.a,{id:"config.tasks.identify.create_missing"})),e.a.createElement("th",{className:"w-25"}))),e.a.createElement("tbody",null,_P.map(f=>e.a.createElement(wP,{key:f,field:f,allowSetDefault:r,options:l.find(p=>p.field===f),editField:()=>g(f),editOptions:c,editing:f===o,defaultOptions:s}))))):e.a.createElement(e.a.Fragment,null)};var xP=Object.defineProperty,Bd=Object.getOwnPropertySymbols,PP=Object.prototype.hasOwnProperty,CP=Object.prototype.propertyIsEnumerable,Ud=(t,a,n)=>a in t?xP(t,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[a]=n,Or=(t,a)=>{for(var n in a||(a={}))PP.call(a,n)&&Ud(t,n,a[n]);if(Bd)for(var n of Bd(a))CP.call(a,n)&&Ud(t,n,a[n]);return t};const Qd=({options:t,setOptions:a,source:n,setEditingField:r,defaultOptions:s})=>{var l,u,o,i;const c=Object(ge.a)();function g(_){a(Or(Or({},t),_))}const f=n?"config.tasks.identify.source_options":"config.tasks.identify.default_options",p={allowUndefined:!!n,indeterminateClassname:"text-muted"};return e.a.createElement(m.a.Group,null,e.a.createElement(m.a.Group,null,e.a.createElement("h5",null,e.a.createElement(b.a,{id:f,values:{source:n==null?void 0:n.displayName}})),!n&&e.a.createElement(m.a.Text,{className:"text-muted"},c.formatMessage({id:"config.tasks.identify.explicit_set_description"}))),e.a.createElement(m.a.Group,null,e.a.createElement(Vi,Or({id:"include-male-performers",value:t.includeMalePerformers===null?void 0:t.includeMalePerformers,setValue:_=>g({includeMalePerformers:_}),label:c.formatMessage({id:"config.tasks.identify.include_male_performers"}),defaultValue:(l=s==null?void 0:s.includeMalePerformers)!=null?l:void 0},p)),e.a.createElement(Vi,Or({id:"set-cover-image",value:t.setCoverImage===null?void 0:t.setCoverImage,setValue:_=>g({setCoverImage:_}),label:c.formatMessage({id:"config.tasks.identify.set_cover_images"}),defaultValue:(u=s==null?void 0:s.setCoverImage)!=null?u:void 0},p)),e.a.createElement(Vi,Or({id:"set-organized",value:t.setOrganized===null?void 0:t.setOrganized,setValue:_=>g({setOrganized:_}),label:c.formatMessage({id:"config.tasks.identify.set_organized"}),defaultValue:(o=s==null?void 0:s.setOrganized)!=null?o:void 0},p))),e.a.createElement(kP,{fieldOptions:(i=t.fieldOptions)!=null?i:void 0,setFieldOptions:_=>g({fieldOptions:_}),setEditingField:r,allowSetDefault:!!n,defaultOptions:s}))};var Hd=ne(889),MP=Object.defineProperty,OP=Object.defineProperties,NP=Object.getOwnPropertyDescriptors,Wd=Object.getOwnPropertySymbols,IP=Object.prototype.hasOwnProperty,DP=Object.prototype.propertyIsEnumerable,Kd=(t,a,n)=>a in t?MP(t,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[a]=n,Yd=(t,a)=>{for(var n in a||(a={}))IP.call(a,n)&&Kd(t,n,a[n]);if(Wd)for(var n of Wd(a))DP.call(a,n)&&Kd(t,n,a[n]);return t},Jd=(t,a)=>OP(t,NP(a));const TP=({isNew:t,availableSources:a,source:n,saveSource:r,defaultOptions:s})=>{var l;const[u,o]=Object(d.useState)(n),[i,c]=Object(d.useState)(!1),g=Object(ge.a)(),f=t?"actions.add":"dialogs.edit_entity_title",p=t?"actions.add":"actions.confirm";function _(S){const v=a.find(x=>x.id===S.currentTarget.value);!v||o(Jd(Yd({},u),{id:v.id,displayName:v.displayName,scraper_id:v.scraper_id,stash_box_endpoint:v.stash_box_endpoint}))}return e.a.createElement(it,{dialogClassName:"identify-source-editor",modalProps:{animation:!1,size:"lg"},show:!0,icon:t?"plus":"pencil-alt",header:g.formatMessage({id:f},{count:1,singularEntity:u==null?void 0:u.displayName,pluralEntity:u==null?void 0:u.displayName}),accept:{onClick:()=>r(u),text:g.formatMessage({id:p})},cancel:{onClick:()=>r(),text:g.formatMessage({id:"actions.cancel"}),variant:"secondary"},disabled:!u.scraper_id&&!u.stash_box_endpoint||i},e.a.createElement(m.a,null,t&&e.a.createElement(m.a.Group,null,e.a.createElement("h5",null,e.a.createElement(b.a,{id:"config.tasks.identify.source"})),e.a.createElement(m.a.Control,{as:"select",value:u.id,className:"input-control",onChange:_},a.map(S=>e.a.createElement("option",{value:S.id,key:S.id},S.displayName)))),e.a.createElement(Qd,{options:(l=u.options)!=null?l:{},setOptions:S=>o(Jd(Yd({},u),{options:S})),source:u,setEditingField:S=>c(S),defaultOptions:s})))},FP=({sources:t,setSources:a,editSource:n,canAdd:r})=>{const[s,l]=Object(d.useState)(t),[u,o]=Object(d.useState)(),[i,c]=Object(d.useState)();Object(d.useEffect)(()=>{l([...t])},[t]);function g(v){const x=[...t];x.splice(v,1),a(x)}function f(v,x){v.dataTransfer.effectAllowed="move",o(x)}function p(v,x){if(u!==void 0&&x!==void 0&&x!==u){const w=[...s],D=w.splice(u,1);w.splice(x,0,D[0]),l(w),o(x)}v.dataTransfer.dropEffect="move",v.preventDefault()}function _(v){v.dataTransfer.dropEffect="move",v.preventDefault()}function S(){a(s),o(void 0),c(void 0)}return e.a.createElement(m.a.Group,{className:"scraper-sources",onDragOver:_},e.a.createElement("h5",null,e.a.createElement(b.a,{id:"config.tasks.identify.sources"})),e.a.createElement(Hd.a,{as:"ul",className:"scraper-source-list"},s.map((v,x)=>e.a.createElement(Hd.a.Item,{as:"li",key:v.id,className:"d-flex justify-content-between align-items-center",draggable:i===x,onDragStart:w=>f(w,x),onDragEnter:w=>p(w,x),onDrop:()=>S()},e.a.createElement("div",null,e.a.createElement("div",{className:"minimal text-muted drag-handle",onMouseEnter:()=>c(x),onMouseLeave:()=>c(void 0)},e.a.createElement(le,{icon:"grip-vertical"})),v.displayName),e.a.createElement("div",null,e.a.createElement(q.a,{className:"minimal",onClick:()=>n(v)},e.a.createElement(le,{icon:"cog"})),e.a.createElement(q.a,{className:"minimal text-danger",onClick:()=>g(x)},e.a.createElement(le,{icon:"minus"})))))),r&&e.a.createElement("div",{className:"text-right"},e.a.createElement(q.a,{className:"minimal add-scraper-source-button",onClick:()=>n()},e.a.createElement(le,{icon:"plus"}))))};var jP=Object.defineProperty,Qi=Object.getOwnPropertySymbols,Xd=Object.prototype.hasOwnProperty,Zd=Object.prototype.propertyIsEnumerable,em=(t,a,n)=>a in t?jP(t,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[a]=n,tm=(t,a)=>{for(var n in a||(a={}))Xd.call(a,n)&&em(t,n,a[n]);if(Qi)for(var n of Qi(a))Zd.call(a,n)&&em(t,n,a[n]);return t},LP=(t,a)=>{var n={};for(var r in t)Xd.call(t,r)&&a.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Qi)for(var r of Qi(t))a.indexOf(r)<0&&Zd.call(t,r)&&(n[r]=t[r]);return n},am=(t,a,n)=>new Promise((r,s)=>{var l=i=>{try{o(n.next(i))}catch(c){s(c)}},u=i=>{try{o(n.throw(i))}catch(c){s(c)}},o=i=>i.done?r(i.value):Promise.resolve(i.value).then(l,u);o((n=n.apply(t,a)).next())});const AP="builtin_autotag",nm=({selectedIds:t,onClose:a})=>{function n(){return{fieldOptions:[{field:"title",strategy:jn.Overwrite}],includeMalePerformers:!0,setCoverImage:!0,setOrganized:!1}}const[r]=Bc(),[s,l]=Object(d.useState)(n()),[u,o]=Object(d.useState)([]),[i,c]=Object(d.useState)(),[g,f]=Object(d.useState)([]),[p,_]=Object(d.useState)(!1),[S,v]=Object(d.useState)(!1),[x,w]=Object(d.useState)(!0),[D,M]=Object(d.useState)(!1),[y,k]=Object(d.useState)(!1),F=Object(ge.a)(),I=He(),{data:j,error:R}=Vn(),{data:P,error:z}=ui(),L=Object(d.useMemo)(()=>{if(!j||!P)return;const W=[];W.push(...j.configuration.general.stashBoxes.map((A,T)=>({id:`${kd}${T}`,displayName:`stash-box: ${A.name}`,stash_box_endpoint:A.endpoint})));const de=P.listSceneScrapers.filter(A=>{var T;return(T=A.scene)==null?void 0:T.supported_scrapes.includes(Rt.Fragment)});return W.push(...de.map(A=>({id:`${jl}${A.id}`,displayName:A.name,scraper_id:A.id}))),W},[j,P]),G=Object(d.useMemo)(()=>{if(t)return e.a.createElement(m.a.Group,{id:"selected-identify-ids"},e.a.createElement(b.a,{id:"config.tasks.identify.identifying_scenes",values:{num:t.length,scene:F.formatMessage({id:"countables.scenes"},{count:t.length})}}),".");const W=g.length?e.a.createElement("div",null,e.a.createElement(b.a,{id:"config.tasks.identify.identifying_from_paths"}),":",e.a.createElement("ul",null,g.map(de=>e.a.createElement("li",{key:de},de)))):e.a.createElement("span",null,e.a.createElement(b.a,{id:"config.tasks.identify.identifying_scenes",values:{num:F.formatMessage({id:"all"}),scene:F.formatMessage({id:"countables.scenes"},{count:0})}}),".");function H(){w(!1),v(!0)}return e.a.createElement(m.a.Group,{id:"selected-identify-folders"},e.a.createElement("div",null,W,e.a.createElement("div",null,e.a.createElement(q.a,{title:F.formatMessage({id:"actions.select_folders"}),onClick:()=>H()},e.a.createElement(le,{icon:"folder-open"})))))},[t,F,g]);if(Object(d.useEffect)(()=>{var W;if(!j||!L)return;const{identify:H}=j.configuration.defaults;if(H){const de=H.sources.map(A=>{var T;const N=L.find(O=>O.scraper_id===A.source.scraper_id||O.stash_box_endpoint===A.source.stash_box_endpoint);if(!N)return;const C=tm({},N);if(A.options){const O=cn(A.options);O.fieldOptions=(T=O.fieldOptions)==null?void 0:T.map(cn),C.options=O}return C}).filter(A=>A);if(o(de),H.options){const A=cn(H.options);A.fieldOptions=(W=A.fieldOptions)==null?void 0:W.map(cn),l(A)}}else{const de=L.find(N=>N.stash_box_endpoint),A=L.find(N=>N.id===`${jl}${AP}`),T=[];if(de&&T.push(de),A){const N=tm({},A);N.options={setOrganized:!1},T.push(N)}o(T)}},[L,j]),R||z)return e.a.createElement("div",null,R!=null?R:z);if(!L||!j)return e.a.createElement("div",null);function Y(){return{sources:u.map(W=>({source:{scraper_id:W.scraper_id,stash_box_endpoint:W.stash_box_endpoint},options:W.options})),options:s,sceneIDs:t,paths:g}}function V(){const H=Y(),{sceneIDs:de,paths:A}=H;return LP(H,["sceneIDs","paths"])}function U(){return am(this,null,function*(){try{yield hy(Y()),I.success({content:F.formatMessage({id:"config.tasks.added_job_to_queue"},{operation_name:F.formatMessage({id:"actions.identify"})})})}catch(W){I.error(W)}finally{a()}})}function te(){var W;return!(i==null?void 0:i.id)===void 0?[]:(W=L==null?void 0:L.filter(H=>!u.some(de=>de.id===H.id)))!=null?W:[]}function oe(W){w(!1),c(W||te()[0])}function Q(){w(!1),_(!0)}function J(){return!!i&&!u.includes(i)}function re(W){if(W){let H=!1;const de=u.map(A=>A.id===W.id?(H=!0,W):A);H||de.push(W),o(de)}c(void 0)}function Z(){return am(this,null,function*(){try{k(!0),yield r({variables:{input:{identify:V()}}})}catch(W){I.error(W)}finally{k(!1)}})}return i?e.a.createElement(TP,{availableSources:te(),source:i,saveSource:re,isNew:J(),defaultOptions:s}):S?e.a.createElement(Ul,{animation:!1,allowEmpty:!0,initialPaths:g,onClose:W=>{W&&f(W),v(!1)}}):p?e.a.createElement(Dl,{animation:!1,show:!0,onClose:()=>_(!1),defaultActiveTab:"Identify.md"}):e.a.createElement(it,{modalProps:{animation:x,size:"lg"},show:!0,icon:"cogs",header:F.formatMessage({id:"actions.identify"}),accept:{onClick:U,text:F.formatMessage({id:"actions.identify"})},cancel:{onClick:()=>a(),text:F.formatMessage({id:"actions.cancel"}),variant:"secondary"},disabled:D||y||u.length===0,footerButtons:e.a.createElement(q.a,{variant:"secondary",disabled:D||y,onClick:()=>Z()},y&&e.a.createElement(nn.a,{animation:"border",role:"status",size:"sm"}),e.a.createElement(b.a,{id:"actions.set_as_default"})),leftFooterButtons:e.a.createElement(q.a,{title:"Help",className:"minimal help-button",onClick:()=>Q()},e.a.createElement(le,{icon:"question-circle"}))},e.a.createElement(m.a,null,G,e.a.createElement(FP,{sources:u,setSources:W=>o(W),editSource:oe,canAdd:u.length<L.length}),e.a.createElement(Qd,{options:s,setOptions:W=>l(W),setEditingField:W=>M(W)})))};var RP=nm,Zn=(t,a,n)=>new Promise((r,s)=>{var l=i=>{try{o(n.next(i))}catch(c){s(c)}},u=i=>{try{o(n.throw(i))}catch(c){s(c)}},o=i=>i.done?r(i.value):Promise.resolve(i.value).then(l,u);o((n=n.apply(t,a)).next())});const Nr=({filterHook:t,defaultSort:a,persistState:n})=>{const r=Object(ge.a)(),s=Object(ke.k)(),l=e.a.useContext(Et),[u,o]=Object(d.useState)(!1),[i,c]=Object(d.useState)(!1),[g,f]=Object(d.useState)(!1),[p,_]=Object(d.useState)(!1),S=[{text:r.formatMessage({id:"actions.play_selected"}),onClick:D,isDisplayed:fa,icon:"play"},{text:r.formatMessage({id:"actions.play_random"}),onClick:M},{text:`${r.formatMessage({id:"actions.generate"})}\u2026`,onClick:y,isDisplayed:fa},{text:`${r.formatMessage({id:"actions.identify"})}\u2026`,onClick:k,isDisplayed:fa},{text:r.formatMessage({id:"actions.export"}),onClick:F,isDisplayed:fa},{text:r.formatMessage({id:"actions.export_all"}),onClick:I}],w=zS({zoomable:!0,selectable:!0,otherOperations:S,defaultSort:a,renderContent:G,renderEditDialog:z,renderDeleteDialog:(Y,V)=>e.a.createElement(Bl,{selected:Y,onClose:V}),filterHook:t,addKeybinds:(Y,V)=>(B.a.bind("p r",()=>{M(Y,V)}),()=>{B.a.unbind("p r")}),persistState:n});function D(Y,V,U){return Zn(this,null,function*(){var te,oe,Q,J;const re=Array.from(U.values()),Z=qa.fromSceneIDList(re),W=(oe=(te=l.configuration)==null?void 0:te.interface.autostartVideoOnPlaySelected)!=null?oe:!1,H=(J=(Q=l.configuration)==null?void 0:Q.interface.continuePlaylistDefault)!=null?J:!1;Z.playScene(s,re[0],{autoPlay:W,continue:H})})}function M(Y,V){return Zn(this,null,function*(){var U,te,oe,Q;if(Y.data&&Y.data.findScenes){const{count:J}=Y.data.findScenes,re=Math.ceil(J/V.itemsPerPage),Z=Math.floor(Math.random()*re)+1,W=V.itemsPerPage<J?V.itemsPerPage:J,H=Math.floor(Math.random()*W),de=Re.a.cloneDeep(V);de.currentPage=Z,de.sortBy="random";const A=yield hr(de);if(A.data.findScenes.scenes.length>H){const{id:T}=A.data.findScenes.scenes[H],N=qa.fromListFilterModel(de),C=(te=(U=l.configuration)==null?void 0:U.interface.autostartVideoOnPlaySelected)!=null?te:!1,O=(Q=(oe=l.configuration)==null?void 0:oe.interface.continuePlaylistDefault)!=null?Q:!1;N.playScene(s,T,{sceneIndex:H,autoPlay:C,continue:O})}}})}function y(){return Zn(this,null,function*(){o(!0)})}function k(){return Zn(this,null,function*(){c(!0)})}function F(){return Zn(this,null,function*(){_(!1),f(!0)})}function I(){return Zn(this,null,function*(){_(!0),f(!0)})}function j(Y){if(u)return e.a.createElement(e.a.Fragment,null,e.a.createElement(qd,{selectedIds:Array.from(Y.values()),onClose:()=>{o(!1)}}))}function R(Y){if(i)return e.a.createElement(e.a.Fragment,null,e.a.createElement(nm,{selectedIds:Array.from(Y.values()),onClose:()=>{c(!1)}}))}function P(Y){if(g)return e.a.createElement(e.a.Fragment,null,e.a.createElement(Sn,{exportInput:{scenes:{ids:Array.from(Y.values()),all:p}},onClose:()=>{f(!1)}}))}function z(Y,V){return e.a.createElement(e.a.Fragment,null,e.a.createElement(zd,{selected:Y,onClose:V}))}function L(Y,V,U){if(!Y.data||!Y.data.findScenes)return;const te=qa.fromListFilterModel(V);if(V.displayMode===Ge.Grid)return e.a.createElement(pP,{scenes:Y.data.findScenes.scenes,queue:te,zoomIndex:V.zoomIndex,selectedIds:U,onSelectChange:(oe,Q,J)=>w.onSelectChange(oe,Q,J)});if(V.displayMode===Ge.List)return e.a.createElement(dP,{scenes:Y.data.findScenes.scenes,queue:te,selectedIds:U,onSelectChange:(oe,Q,J)=>w.onSelectChange(oe,Q,J)});if(V.displayMode===Ge.Wall)return e.a.createElement(Vl,{scenes:Y.data.findScenes.scenes,sceneQueue:te});if(V.displayMode===Ge.Tagger)return e.a.createElement(cP,{scenes:Y.data.findScenes.scenes,queue:te})}function G(Y,V,U){return e.a.createElement(e.a.Fragment,null,j(U),R(U),P(U),L(Y,V,U))}return e.a.createElement(kx,null,w.template)},zP=({performer:t})=>e.a.createElement(Nr,{filterHook:Di(t)}),qP=({performer:t})=>e.a.createElement(Ai,{filterHook:Di(t)});var $P=Object.defineProperty,rm=Object.getOwnPropertySymbols,GP=Object.prototype.hasOwnProperty,VP=Object.prototype.propertyIsEnumerable,im=(t,a,n)=>a in t?$P(t,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[a]=n,sm=(t,a)=>{for(var n in a||(a={}))GP.call(a,n)&&im(t,n,a[n]);if(rm)for(var n of rm(a))VP.call(a,n)&&im(t,n,a[n]);return t},BP=(t,a,n)=>new Promise((r,s)=>{var l=i=>{try{o(n.next(i))}catch(c){s(c)}},u=i=>{try{o(n.throw(i))}catch(c){s(c)}},o=i=>i.done?r(i.value):Promise.resolve(i.value).then(l,u);o((n=n.apply(t,a)).next())});const Hi=Object(ct.c)({deleteHeader:{id:"dialogs.delete_object_title"},deleteToast:{id:"toast.delete_past_tense"},deleteMessage:{id:"dialogs.delete_object_desc"},overflowMessage:{id:"dialogs.delete_object_overflow"}});var Wi=({selected:t,onClose:a,singularEntity:n,pluralEntity:r,destroyMutation:s,onDeleted:l})=>{const u=Object(ge.a)(),o=He(),[i]=s({ids:t.map(_=>_.id)}),c=t.length,[g,f]=Object(d.useState)(!1);function p(){return BP(this,null,function*(){f(!0);try{yield i(),l&&l(),o.success({content:u.formatMessage(Hi.deleteToast,{count:c,singularEntity:n,pluralEntity:r})})}catch(_){o.error(_)}f(!1),a(!0)})}return e.a.createElement(it,{show:!0,icon:"trash-alt",header:u.formatMessage(Hi.deleteHeader,{count:c,singularEntity:n,pluralEntity:r}),accept:{variant:"danger",onClick:p,text:u.formatMessage({id:"actions.delete"})},cancel:{onClick:()=>a(!1),text:u.formatMessage({id:"actions.cancel"}),variant:"secondary"},isRunning:g},e.a.createElement("p",null,e.a.createElement(b.a,sm({values:{count:c,singularEntity:n,pluralEntity:r}},Hi.deleteMessage))),e.a.createElement("ul",null,t.slice(0,10).map(_=>e.a.createElement("li",{key:_.name},_.name)),t.length>10&&e.a.createElement(b.a,sm({values:{count:t.length-10,singularEntity:n,pluralEntity:r}},Hi.overflowMessage))))};const lm=t=>{var a,n;function r(){if(!!t.sceneIndex)return e.a.createElement(e.a.Fragment,null,e.a.createElement("hr",null),e.a.createElement("span",{className:"movie-scene-number"},e.a.createElement(b.a,{id:"scene"})," #",t.sceneIndex))}function s(){if(t.movie.scenes.length===0)return;const u=t.movie.scenes.map(o=>e.a.createElement(xt,{key:o.id,scene:o}));return e.a.createElement(Gt,{className:"scene-count",placement:"bottom",content:u},e.a.createElement(q.a,{className:"minimal"},e.a.createElement(le,{icon:"play-circle"}),e.a.createElement("span",null,t.movie.scenes.length)))}function l(){if(t.sceneIndex||t.movie.scenes.length>0)return e.a.createElement(e.a.Fragment,null,r(),e.a.createElement("hr",null),e.a.createElement(yt.a,{className:"card-popovers"},s()))}return e.a.createElement(bn,{className:"movie-card",url:`/movies/${t.movie.id}`,title:t.movie.name,linkClassName:"movie-card-header",image:e.a.createElement(e.a.Fragment,null,e.a.createElement("img",{className:"movie-card-image",alt:(a=t.movie.name)!=null?a:"",src:(n=t.movie.front_image_path)!=null?n:""}),e.a.createElement(Pr,{rating:t.movie.rating})),details:e.a.createElement(e.a.Fragment,null,e.a.createElement("span",null,t.movie.date),e.a.createElement("p",null,e.a.createElement(Mt,{text:t.movie.synopsis,lineCount:3}))),selected:t.selected,selecting:t.selecting,onSelectedChanged:t.onSelectedChanged,popovers:l()})};var Ql=(t,a,n)=>new Promise((r,s)=>{var l=i=>{try{o(n.next(i))}catch(c){s(c)}},u=i=>{try{o(n.throw(i))}catch(c){s(c)}},o=i=>i.done?r(i.value):Promise.resolve(i.value).then(l,u);o((n=n.apply(t,a)).next())});const Hl=({filterHook:t})=>{const a=Object(ge.a)(),n=Object(ke.k)(),[r,s]=Object(d.useState)(!1),[l,u]=Object(d.useState)(!1),o=[{text:a.formatMessage({id:"actions.view_random"}),onClick:f},{text:a.formatMessage({id:"actions.export"}),onClick:p,isDisplayed:fa},{text:a.formatMessage({id:"actions.export_all"}),onClick:_}],i=(x,w)=>(B.a.bind("p r",()=>{f(x,w)}),()=>{B.a.unbind("p r")}),c=(x,w)=>e.a.createElement(Wi,{selected:x,onClose:w,singularEntity:a.formatMessage({id:"movie"}),pluralEntity:a.formatMessage({id:"movies"}),destroyMutation:qE}),g=US({renderContent:v,addKeybinds:i,otherOperations:o,selectable:!0,persistState:ca.ALL,renderDeleteDialog:c,filterHook:t});function f(x,w){return Ql(this,null,function*(){if(x.data&&x.data.findMovies){const{count:D}=x.data.findMovies,M=Math.floor(Math.random()*D),y=Re.a.cloneDeep(w);y.itemsPerPage=1,y.currentPage=M+1;const k=yield Vv(y);if(k&&k.data&&k.data.findMovies&&k.data.findMovies.movies.length===1){const{id:F}=k.data.findMovies.movies[0];n.push(`/movies/${F}`)}}})}function p(){return Ql(this,null,function*(){u(!1),s(!0)})}function _(){return Ql(this,null,function*(){u(!0),s(!0)})}function S(x){if(r)return e.a.createElement(e.a.Fragment,null,e.a.createElement(Sn,{exportInput:{movies:{ids:Array.from(x.values()),all:l}},onClose:()=>{s(!1)}}))}function v(x,w,D){var M;if(!!((M=x.data)==null?void 0:M.findMovies)){if(w.displayMode===Ge.Grid)return e.a.createElement(e.a.Fragment,null,S(D),e.a.createElement("div",{className:"row justify-content-center"},x.data.findMovies.movies.map(y=>e.a.createElement(lm,{key:y.id,movie:y,selecting:D.size>0,selected:D.has(y.id),onSelectedChanged:(k,F)=>g.onSelectChange(y.id,k,F)}))));if(w.displayMode===Ge.List)return e.a.createElement("h1",null,"TODO")}}return g.template},UP=({performer:t})=>e.a.createElement(Hl,{filterHook:Di(t)}),QP=({performer:t})=>e.a.createElement(Xn,{filterHook:Di(t)}),Ki=({isEditing:t,text:a,onImageChange:n,onImageURL:r,acceptSVG:s=!1})=>{const[l,u]=Object(d.useState)(!1),[o,i]=Object(d.useState)(""),c=Object(ge.a)();if(!t)return e.a.createElement("div",null);if(!r)return e.a.createElement(m.a.Label,{className:"image-input"},e.a.createElement(q.a,{variant:"secondary"},a!=null?a:c.formatMessage({id:"actions.browse_for_image"})),e.a.createElement(m.a.Control,{type:"file",onChange:n,accept:`.jpg,.jpeg,.png${s?",.svg":""}`}));function g(){!r||(u(!1),r(o))}function f(){return e.a.createElement(it,{show:!!l,onHide:()=>u(!1),header:c.formatMessage({id:"dialogs.set_image_url_title"}),accept:{onClick:g,text:c.formatMessage({id:"actions.confirm"})}},e.a.createElement("div",{className:"dialog-content"},e.a.createElement(m.a.Group,{controlId:"url",as:xe.a},e.a.createElement(m.a.Label,{column:!0,xs:3},c.formatMessage({id:"url"})),e.a.createElement(Se.a,{xs:9},e.a.createElement(m.a.Control,{className:"text-input",onChange:_=>i(_.currentTarget.value),value:o,placeholder:c.formatMessage({id:"url"})})))))}const p=e.a.createElement(In.a,{id:"set-image-popover"},e.a.createElement(In.a.Content,null,e.a.createElement(e.a.Fragment,null,e.a.createElement("div",null,e.a.createElement(m.a.Label,{className:"image-input"},e.a.createElement(q.a,{variant:"secondary"},e.a.createElement(le,{icon:"file",className:"fa-fw"}),e.a.createElement("span",null,c.formatMessage({id:"actions.from_file"}))),e.a.createElement(m.a.Control,{type:"file",onChange:n,accept:`.jpg,.jpeg,.png${s?",.svg":""}`}))),e.a.createElement("div",null,e.a.createElement(q.a,{className:"minimal",onClick:()=>u(!0)},e.a.createElement(le,{icon:"link",className:"fa-fw"}),e.a.createElement("span",null,c.formatMessage({id:"actions.from_url"})))))));return e.a.createElement(e.a.Fragment,null,f(),e.a.createElement(Ca.a,{trigger:"click",placement:"top",overlay:p,rootClose:!0},e.a.createElement(q.a,{variant:"secondary",className:"mr-2"},a!=null?a:c.formatMessage({id:"actions.set_image"}))))};var HP=ne(261),om=ne.n(HP);const cm=(t,a)=>{const n=new FileReader;n.onloadend=()=>{n.error||a(n.result)},n.readAsDataURL(t)},WP=(t,a)=>{var n;const r=(n=t==null?void 0:t.clipboardData)==null?void 0:n.files;if(!(r==null?void 0:r.length))return;const s=r[0];cm(s,a)};var na={onImageChange:(t,a)=>{var n,r;const s=(r=(n=t==null?void 0:t.currentTarget)==null?void 0:n.files)==null?void 0:r[0];s&&cm(s,a)},usePasteImage:(t,a=!0)=>{const[n,r]=Object(d.useState)(!1),s=Object(d.useCallback)(l=>{r(!0),om.a.read(l).then(u=>u.quality(75).getBase64(om.a.MIME_JPEG,(o,i)=>{r(!1),t(o?"":i)}))},[t]);return Object(d.useEffect)(()=>{const l=u=>WP(u,s);return a&&document.addEventListener("paste",l),()=>document.removeEventListener("paste",l)},[a,s]),n}};const Wl=t=>(t!=null?t:[]).map(({stash_id:a,endpoint:n})=>({stash_id:a,endpoint:n}));function Yi(t,a){return t||`Stash-Box #${a+1}`}var KP=(t,a,n)=>new Promise((r,s)=>{var l=i=>{try{o(n.next(i))}catch(c){s(c)}},u=i=>{try{o(n.throw(i))}catch(c){s(c)}},o=i=>i.done?r(i.value):Promise.resolve(i.value).then(l,u);o((n=n.apply(t,a)).next())});function um(t,a,n){const r=[""].concat(Hs);return e.a.createElement(m.a.Control,{as:"select",className:"input-control",disabled:!a,plaintext:!a,value:a?t.newValue:t.originalValue,onChange:s=>{a&&n&&n(s.currentTarget.value)}},r.map(s=>e.a.createElement("option",{value:s,key:s},s)))}function YP(t,a,n){return e.a.createElement(ua,{title:t,result:a,renderOriginalField:()=>um(a),renderNewField:()=>um(a,!0,r=>n(a.cloneWithValue(r))),onChange:n})}function dm(t,a,n){const r=a?t.newValue:t.originalValue,s=r!=null?r:[];return e.a.createElement(jt,{isMulti:!0,className:"form-control react-select",isDisabled:!a,onSelect:l=>{n&&n(l.map(u=>u.id))},ids:s})}function JP(t,a,n,r,s){return e.a.createElement(ua,{title:t,result:a,renderOriginalField:()=>dm(a),renderNewField:()=>dm(a,!0,l=>n(a.cloneWithValue(l))),newValues:r,onChange:n,onCreateNew:l=>{s&&s(r[l])}})}const XP=t=>{var a,n,r,s,l,u,o,i;const c=Object(ge.a)(),g=(n=(a=t.scraper)==null?void 0:a.endpoint)!=null?n:void 0;function f(){var fe,Ce;if(!!g)return(Ce=(fe=t.performer.stash_ids)==null?void 0:fe.find(pe=>pe.endpoint===g))==null?void 0:Ce.stash_id}function p(fe){if(!fe)return;let Ce;const pe=fe==null?void 0:fe.toUpperCase(),Xe=Ka(pe);return Xe?Ce=ya(Xe):Ce=ya(fe,!0),Ka(Ce)}const[_,S]=Object(d.useState)(new Ue(t.performer.name,t.scraped.name)),[v,x]=Object(d.useState)(new Ue(t.performer.aliases,t.scraped.aliases)),[w,D]=Object(d.useState)(new Ue(t.performer.birthdate,t.scraped.birthdate)),[M,y]=Object(d.useState)(new Ue(t.performer.death_date,t.scraped.death_date)),[k,F]=Object(d.useState)(new Ue(t.performer.ethnicity,t.scraped.ethnicity)),[I,j]=Object(d.useState)(new Ue(t.performer.country,t.scraped.country)),[R,P]=Object(d.useState)(new Ue(t.performer.hair_color,t.scraped.hair_color)),[z,L]=Object(d.useState)(new Ue(t.performer.eye_color,t.scraped.eye_color)),[G,Y]=Object(d.useState)(new Ue(t.performer.height,t.scraped.height)),[V,U]=Object(d.useState)(new Ue((r=t.performer.weight)==null?void 0:r.toString(),t.scraped.weight)),[te,oe]=Object(d.useState)(new Ue(t.performer.measurements,t.scraped.measurements)),[Q,J]=Object(d.useState)(new Ue(t.performer.fake_tits,t.scraped.fake_tits)),[re,Z]=Object(d.useState)(new Ue(t.performer.career_length,t.scraped.career_length)),[W,H]=Object(d.useState)(new Ue(t.performer.tattoos,t.scraped.tattoos)),[de,A]=Object(d.useState)(new Ue(t.performer.piercings,t.scraped.piercings)),[T,N]=Object(d.useState)(new Ue(t.performer.url,t.scraped.url)),[C,O]=Object(d.useState)(new Ue(t.performer.twitter,t.scraped.twitter)),[$,X]=Object(d.useState)(new Ue(t.performer.instagram,t.scraped.instagram)),[ie,ae]=Object(d.useState)(new Ue(Ka((s=t.performer.gender)!=null?s:void 0),p(t.scraped.gender))),[se,ye]=Object(d.useState)(new Ue(t.performer.details,t.scraped.details)),[Pe,Fe]=Object(d.useState)(new Ue(f(),t.scraped.remote_site_id)),[ve]=un(),Te=He();function Ve(fe){if(!fe)return;const Ce=fe.map(pe=>pe.stored_id).filter(pe=>pe!=null);if(Ce.length!==0)return Ce.sort((pe,Xe)=>parseInt(pe,10)-parseInt(Xe,10)),Ce}function he(fe){if(!fe)return;const Ce=Re.a.clone(fe);return Ce.sort((pe,Xe)=>parseInt(pe,10)-parseInt(Xe,10)),Ce}const[be,Ne]=Object(d.useState)(new Ue(he((l=t.performer.tag_ids)!=null?l:void 0),Ve((u=t.scraped.tags)!=null?u:void 0))),[Ie,je]=Object(d.useState)((i=(o=t.scraped.tags)==null?void 0:o.filter(fe=>!fe.stored_id))!=null?i:[]),[Ke,Ye]=Object(d.useState)(new Ue(t.performer.image,t.scraped.images&&t.scraped.images.length>0?t.scraped.images[0]:void 0));if([_,v,w,k,I,z,G,te,Q,re,W,de,T,C,$,ie,Ke,be,se,M,R,V,Pe].every(fe=>!fe.scraped))return t.onClose(),e.a.createElement(e.a.Fragment,null);function we(fe){return KP(this,null,function*(){var Ce;const pe={name:(Ce=fe.name)!=null?Ce:""};try{const Xe=yield ve({variables:{input:pe}}),at=be.cloneWithValue(be.newValue);at.newValue||(at.newValue=[]),at.newValue.push(Xe.data.tagCreate.id),Ne(at);const ft=Ie.concat(),Dt=ft.indexOf(fe);ft.splice(Dt,1),je(ft),Te.success({content:e.a.createElement("span",null,"Created tag: ",e.a.createElement("b",null,fe.name))})}catch(Xe){Te.error(Xe)}})}function _e(){var fe,Ce;const pe=Ke.getNewValue();return{name:(fe=_.getNewValue())!=null?fe:"",aliases:v.getNewValue(),birthdate:w.getNewValue(),ethnicity:k.getNewValue(),country:I.getNewValue(),eye_color:z.getNewValue(),height:G.getNewValue(),measurements:te.getNewValue(),fake_tits:Q.getNewValue(),career_length:re.getNewValue(),tattoos:W.getNewValue(),piercings:de.getNewValue(),url:T.getNewValue(),twitter:C.getNewValue(),instagram:$.getNewValue(),gender:ie.getNewValue(),tags:(Ce=be.getNewValue())==null?void 0:Ce.map(Xe=>({stored_id:Xe,name:""})),images:pe?[pe]:void 0,details:se.getNewValue(),death_date:M.getNewValue(),hair_color:R.getNewValue(),weight:V.getNewValue(),remote_site_id:Pe.getNewValue()}}function Oe(){return e.a.createElement(e.a.Fragment,null,e.a.createElement(ut,{title:c.formatMessage({id:"name"}),result:_,onChange:fe=>S(fe)}),e.a.createElement(yn,{title:c.formatMessage({id:"aliases"}),result:v,onChange:fe=>x(fe)}),YP(c.formatMessage({id:"gender"}),ie,fe=>ae(fe)),e.a.createElement(ut,{title:c.formatMessage({id:"birthdate"}),result:w,onChange:fe=>D(fe)}),e.a.createElement(ut,{title:c.formatMessage({id:"death_date"}),result:M,onChange:fe=>y(fe)}),e.a.createElement(ut,{title:c.formatMessage({id:"ethnicity"}),result:k,onChange:fe=>F(fe)}),e.a.createElement(ut,{title:c.formatMessage({id:"country"}),result:I,onChange:fe=>j(fe)}),e.a.createElement(ut,{title:c.formatMessage({id:"hair_color"}),result:R,onChange:fe=>P(fe)}),e.a.createElement(ut,{title:c.formatMessage({id:"eye_color"}),result:z,onChange:fe=>L(fe)}),e.a.createElement(ut,{title:c.formatMessage({id:"weight"}),result:V,onChange:fe=>U(fe)}),e.a.createElement(ut,{title:c.formatMessage({id:"height"}),result:G,onChange:fe=>Y(fe)}),e.a.createElement(ut,{title:c.formatMessage({id:"measurements"}),result:te,onChange:fe=>oe(fe)}),e.a.createElement(ut,{title:c.formatMessage({id:"fake_tits"}),result:Q,onChange:fe=>J(fe)}),e.a.createElement(ut,{title:c.formatMessage({id:"career_length"}),result:re,onChange:fe=>Z(fe)}),e.a.createElement(yn,{title:c.formatMessage({id:"tattoos"}),result:W,onChange:fe=>H(fe)}),e.a.createElement(yn,{title:c.formatMessage({id:"piercings"}),result:de,onChange:fe=>A(fe)}),e.a.createElement(ut,{title:c.formatMessage({id:"url"}),result:T,onChange:fe=>N(fe)}),e.a.createElement(ut,{title:c.formatMessage({id:"twitter"}),result:C,onChange:fe=>O(fe)}),e.a.createElement(ut,{title:c.formatMessage({id:"instagram"}),result:$,onChange:fe=>X(fe)}),e.a.createElement(yn,{title:c.formatMessage({id:"details"}),result:se,onChange:fe=>ye(fe)}),JP(c.formatMessage({id:"tags"}),be,fe=>Ne(fe),Ie,we),e.a.createElement(Ci,{title:c.formatMessage({id:"performer_image"}),className:"performer-image",result:Ke,onChange:fe=>Ye(fe)}),e.a.createElement(ut,{title:c.formatMessage({id:"stash_id"}),result:Pe,locked:!0,onChange:fe=>Fe(fe)}))}return e.a.createElement(Mi,{title:c.formatMessage({id:"dialogs.scrape_entity_title"},{entity_type:c.formatMessage({id:"performer"})}),renderScrapeRows:Oe,onClose:fe=>{t.onClose(fe?_e():void 0)}})},mm="PerformerScrapeModal",ZP=`${mm}-list`;var eC=({scraper:t,name:a,onHide:n,onSelectPerformer:r})=>{var s;const l=Object(ge.a)(),u=Object(d.useRef)(null),[o,i]=Object(d.useState)(a!=null?a:""),{data:c,loading:g}=sE(t.id,o),f=(s=c==null?void 0:c.scrapeSinglePerformer)!=null?s:[],p=Object(ia.debounce)(_=>{i(_)},500);return Object(d.useEffect)(()=>{var _;return(_=u.current)==null?void 0:_.focus()},[]),e.a.createElement(it,{show:!0,onHide:n,header:`Scrape performer from ${t.name}`,accept:{text:l.formatMessage({id:"actions.cancel"}),onClick:n,variant:"secondary"}},e.a.createElement("div",{className:mm},e.a.createElement(m.a.Control,{onChange:_=>p(_.currentTarget.value),defaultValue:a!=null?a:"",placeholder:"Performer name...",className:"text-input mb-4",ref:u}),g?e.a.createElement("div",{className:"m-4 text-center"},e.a.createElement($e,{inline:!0})):e.a.createElement("ul",{className:ZP},f.map(_=>e.a.createElement("li",{key:_.url},e.a.createElement(q.a,{variant:"link",onClick:()=>r(_,t)},_.name))))))};const gm="PerformerScrapeModal",tC=`${gm}-list`;var aC=({instance:t,name:a,onHide:n,onSelectPerformer:r})=>{var s;const l=Object(ge.a)(),u=Object(d.useRef)(null),[o,i]=Object(d.useState)(a!=null?a:""),{data:c,loading:g}=yc({variables:{source:{stash_box_index:t.index},input:{query:o}},skip:o===""}),f=(s=c==null?void 0:c.scrapeSinglePerformer)!=null?s:[],p=Object(ia.debounce)(_=>{i(_)},500);return Object(d.useEffect)(()=>{var _;return(_=u.current)==null?void 0:_.focus()},[]),e.a.createElement(it,{show:!0,onHide:n,header:`Scrape performer from ${Yi(t.name,t.index)}`,accept:{text:l.formatMessage({id:"actions.cancel"}),onClick:n,variant:"secondary"}},e.a.createElement("div",{className:gm},e.a.createElement(m.a.Control,{onChange:_=>p(_.currentTarget.value),defaultValue:a!=null?a:"",placeholder:"Performer name...",className:"text-input mb-4",ref:u}),g?e.a.createElement("div",{className:"m-4 text-center"},e.a.createElement($e,{inline:!0})):f.length>0?e.a.createElement("ul",{className:tC},f.map(_=>e.a.createElement("li",{key:_.url},e.a.createElement(q.a,{variant:"link",onClick:()=>r(_)},_.name)))):o!==""&&e.a.createElement("h5",{className:"text-center"},"No results found.")))},nC=Object.defineProperty,rC=Object.defineProperties,iC=Object.getOwnPropertyDescriptors,Ji=Object.getOwnPropertySymbols,fm=Object.prototype.hasOwnProperty,pm=Object.prototype.propertyIsEnumerable,_m=(t,a,n)=>a in t?nC(t,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[a]=n,ra=(t,a)=>{for(var n in a||(a={}))fm.call(a,n)&&_m(t,n,a[n]);if(Ji)for(var n of Ji(a))pm.call(a,n)&&_m(t,n,a[n]);return t},$a=(t,a)=>rC(t,iC(a)),sC=(t,a)=>{var n={};for(var r in t)fm.call(t,r)&&a.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Ji)for(var r of Ji(t))a.indexOf(r)<0&&pm.call(t,r)&&(n[r]=t[r]);return n},er=(t,a,n)=>new Promise((r,s)=>{var l=i=>{try{o(n.next(i))}catch(c){s(c)}},u=i=>{try{o(n.throw(i))}catch(c){s(c)}},o=i=>i.done?r(i.value):Promise.resolve(i.value).then(l,u);o((n=n.apply(t,a)).next())});const hm=t=>t.id!==void 0,vm=({performer:t,isNew:a,isVisible:n,onDelete:r,onImageChange:s,onImageEncoding:l})=>{var u,o,i,c,g,f,p,_,S,v,x,w,D,M,y,k,F,I,j,R,P,z;const L=Object(ge.a)(),G=He(),Y=Object(ke.k)(),[V,U]=Object(d.useState)(),[te,oe]=Object(d.useState)(),[Q,J]=Object(d.useState)(!1),[re,Z]=Object(d.useState)(!1),[W,H]=Object(d.useState)(!1),[de]=Ys(),[A]=vr(),T=Tc(),[N,C]=Object(d.useState)([]),[O,$]=Object(d.useState)(),{configuration:X}=e.a.useContext(Et),ie=na.usePasteImage(Ke,!0),[ae]=un(),se=[""].concat(Hs),ye=3,Pe=2,Fe=9,ve=7,Te=Ee.e({name:Ee.f().required(),aliases:Ee.f().optional(),gender:Ee.f().optional().oneOf(se),birthdate:Ee.f().optional(),ethnicity:Ee.f().optional(),eye_color:Ee.f().optional(),country:Ee.f().optional(),height:Ee.f().optional(),measurements:Ee.f().optional(),fake_tits:Ee.f().optional(),career_length:Ee.f().optional(),tattoos:Ee.f().optional(),piercings:Ee.f().optional(),url:Ee.f().optional(),twitter:Ee.f().optional(),instagram:Ee.f().optional(),tag_ids:Ee.a(Ee.f().required()).optional(),stash_ids:Ee.c().optional(),image:Ee.f().optional().nullable(),details:Ee.f().optional(),death_date:Ee.f().optional(),hair_color:Ee.f().optional(),weight:Ee.d().optional()}),Ve={name:(u=t.name)!=null?u:"",aliases:(o=t.aliases)!=null?o:"",gender:Ka((i=t.gender)!=null?i:void 0),birthdate:(c=t.birthdate)!=null?c:"",ethnicity:(g=t.ethnicity)!=null?g:"",eye_color:(f=t.eye_color)!=null?f:"",country:(p=t.country)!=null?p:"",height:(_=t.height)!=null?_:"",measurements:(S=t.measurements)!=null?S:"",fake_tits:(v=t.fake_tits)!=null?v:"",career_length:(x=t.career_length)!=null?x:"",tattoos:(w=t.tattoos)!=null?w:"",piercings:(D=t.piercings)!=null?D:"",url:(M=t.url)!=null?M:"",twitter:(y=t.twitter)!=null?y:"",instagram:(k=t.instagram)!=null?k:"",tag_ids:((F=t.tags)!=null?F:[]).map(ce=>ce.id),stash_ids:(I=t.stash_ids)!=null?I:void 0,image:void 0,details:(j=t.details)!=null?j:"",death_date:(R=t.death_date)!=null?R:"",hair_color:(P=t.hair_color)!=null?P:"",weight:(z=t.weight)!=null?z:void 0},he=Object(Wt.d)({initialValues:Ve,validationSchema:Te,onSubmit:ce=>Ye(ce)});function be(ce){if(!ce)return;let Ae;const Qe=ce==null?void 0:ce.toUpperCase(),lt=Ka(Qe);return lt?Ae=ya(lt):Ae=ya(ce,!0),Ka(Ae)}function Ne(){if(!te||te.length===0)return;const ce=e.a.createElement(e.a.Fragment,null,te.map(Qe=>e.a.createElement(Zt.a,{className:"tag-item",variant:"secondary",key:Qe.name,onClick:()=>Ie(Qe)},Qe.name,e.a.createElement(q.a,{className:"minimal ml-2"},e.a.createElement(le,{className:"fa-fw",icon:"plus"}))))),Ae=10;return te.length>=Ae?e.a.createElement(Pi,{text:`Missing (${te.length})`},ce):ce}function Ie(ce){return er(this,null,function*(){var Ae,Qe;const lt={name:(Ae=ce.name)!=null?Ae:""};try{const gt=yield ae({variables:{input:lt}});if(!((Qe=gt.data)==null?void 0:Qe.tagCreate)){G.error(new Error("Failed to create tag"));return}const Lt=he.values.tag_ids.concat([gt.data.tagCreate.id]);he.setFieldValue("tag_ids",Lt);const We=te.concat(),On=We.indexOf(ce);We.splice(On,1),oe(We),G.success({content:e.a.createElement("span",null,"Created tag: ",e.a.createElement("b",null,ce.name))})}catch(gt){G.error(gt)}})}function je(ce){var Ae,Qe,lt;if(ce.name&&he.setFieldValue("name",ce.name),ce.aliases&&he.setFieldValue("aliases",ce.aliases),ce.birthdate&&he.setFieldValue("birthdate",ce.birthdate),ce.ethnicity&&he.setFieldValue("ethnicity",ce.ethnicity),ce.country&&he.setFieldValue("country",ce.country),ce.eye_color&&he.setFieldValue("eye_color",ce.eye_color),ce.height&&he.setFieldValue("height",ce.height),ce.measurements&&he.setFieldValue("measurements",ce.measurements),ce.fake_tits&&he.setFieldValue("fake_tits",ce.fake_tits),ce.career_length&&he.setFieldValue("career_length",ce.career_length),ce.tattoos&&he.setFieldValue("tattoos",ce.tattoos),ce.piercings&&he.setFieldValue("piercings",ce.piercings),ce.url&&he.setFieldValue("url",ce.url),ce.twitter&&he.setFieldValue("twitter",ce.twitter),ce.instagram&&he.setFieldValue("instagram",ce.instagram),ce.gender&&he.setFieldValue("gender",be((Ae=ce.gender)!=null?Ae:void 0)),ce.tags){const Lt=ce.tags.map(We=>We.stored_id).filter(We=>We);he.setFieldValue("tag_ids",Lt),oe(ce.tags.filter(We=>!We.stored_id))}if((!a||[null,void 0].includes(he.values.image))&&ce.images&&ce.images.length>0){const Lt=ce.images[0];he.setFieldValue("image",Lt!=null?Lt:void 0)}ce.details&&he.setFieldValue("details",ce.details),ce.death_date&&he.setFieldValue("death_date",ce.death_date),ce.hair_color&&he.setFieldValue("hair_color",ce.hair_color),ce.weight&&he.setFieldValue("weight",ce.weight);const gt=ce.remote_site_id;if(gt&&V.endpoint){const Lt=(lt=(Qe=he.values.stash_ids)==null?void 0:Qe.filter(We=>We.endpoint!==V.endpoint))!=null?lt:[];Lt==null||Lt.push({endpoint:V.endpoint,stash_id:gt}),he.setFieldValue("stash_ids",Lt)}}function Ke(ce){he.setFieldValue("image",ce)}function Ye(ce){return er(this,null,function*(){var Ae;H(!0);try{if(a){const Qe=we(ce),lt=yield A({variables:{input:Qe}});((Ae=lt.data)==null?void 0:Ae.performerCreate)&&Y.push(`/performers/${lt.data.performerCreate.id}`)}else{const Qe=ee(ce);yield de({variables:{input:$a(ra({},Qe),{stash_ids:Wl(ce==null?void 0:ce.stash_ids)})}}),Y.push(`/performers/${t.id}`)}}catch(Qe){G.error(Qe)}H(!1)})}if(Object(d.useEffect)(()=>{if(n)return B.a.bind("s s",()=>{Ye==null||Ye(he.values)}),a||B.a.bind("d d",()=>{Z(!0)}),()=>{B.a.unbind("s s"),a||B.a.unbind("d d")}}),Object(d.useEffect)(()=>(s&&s(he.values.image),()=>s==null?void 0:s()),[he.values.image,s]),Object(d.useEffect)(()=>l==null?void 0:l(ie),[l,ie]),Object(d.useEffect)(()=>{var ce,Ae;const Qe=((Ae=(ce=T==null?void 0:T.data)==null?void 0:ce.listPerformerScrapers)!=null?Ae:[]).filter(lt=>{var gt;return(gt=lt.performer)==null?void 0:gt.supported_scrapes.includes(Rt.Name)});C(Qe)},[T]),W)return e.a.createElement($e,null);function ee(ce){var Ae,Qe;return $a(ra({},ce),{gender:(Ae=ya(ce.gender))!=null?Ae:null,weight:Number(ce.weight),id:(Qe=t.id)!=null?Qe:""})}function we(ce){return $a(ra({},ce),{gender:ya(ce.gender),weight:Number(ce.weight)})}function _e(ce){na.onImageChange(ce,Ke)}function Oe(ce){he.setFieldValue("image",ce)}function fe(){return er(this,null,function*(){H(!0);try{yield fi(),yield T.refetch()}catch(ce){G.error(ce)}finally{H(!1)}})}function Ce(ce,Ae){return er(this,null,function*(){var Qe,lt;J(!1);try{if(!V)return;H(!0);const gt=ce,{__typename:Lt,images:We,tags:On}=gt,co=sC(gt,["__typename","images","tags"]),Nn=yield oy(Ae.id,co);if(!((lt=(Qe=Nn==null?void 0:Nn.data)==null?void 0:Qe.scrapeSinglePerformer)==null?void 0:lt.length))return;a?(je(Nn.data.scrapeSinglePerformer[0]),U(void 0)):$(Nn.data.scrapeSinglePerformer[0])}catch(gt){G.error(gt)}finally{H(!1)}})}function pe(){return er(this,null,function*(){const{url:ce}=he.values;if(!!ce){H(!0);try{const Ae=yield cy(ce);if(!Ae.data||!Ae.data.scrapePerformerURL)return;a?je(Ae.data.scrapePerformerURL):$(Ae.data.scrapePerformerURL)}catch(Ae){G.error(Ae)}finally{H(!1)}}})}function Xe(ce){return er(this,null,function*(){var Ae;J(!1);const Qe=$a(ra({},ce),{images:(Ae=ce.images)!=null?Ae:void 0,country:xw(ce.country),__typename:"ScrapedPerformer"});a?(je(Qe),U(void 0)):$(Qe)})}function at(ce){U(ce),J(!0)}function ft(){var ce;if(!t)return;const Ae=(ce=X==null?void 0:X.general.stashBoxes)!=null?ce:[],Qe=e.a.createElement(ze.a.Menu,{id:"performer-scraper-popover"},Ae.map((lt,gt)=>e.a.createElement(ze.a.Item,{as:q.a,key:lt.endpoint,className:"minimal",onClick:()=>at($a(ra({},lt),{index:gt}))},Yi(lt.name,gt))),N?N.map(lt=>e.a.createElement(ze.a.Item,{as:q.a,key:lt.name,className:"minimal",onClick:()=>at(lt)},lt.name)):"",e.a.createElement(ze.a.Item,{as:q.a,className:"minimal",onClick:()=>fe()},e.a.createElement("span",{className:"fa-icon"},e.a.createElement(le,{icon:"sync-alt"})),e.a.createElement("span",null,e.a.createElement(b.a,{id:"actions.reload_scrapers"}))));return e.a.createElement(ze.a,{drop:"up",className:"d-inline-block"},e.a.createElement(ze.a.Toggle,{variant:"secondary",className:"mr-2"},e.a.createElement(b.a,{id:"actions.scrape_with"})),Qe)}function Dt(ce){var Ae,Qe;return!!ce&&((Qe=(Ae=T==null?void 0:T.data)==null?void 0:Ae.listPerformerScrapers)!=null?Qe:[]).some(lt=>{var gt,Lt;return((Lt=(gt=lt==null?void 0:lt.performer)==null?void 0:gt.urls)!=null?Lt:[]).some(We=>ce.includes(We))})}function Na(){var ce;if(!O)return;const Ae=$a(ra({},he.values),{gender:ya(he.values.gender),image:(ce=he.values.image)!=null?ce:t.image_path,weight:Number(he.values.weight)});return e.a.createElement(XP,{performer:Ae,scraped:O,scraper:V,onClose:Qe=>{Ba(Qe)}})}function Ba(ce){ce&&je(ce),$(void 0),U(void 0)}function an(){return e.a.createElement(xe.a,null,e.a.createElement(Se.a,{className:"mt-3",xs:12},e.a.createElement(q.a,{className:"mr-2",variant:"primary",disabled:!he.dirty,onClick:()=>he.submitForm()},e.a.createElement(b.a,{id:"actions.save"})),a?"":e.a.createElement(q.a,{className:"mr-2",variant:"danger",onClick:()=>Z(!0)},e.a.createElement(b.a,{id:"actions.delete"})),ft(),e.a.createElement(Ki,{isEditing:!0,onImageChange:_e,onImageURL:Oe}),e.a.createElement(q.a,{className:"mx-2",variant:"danger",onClick:()=>he.setFieldValue("image",null)},e.a.createElement(b.a,{id:"actions.clear_image"}))))}const Rr=()=>{if(!!Q)return V!==void 0&&hm(V)?e.a.createElement(eC,{scraper:V,onHide:()=>U(void 0),onSelectPerformer:Ce,name:he.values.name||""}):V!==void 0&&!hm(V)?e.a.createElement(aC,{instance:V,onHide:()=>U(void 0),onSelectPerformer:Xe,name:he.values.name||""}):void 0};function ds(){return e.a.createElement(it,{show:re,icon:"trash-alt",accept:{text:L.formatMessage({id:"actions.delete"}),variant:"danger",onClick:r},cancel:{onClick:()=>Z(!1)}},e.a.createElement("p",null,e.a.createElement(b.a,{id:"dialogs.delete_confirm",values:{entityName:t.name}})))}function lo(){return e.a.createElement(m.a.Group,{controlId:"tags",as:xe.a},e.a.createElement(m.a.Label,{column:!0,sm:ye,xl:Pe},e.a.createElement(b.a,{id:"tags",defaultMessage:"Tags"})),e.a.createElement(Se.a,{xs:Fe,xl:ve},e.a.createElement(jt,{menuPortalTarget:document.body,isMulti:!0,onSelect:ce=>he.setFieldValue("tag_ids",ce.map(Ae=>Ae.id)),ids:he.values.tag_ids}),Ne()))}const ms=ce=>{var Ae;he.setFieldValue("stash_ids",((Ae=he.values.stash_ids)!=null?Ae:[]).filter(Qe=>!(Qe.endpoint===ce.endpoint&&Qe.stash_id===ce.stash_id)))};function oo(){var ce;if(!!((ce=he.values.stash_ids)==null?void 0:ce.length))return e.a.createElement(xe.a,null,e.a.createElement(m.a.Label,{column:!0,sm:ye,xl:Pe},"StashIDs"),e.a.createElement(Se.a,{sm:Fe,xl:ve},e.a.createElement("ul",{className:"pl-0"},he.values.stash_ids.map(Ae=>{var Qe;const lt=(Qe=Ae.endpoint.match(/https?:\/\/.*?\//))==null?void 0:Qe[0],gt=lt?e.a.createElement("a",{href:`${lt}performers/${Ae.stash_id}`,target:"_blank",rel:"noopener noreferrer"},Ae.stash_id):Ae.stash_id;return e.a.createElement("li",{key:Ae.stash_id,className:"row no-gutters mb-1"},e.a.createElement(q.a,{variant:"danger",className:"mr-2 py-0",title:"Delete StashID",onClick:()=>ms(Ae)},e.a.createElement(le,{icon:"trash-alt"})),gt)}))))}function me(ce,Ae,Qe){return e.a.createElement(m.a.Group,{controlId:ce,as:xe.a},e.a.createElement(m.a.Label,{column:!0,xs:ye,xl:Pe},e.a.createElement(b.a,{id:ce,defaultMessage:Ae})),e.a.createElement(Se.a,{xs:Fe,xl:ve},e.a.createElement(m.a.Control,$a(ra({className:"text-input",placeholder:Qe!=null?Qe:Ae},he.getFieldProps(ce)),{isInvalid:!!he.getFieldMeta(ce).error}))))}return e.a.createElement(e.a.Fragment,null,ds(),Rr(),Na(),e.a.createElement(ke.b,{when:he.dirty,message:"Unsaved changes. Are you sure you want to leave?"}),e.a.createElement(m.a,{noValidate:!0,onSubmit:he.handleSubmit,id:"performer-edit"},e.a.createElement(m.a.Group,{controlId:"name",as:xe.a},e.a.createElement(m.a.Label,{column:!0,xs:ye,xl:Pe},e.a.createElement(b.a,{id:"name"})),e.a.createElement(Se.a,{xs:Fe,xl:ve},e.a.createElement(m.a.Control,$a(ra({className:"text-input",placeholder:"Name"},he.getFieldProps("name")),{isInvalid:!!he.errors.name})),e.a.createElement(m.a.Control.Feedback,{type:"invalid"},he.errors.name))),e.a.createElement(m.a.Group,{controlId:"aliases",as:xe.a},e.a.createElement(m.a.Label,{column:!0,sm:ye,xl:Pe},e.a.createElement(b.a,{id:"aliases"})),e.a.createElement(Se.a,{sm:Fe,xl:ve},e.a.createElement(m.a.Control,ra({as:"textarea",className:"text-input",placeholder:"Alias"},he.getFieldProps("aliases"))))),e.a.createElement(m.a.Group,{as:xe.a},e.a.createElement(m.a.Label,{column:!0,xs:ye,xl:Pe},e.a.createElement(b.a,{id:"gender"})),e.a.createElement(Se.a,{xs:"auto"},e.a.createElement(m.a.Control,ra({as:"select",className:"input-control"},he.getFieldProps("gender")),se.map(ce=>e.a.createElement("option",{value:ce,key:ce},ce))))),me("birthdate","Birthdate","YYYY-MM-DD"),me("death_date","Death Date","YYYY-MM-DD"),me("country","Country"),me("ethnicity","Ethnicity"),me("hair_color","Hair Color"),me("eye_color","Eye Color"),me("height","Height (cm)"),me("weight","Weight (kg)"),me("measurements","Measurements"),me("fake_tits","Fake Tits"),e.a.createElement(m.a.Group,{controlId:"tattoos",as:xe.a},e.a.createElement(m.a.Label,{column:!0,sm:ye,xl:Pe},e.a.createElement(b.a,{id:"tattoos"})),e.a.createElement(Se.a,{sm:Fe,xl:ve},e.a.createElement(m.a.Control,ra({as:"textarea",className:"text-input",placeholder:"Tattoos"},he.getFieldProps("tattoos"))))),e.a.createElement(m.a.Group,{controlId:"piercings",as:xe.a},e.a.createElement(m.a.Label,{column:!0,sm:ye,xl:Pe},e.a.createElement(b.a,{id:"piercings"})),e.a.createElement(Se.a,{sm:Fe,xl:ve},e.a.createElement(m.a.Control,ra({as:"textarea",className:"text-input",placeholder:"Piercings"},he.getFieldProps("piercings"))))),me("career_length","Career Length"),e.a.createElement(m.a.Group,{controlId:"url",as:xe.a},e.a.createElement(m.a.Label,{column:!0,xs:ye,xl:Pe},e.a.createElement(b.a,{id:"url"})),e.a.createElement(Se.a,{xs:Fe,xl:ve},e.a.createElement(xi,$a(ra({},he.getFieldProps("url")),{onScrapeClick:pe,urlScrapable:Dt})))),me("twitter","Twitter"),me("instagram","Instagram"),e.a.createElement(m.a.Group,{controlId:"details",as:xe.a},e.a.createElement(m.a.Label,{column:!0,sm:ye,xl:Pe},e.a.createElement(b.a,{id:"details"})),e.a.createElement(Se.a,{sm:Fe,xl:ve},e.a.createElement(m.a.Control,ra({as:"textarea",className:"text-input",placeholder:"Details"},he.getFieldProps("details"))))),lo(),oo(),an()))};var lC=(t,a,n)=>new Promise((r,s)=>{var l=i=>{try{o(n.next(i))}catch(c){s(c)}},u=i=>{try{o(n.throw(i))}catch(c){s(c)}},o=i=>i.done?r(i.value):Promise.resolve(i.value).then(l,u);o((n=n.apply(t,a)).next())});const oC=({performer:t})=>{var a,n;const r=He(),s=Object(ke.k)(),l=Object(ge.a)(),{tab:u="details"}=Object(ke.m)(),[o,i]=Object(d.useState)(),[c,g]=Object(d.useState)(!1),f=o===void 0?(a=t.image_path)!=null?a:"":o!=null?o:`${t.image_path}&default=true`,p=Object(d.useMemo)(()=>[{paths:{thumbnail:f,image:f}}],[f]),_=Cl({images:p}),[S]=Ys(),[v,{loading:x}]=hE(),w=u==="scenes"||u==="galleries"||u==="images"||u==="movies"||u==="edit"||u==="operations"?u:"details",D=L=>{if(u!==L){const G=L==="details"?"":`/${L}`;s.replace(`/performers/${t.id}${G}`)}},M=L=>i(L),y=(L=!1)=>g(L);Object(d.useEffect)(()=>(B.a.bind("a",()=>D("details")),B.a.bind("e",()=>D("edit")),B.a.bind("c",()=>D("scenes")),B.a.bind("g",()=>D("galleries")),B.a.bind("m",()=>D("movies")),B.a.bind("o",()=>D("operations")),B.a.bind("f",()=>R(!t.favorite)),B.a.bind("r",()=>{document.activeElement instanceof HTMLElement&&document.activeElement.blur(),B.a.bind("0",()=>P(NaN)),B.a.bind("1",()=>P(1)),B.a.bind("2",()=>P(2)),B.a.bind("3",()=>P(3)),B.a.bind("4",()=>P(4)),B.a.bind("5",()=>P(5)),setTimeout(()=>{B.a.unbind("0"),B.a.unbind("1"),B.a.unbind("2"),B.a.unbind("3"),B.a.unbind("4"),B.a.unbind("5")},1e3)}),()=>{B.a.unbind("a"),B.a.unbind("e"),B.a.unbind("c"),B.a.unbind("f"),B.a.unbind("o")}));function k(){return lC(this,null,function*(){try{yield v({variables:{id:t.id}})}catch(L){r.error(L)}s.push("/performers")})}const F=()=>e.a.createElement(Fl.a,{activeKey:w,onSelect:D,id:"performer-details",unmountOnExit:!0},e.a.createElement(qe.a,{eventKey:"details",title:l.formatMessage({id:"details"})},e.a.createElement(dx,{performer:t})),e.a.createElement(qe.a,{eventKey:"scenes",title:l.formatMessage({id:"scenes"})},e.a.createElement(zP,{performer:t})),e.a.createElement(qe.a,{eventKey:"galleries",title:l.formatMessage({id:"galleries"})},e.a.createElement(qP,{performer:t})),e.a.createElement(qe.a,{eventKey:"images",title:l.formatMessage({id:"images"})},e.a.createElement(QP,{performer:t})),e.a.createElement(qe.a,{eventKey:"movies",title:l.formatMessage({id:"movies"})},e.a.createElement(UP,{performer:t})),e.a.createElement(qe.a,{eventKey:"edit",title:l.formatMessage({id:"actions.edit"})},e.a.createElement(vm,{performer:t,isVisible:w==="edit",isNew:!1,onDelete:k,onImageChange:M,onImageEncoding:y})),e.a.createElement(qe.a,{eventKey:"operations",title:l.formatMessage({id:"operations"})},e.a.createElement(gx,{performer:t})));function I(){if(t==null?void 0:t.birthdate)return e.a.createElement("div",null,e.a.createElement("span",{className:"age"},Me.age(t.birthdate,t.death_date)),e.a.createElement("span",{className:"age-tail"}," ",e.a.createElement(b.a,{id:"years_old"})))}function j(){if(t==null?void 0:t.aliases)return e.a.createElement("div",null,e.a.createElement("span",{className:"alias-head"},e.a.createElement(b.a,{id:"also_known_as"})," "),e.a.createElement("span",{className:"alias"},t.aliases))}function R(L){t.id&&S({variables:{input:{id:t.id,favorite:L}}})}function P(L){t.id&&S({variables:{input:{id:t.id,rating:L}}})}const z=()=>e.a.createElement("span",{className:"name-icons"},e.a.createElement(q.a,{className:St()("minimal",t.favorite?"favorite":"not-favorite"),onClick:()=>R(!t.favorite)},e.a.createElement(le,{icon:"heart"})),t.url&&e.a.createElement(q.a,{className:"minimal icon-link"},e.a.createElement("a",{href:Me.sanitiseURL(t.url),className:"link",target:"_blank",rel:"noopener noreferrer"},e.a.createElement(le,{icon:"link"}))),t.twitter&&e.a.createElement(q.a,{className:"minimal icon-link"},e.a.createElement("a",{href:Me.sanitiseURL(t.twitter,Me.twitterURL),className:"twitter",target:"_blank",rel:"noopener noreferrer"},e.a.createElement(le,{icon:"dove"}))),t.instagram&&e.a.createElement(q.a,{className:"minimal icon-link"},e.a.createElement("a",{href:Me.sanitiseURL(t.instagram,Me.instagramURL),className:"instagram",target:"_blank",rel:"noopener noreferrer"},e.a.createElement(le,{icon:"camera"}))));return x?e.a.createElement($e,{message:`Deleting performer ${t.id}: ${t.name}`}):e.a.createElement("div",{id:"performer-page",className:"row"},e.a.createElement(Tt.a,null,e.a.createElement("title",null,t.name)),e.a.createElement("div",{className:"performer-image-container col-md-4 text-center"},c?e.a.createElement($e,{message:"Encoding image..."}):e.a.createElement(q.a,{variant:"link",onClick:()=>_()},e.a.createElement("img",{className:"performer",src:f,alt:"Performer"}))),e.a.createElement("div",{className:"col-md-8"},e.a.createElement("div",{className:"row"},e.a.createElement("div",{className:"performer-head col"},e.a.createElement("h2",null,e.a.createElement(ad,{country:t.country,className:"mr-2"}),t.name,z()),e.a.createElement(Kt,{value:(n=t.rating)!=null?n:void 0,onSetRating:L=>P(L!=null?L:null)}),j(),I())),e.a.createElement("div",{className:"performer-body"},e.a.createElement("div",{className:"performer-tabs"},F()))))};var cC=()=>{const{id:t}=Object(ke.m)(),{data:a,loading:n,error:r}=Xv(t!=null?t:"");return n?e.a.createElement($e,null):r?e.a.createElement($t,{error:r.message}):(a==null?void 0:a.findPerformer)?e.a.createElement(oC,{performer:a.findPerformer}):e.a.createElement($t,{error:`No performer found with id ${t}.`})},uC=()=>{const[t,a]=Object(d.useState)(),[n,r]=Object(d.useState)(!1),s=t!=null?t:"",l=i=>a(i),u=(i=!1)=>r(i);function o(){if(n)return e.a.createElement($e,{message:"Encoding image..."});if(s)return e.a.createElement("img",{className:"performer",src:s,alt:"Performer"})}return e.a.createElement("div",{className:"row new-view",id:"performer-page"},e.a.createElement("div",{className:"performer-image-container col-md-4 text-center"},o()),e.a.createElement("div",{className:"col-md-8"},e.a.createElement("h2",null,"Create Performer"),e.a.createElement(vm,{performer:{},isVisible:!0,isNew:!0,onImageChange:l,onImageEncoding:u})))},Em=ne(880),dC=ne(423);const _L=()=>{const[t]=Ps({onError:n=>n});return(n,r)=>t({variables:{input:{id:n,stash_ids:r.map(s=>({stash_id:s.stash_id,endpoint:s.endpoint}))}},update:(s,l)=>{var u;if(!((u=l.data)==null?void 0:u.performerUpdate))return;const o=r[r.length-1].stash_id;s.writeQuery({query:Bt,variables:{performer_filter:{stash_id:{value:o,modifier:ue.Equals}}},data:{findPerformers:{count:1,performers:[l.data.performerUpdate],__typename:"FindPerformersResultType"}}})}})},ym=()=>{const[t]=Ps({onError:n=>n,errorPolicy:"all"});return n=>t({variables:{input:n},update:(r,s)=>{var l;!((l=s.data)==null?void 0:l.performerUpdate)||s.data.performerUpdate.stash_ids.forEach(u=>{r.writeQuery({query:Bt,variables:{performer_filter:{stash_id:{value:u.stash_id,modifier:ue.Equals}}},data:{findPerformers:{count:1,performers:[s.data.performerUpdate],__typename:"FindPerformersResultType"}}})})}})},hL=()=>{const[t]=cc({onError:n=>n});return(n,r)=>t({variables:{input:n},update:(s,l)=>{var u,o;if(!((u=l==null?void 0:l.data)==null?void 0:u.performerCreate))return;const i=s.readQuery({query:ka}),c=Object(ia.sortBy)([...(o=i==null?void 0:i.allPerformers)!=null?o:[],l.data.performerCreate],["name"]);c.length>1&&s.writeQuery({query:ka,data:{allPerformers:c}}),s.writeQuery({query:Bt,variables:{performer_filter:{stash_id:{value:r,modifier:ue.Equals}}},data:{findPerformers:{count:1,performers:[l.data.performerCreate],__typename:"FindPerformersResultType"}}})}})},vL=()=>{const[t]=pc({onError:n=>n});return(n,r)=>t({variables:{input:{id:n.id,stash_ids:r.map(s=>({stash_id:s.stash_id,endpoint:s.endpoint}))}},update:(s,l)=>{var u;if(!((u=l.data)==null?void 0:u.studioUpdate))return;const o=r[r.length-1].stash_id;s.writeQuery({query:Ea,variables:{studio_filter:{stash_id:{value:o,modifier:ue.Equals}}},data:{findStudios:{count:1,studios:[l.data.studioUpdate],__typename:"FindStudiosResultType"}}})}})},EL=()=>{const[t]=fc({onError:n=>n});return(n,r)=>t({variables:{input:n},update:(s,l)=>{var u,o;if(!((u=l==null?void 0:l.data)==null?void 0:u.studioCreate))return;const i=s.readQuery({query:Qa}),c=Object(ia.sortBy)([...(o=i==null?void 0:i.allStudios)!=null?o:[],l.data.studioCreate],["name"]);c.length>1&&s.writeQuery({query:Qa,data:{allStudios:c}}),s.writeQuery({query:Ea,variables:{studio_filter:{stash_id:{value:r,modifier:ue.Equals}}},data:{findStudios:{count:1,studios:[l.data.studioCreate],__typename:"FindStudiosResultType"}}})}})},yL=()=>{const[t]=_c({onError:n=>n});return n=>t({variables:{input:{name:n}},update:(r,s)=>{var l,u;if(!((l=s.data)==null?void 0:l.tagCreate))return;const o=r.readQuery({query:Ha}),i=Object(ia.sortBy)([...(u=o==null?void 0:o.allTags)!=null?u:[],s.data.tagCreate],["name"]);r.writeQuery({query:Ha,data:{allTags:i}})}})};var mC=Object.defineProperty,gC=Object.defineProperties,fC=Object.getOwnPropertyDescriptors,bm=Object.getOwnPropertySymbols,pC=Object.prototype.hasOwnProperty,_C=Object.prototype.propertyIsEnumerable,Sm=(t,a,n)=>a in t?mC(t,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[a]=n,hC=(t,a)=>{for(var n in a||(a={}))pC.call(a,n)&&Sm(t,n,a[n]);if(bm)for(var n of bm(a))_C.call(a,n)&&Sm(t,n,a[n]);return t},vC=(t,a)=>gC(t,fC(a)),EC=(t,a,n)=>new Promise((r,s)=>{var l=i=>{try{o(n.next(i))}catch(c){s(c)}},u=i=>{try{o(n.throw(i))}catch(c){s(c)}},o=i=>i.done?r(i.value):Promise.resolve(i.value).then(l,u);o((n=n.apply(t,a)).next())}),yC=({performer:t,stashboxPerformers:a,onPerformerTagged:n,excludedPerformerFields:r,endpoint:s})=>{const[l,u]=Object(d.useState)(),[o,i]=Object(d.useState)(""),[c,g]=Object(d.useState)({}),f=ym(),p=S=>EC(void 0,null,function*(){var v,x,w;g({}),i("Saving performer"),u(void 0);const D=vC(hC({},S),{id:t.id}),M=yield f(D);((v=M==null?void 0:M.data)==null?void 0:v.performerUpdate)?n(t):g({message:`Failed to save performer "${t.name}"`,details:((x=M==null?void 0:M.errors)==null?void 0:x[0].message)==="UNIQUE constraint failed: performers.checksum"?"Name already exists":(w=M==null?void 0:M.errors)==null?void 0:w[0].message}),i("")}),_=a.map(S=>{var v;return e.a.createElement(q.a,{className:"PerformerTagger-performer-search-item minimal col-6",variant:"link",key:S.remote_site_id,onClick:()=>u(S)},e.a.createElement("img",{src:((v=S.images)!=null?v:[])[0],alt:"",className:"PerformerTagger-thumb"}),e.a.createElement("span",null,S.name))});return e.a.createElement(e.a.Fragment,null,l&&e.a.createElement(zl,{closeModal:()=>u(void 0),modalVisible:l!==void 0,performer:l,onSave:p,icon:"tags",header:"Update Performer",excludedPerformerFields:r,endpoint:s}),e.a.createElement("div",{className:"PerformerTagger-performer-search"},_),e.a.createElement("div",{className:"row no-gutters mt-2 align-items-center justify-content-end"},c.message&&e.a.createElement("div",{className:"text-right text-danger mt-1"},e.a.createElement("strong",null,e.a.createElement("span",{className:"mr-2"},"Error:"),c.message),e.a.createElement("div",null,c.details)),o&&e.a.createElement("strong",{className:"col-4 mt-1 mr-2 text-right"},o)))},bC=Object.defineProperty,SC=Object.defineProperties,wC=Object.getOwnPropertyDescriptors,wm=Object.getOwnPropertySymbols,kC=Object.prototype.hasOwnProperty,xC=Object.prototype.propertyIsEnumerable,km=(t,a,n)=>a in t?bC(t,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[a]=n,xm=(t,a)=>{for(var n in a||(a={}))kC.call(a,n)&&km(t,n,a[n]);if(wm)for(var n of wm(a))xC.call(a,n)&&km(t,n,a[n]);return t},Pm=(t,a)=>SC(t,wC(a)),PC=({fields:t,show:a,excludedFields:n,onSelect:r})=>{const s=Object(ge.a)(),[l,u]=Object(d.useState)(n.reduce((c,g)=>Pm(xm({},c),{[g]:!0}),{})),o=c=>u(Pm(xm({},l),{[c]:!l[c]})),i=c=>e.a.createElement(Se.a,{xs:6,className:"mb-1",key:c},e.a.createElement(q.a,{onClick:()=>o(c),variant:"secondary",className:l[c]?"text-muted":"text-success"},e.a.createElement(le,{icon:l[c]?"times":"check"})),e.a.createElement("span",{className:"ml-3"},Me.capitalize(c)));return e.a.createElement(it,{show:a,icon:"list",dialogClassName:"FieldSelect",accept:{text:s.formatMessage({id:"actions.save"}),onClick:()=>r(Object.keys(l).filter(c=>l[c]))}},e.a.createElement("h4",null,"Select tagged fields"),e.a.createElement("div",{className:"mb-2"},"These fields will be tagged by default. Click the button to toggle."),e.a.createElement(xe.a,null,t.map(c=>i(c))))},CC=Object.defineProperty,MC=Object.defineProperties,OC=Object.getOwnPropertyDescriptors,Cm=Object.getOwnPropertySymbols,NC=Object.prototype.hasOwnProperty,IC=Object.prototype.propertyIsEnumerable,Mm=(t,a,n)=>a in t?CC(t,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[a]=n,Om=(t,a)=>{for(var n in a||(a={}))NC.call(a,n)&&Mm(t,n,a[n]);if(Cm)for(var n of Cm(a))IC.call(a,n)&&Mm(t,n,a[n]);return t},Nm=(t,a)=>MC(t,OC(a)),DC=({show:t,config:a,setConfig:n})=>{var r,s;const{configuration:l}=e.a.useContext(Et),[u,o]=Object(d.useState)(!1),i=(r=a.excludedPerformerFields)!=null?r:[],c=p=>{const _=p.currentTarget.value;n(Nm(Om({},a),{selectedEndpoint:_}))},g=(s=l==null?void 0:l.general.stashBoxes)!=null?s:[],f=p=>{n(Nm(Om({},a),{excludedPerformerFields:p})),o(!1)};return e.a.createElement(e.a.Fragment,null,e.a.createElement(En.a,{in:t},e.a.createElement(It.a,null,e.a.createElement("div",{className:"row"},e.a.createElement("h4",{className:"col-12"},"Configuration"),e.a.createElement("hr",{className:"w-100"}),e.a.createElement("div",{className:"col-md-6"},e.a.createElement(m.a.Group,{controlId:"excluded-performer-fields"},e.a.createElement("h6",null,"Excluded fields:"),e.a.createElement("span",null,i.length>0?i.map(p=>e.a.createElement(Zt.a,{variant:"secondary",className:"tag-item",key:p},Me.capitalize(p))):"No fields are excluded"),e.a.createElement(m.a.Text,null,"These fields will not be changed when updating performers."),e.a.createElement(q.a,{onClick:()=>o(!0),className:"mt-2"},"Edit Excluded Fields")),e.a.createElement(m.a.Group,{controlId:"stash-box-endpoint",className:"align-items-center row no-gutters mt-4"},e.a.createElement(m.a.Label,{className:"mr-4"},"Active stash-box instance:"),e.a.createElement(m.a.Control,{as:"select",value:a.selectedEndpoint,className:"col-md-4 col-6 input-control",disabled:!g.length,onChange:c},!g.length&&e.a.createElement("option",null,"No instances found"),l==null?void 0:l.general.stashBoxes.map(p=>e.a.createElement("option",{value:p.endpoint,key:p.endpoint},p.endpoint)))))))),e.a.createElement(PC,{fields:vx,show:u,onSelect:f,excludedFields:i}))},TC=Object.defineProperty,FC=Object.defineProperties,jC=Object.getOwnPropertyDescriptors,Xi=Object.getOwnPropertySymbols,Im=Object.prototype.hasOwnProperty,Dm=Object.prototype.propertyIsEnumerable,Tm=(t,a,n)=>a in t?TC(t,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[a]=n,Ga=(t,a)=>{for(var n in a||(a={}))Im.call(a,n)&&Tm(t,n,a[n]);if(Xi)for(var n of Xi(a))Dm.call(a,n)&&Tm(t,n,a[n]);return t},Va=(t,a)=>FC(t,jC(a)),LC=t=>typeof t=="symbol"?t:t+"",AC=(t,a)=>{var n={};for(var r in t)Im.call(t,r)&&a.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Xi)for(var r of Xi(t))a.indexOf(r)<0&&Dm.call(t,r)&&(n[r]=t[r]);return n},Zi=(t,a,n)=>new Promise((r,s)=>{var l=i=>{try{o(n.next(i))}catch(c){s(c)}},u=i=>{try{o(n.throw(i))}catch(c){s(c)}},o=i=>i.done?r(i.value):Promise.resolve(i.value).then(l,u);o((n=n.apply(t,a)).next())});const es="PerformerTagger",RC=({performers:t,selectedEndpoint:a,isIdle:n,config:r,stashBoxes:s,onBatchAdd:l,onBatchUpdate:u})=>{const o=Object(ge.a)(),[i,c]=Object(d.useState)(!1),[g,f]=Object(d.useState)({}),[p,_]=Object(d.useState)({}),[S,v]=Object(d.useState)({}),[x,w]=Object(d.useState)({}),[D,M]=Object(d.useState)(!1),[y,k]=Object(d.useState)(!1),{data:F}=vc({variables:{performer_filter:{stash_id:{value:"",modifier:y?ue.NotNull:ue.IsNull}},filter:{per_page:0}}}),[I,j]=Object(d.useState)(!1),[R,P]=Object(d.useState)(!1),z=Object(d.useRef)(null),[L,G]=Object(d.useState)({}),[Y,V]=Object(d.useState)(),[U,te]=Object(d.useState)(),oe=(A,T)=>{Xc(T,a.index).then(N=>{var C,O;const $=(O=(C=N.data)==null?void 0:C.scrapeSinglePerformer)!=null?O:[];f(Va(Ga({},g),{[A]:$})),_(Va(Ga({},p),{[A]:void 0})),c(!1)}).catch(()=>{c(!1);const N=g,{[A]:C}=N,O=AC(N,[LC(A)]);f(O),_(Va(Ga({},p),{[A]:"Network Error"}))}),c(!0)},Q=(A,T,N)=>{V(T),G(Va(Ga({},L),{[A]:void 0})),Xc(T,N).then(C=>{var O,$;const X=($=(O=C.data)==null?void 0:O.scrapeSinglePerformer)!=null?$:[];X.length>0&&te(Va(Ga({},X[0]),{stored_id:A}))}).finally(()=>V(void 0))};function J(){return Zi(this,null,function*(){z.current&&l(z.current.value),j(!1)})}const re=()=>{u(D?void 0:t.map(A=>A.id),y),P(!1)},Z=A=>{v(Va(Ga({},S),{[A.id]:A}))},W=ym(),H=A=>Zi(void 0,null,function*(){var T,N,C;te(void 0);const O=U==null?void 0:U.stored_id;if(O){const $=Va(Ga({},A),{id:O}),X=yield W($);((T=X.data)==null?void 0:T.performerUpdate)||G(Va(Ga({},L),{[O]:{message:`Failed to save performer "${U==null?void 0:U.name}"`,details:((N=X==null?void 0:X.errors)==null?void 0:N[0].message)==="UNIQUE constraint failed: performers.checksum"?"Name already exists":(C=X==null?void 0:X.errors)==null?void 0:C[0].message}}))}}),de=()=>t.map(A=>{var T,N,C,O,$;const X=S[A.id],ie=A.stash_ids.length>0;let ae;!X&&ie?ae=e.a.createElement("div",{className:"text-left"},e.a.createElement("h5",{className:"text-bold"},"Performer already tagged")):!X&&!ie?ae=e.a.createElement(Ze.a,null,e.a.createElement(m.a.Control,{className:"text-input",defaultValue:(T=A.name)!=null?T:"",onChange:Pe=>w(Va(Ga({},x),{[A.id]:Pe.currentTarget.value})),onKeyPress:Pe=>{var Fe,ve;return Pe.key==="Enter"&&oe(A.id,(ve=(Fe=x[A.id])!=null?Fe:A.name)!=null?ve:"")}}),e.a.createElement(Ze.a.Append,null,e.a.createElement(q.a,{disabled:i,onClick:()=>{var Pe,Fe;return oe(A.id,(Fe=(Pe=x[A.id])!=null?Pe:A.name)!=null?Fe:"")}},e.a.createElement(b.a,{id:"actions.search"})))):X&&(ae=e.a.createElement("div",{className:"d-flex flex-column text-left"},e.a.createElement("h5",null,"Performer successfully tagged:"),e.a.createElement("h6",null,e.a.createElement(Le.Link,{className:"bold",to:`/performers/${A.id}`},S[A.id].name))));let se;if(A.stash_ids.length>0){const Pe=A.stash_ids.map(Fe=>{var ve,Te,Ve,he;const be=(ve=Fe.endpoint.match(/https?:\/\/.*?\//))==null?void 0:ve[0],Ne=be?e.a.createElement("a",{className:"small d-block",href:`${be}performers/${Fe.stash_id}`,target:"_blank",rel:"noopener noreferrer"},Fe.stash_id):e.a.createElement("div",{className:"small"},Fe.stash_id),Ie=(Te=s==null?void 0:s.findIndex(je=>je.endpoint===Fe.endpoint))!=null?Te:-1;return e.a.createElement("div",{key:A.id},e.a.createElement(Ze.a,{className:"PerformerTagger-box-link"},e.a.createElement(Ze.a.Text,null,Ne),e.a.createElement(Ze.a.Append,null,Ie!==-1&&e.a.createElement(q.a,{onClick:()=>Q(A.id,Fe.stash_id,Ie),disabled:!!Y},Y===Fe.stash_id?e.a.createElement($e,{inline:!0,small:!0,message:""}):"Refresh"))),L[A.id]&&e.a.createElement("div",{className:"text-danger mt-1"},e.a.createElement("strong",null,e.a.createElement("span",{className:"mr-2"},"Error:"),(Ve=L[A.id])==null?void 0:Ve.message),e.a.createElement("div",null,(he=L[A.id])==null?void 0:he.details)))});se=e.a.createElement(e.a.Fragment,null,Pe)}else p[A.id]?se=e.a.createElement("div",{className:"text-danger font-weight-bold"},p[A.id]):((N=g[A.id])==null?void 0:N.length)===0&&(se=e.a.createElement("div",{className:"text-danger font-weight-bold"},"No results found."));let ye;return((C=g[A.id])==null?void 0:C.length)>0&&!X&&(ye=e.a.createElement(yC,{key:A.id,stashboxPerformers:g[A.id],performer:A,endpoint:a.endpoint,onPerformerTagged:Z,excludedPerformerFields:(O=r.excludedPerformerFields)!=null?O:[]})),e.a.createElement("div",{key:A.id,className:`${es}-performer`},U&&e.a.createElement(zl,{closeModal:()=>te(void 0),modalVisible:U!==void 0,performer:U,onSave:H,excludedPerformerFields:r.excludedPerformerFields,icon:"tags",header:"Update Performer",endpoint:a.endpoint}),e.a.createElement(It.a,{className:"performer-card p-0 m-0"},e.a.createElement("img",{src:($=A.image_path)!=null?$:"",alt:""})),e.a.createElement("div",{className:`${es}-details`},e.a.createElement(Le.Link,{to:`/performers/${A.id}`,className:`${es}-header`},e.a.createElement("h2",null,A.name)),ae,e.a.createElement("div",{className:"sub-content text-left"},se),ye))});return e.a.createElement(It.a,null,e.a.createElement(it,{show:R,icon:"tags",header:"Update Performers",accept:{text:"Update Performers",onClick:re},cancel:{text:o.formatMessage({id:"actions.cancel"}),variant:"danger",onClick:()=>P(!1)},disabled:!n},e.a.createElement(m.a.Group,null,e.a.createElement(m.a.Label,null,e.a.createElement("h6",null,"Performer selection")),e.a.createElement(m.a.Check,{id:"query-page",type:"radio",name:"performer-query",label:"Current page",defaultChecked:!0,onChange:()=>M(!1)}),e.a.createElement(m.a.Check,{id:"query-all",type:"radio",name:"performer-query",label:"All performers in the database",defaultChecked:!1,onChange:()=>M(!0)})),e.a.createElement(m.a.Group,null,e.a.createElement(m.a.Label,null,e.a.createElement("h6",null,"Tag Status")),e.a.createElement(m.a.Check,{id:"untagged-performers",type:"radio",name:"performer-refresh",label:"Untagged performers",defaultChecked:!0,onChange:()=>k(!1)}),e.a.createElement(m.a.Text,null,"Updating untagged performers will try to match any performers that lack a stashid and update the metadata."),e.a.createElement(m.a.Check,{id:"tagged-performers",type:"radio",name:"performer-refresh",label:"Refresh tagged performers",defaultChecked:!1,onChange:()=>k(!0)}),e.a.createElement(m.a.Text,null,"Refreshing will update the data of any tagged performers from the stash-box instance.")),e.a.createElement("b",null,`${D?F==null?void 0:F.findPerformers.count:t.filter(A=>y?A.stash_ids.length>0:A.stash_ids.length===0).length} performers will be processed`)),e.a.createElement(it,{show:I,icon:"star",header:"Add New Performers",accept:{text:"Add Performers",onClick:J},cancel:{text:o.formatMessage({id:"actions.cancel"}),variant:"danger",onClick:()=>j(!1)},disabled:!n},e.a.createElement(m.a.Control,{className:"text-input",as:"textarea",ref:z,placeholder:"Performer names separated by comma",rows:6}),e.a.createElement(m.a.Text,null,"Any names entered will be queried from the remote Stash-Box instance and added if found. Only exact matches will be considered a match.")),e.a.createElement("div",{className:"ml-auto mb-3"},e.a.createElement(q.a,{onClick:()=>j(!0)},"Batch Add Performers"),e.a.createElement(q.a,{className:"ml-3",onClick:()=>P(!0)},"Batch Update Performers")),e.a.createElement("div",{className:es},de()))},zC=({performers:t})=>{var a;const n=Uc(),{configuration:r}=e.a.useContext(Et),[{data:s},l]=_i(xd,qi),[u,o]=Object(d.useState)(!1),[i,c]=Object(d.useState)(!1),[g,f]=Object(d.useState)(),[p,_]=Object(d.useState)();if(Object(d.useEffect)(()=>{if(!n.data)return;const y=n.data.jobsSubscribe;y.job.id===g&&(y.type!==Fn.Remove?_(y.job):(_(void 0),f(void 0)))},[n,g]),!s)return e.a.createElement($e,null);const S=(a=r==null?void 0:r.general.stashBoxes.findIndex(y=>y.endpoint===s.selectedEndpoint))!=null?a:-1,v=S===-1&&(r==null?void 0:r.general.stashBoxes.length)?0:S,x=r==null?void 0:r.general.stashBoxes[v];function w(y){return Zi(this,null,function*(){var k;if(y&&x){const F=y.split(",").map(I=>I.trim()).filter(I=>I.length>0);if(F.length>0){const I=yield Yc({performer_names:F,endpoint:v,refresh:!1});f((k=I.data)==null?void 0:k.stashBoxBatchPerformerTag)}}})}function D(y,k){return Zi(this,null,function*(){var F,I;if(s&&x){const j=yield Yc({performer_ids:y,endpoint:v,refresh:k,exclude_fields:(F=s.excludedPerformerFields)!=null?F:[]});f((I=j.data)==null?void 0:I.stashBoxBatchPerformerTag)}})}function M(){if(p){const y=p.progress!==void 0&&p.progress!==null?p.progress*100:void 0;return e.a.createElement(m.a.Group,{className:"px-4"},e.a.createElement("h5",null,"Status: Tagging performers"),y!==void 0&&e.a.createElement(Em.a,{animated:!0,now:y,label:`${y.toFixed(0)}%`}))}if(g!==void 0)return e.a.createElement(m.a.Group,{className:"px-4"},e.a.createElement("h5",null,"Status: Tagging job queued"))}return e.a.createElement(e.a.Fragment,null,e.a.createElement(Dl,{show:i,onClose:()=>c(!1),defaultActiveTab:"Tagger.md"}),M(),e.a.createElement("div",{className:"tagger-container mx-md-auto"},v!==-1&&x?e.a.createElement(e.a.Fragment,null,e.a.createElement("div",{className:"row mb-2 no-gutters"},e.a.createElement(q.a,{onClick:()=>o(!u),variant:"link"},u?"Hide":"Show"," Configuration"),e.a.createElement(q.a,{className:"ml-auto",onClick:()=>c(!0),title:"Help",variant:"link"},"Help")),e.a.createElement(DC,{config:s,setConfig:l,show:u}),e.a.createElement(RC,{performers:t,selectedEndpoint:{endpoint:x.endpoint,index:v},isIdle:g===void 0,config:s,stashBoxes:r==null?void 0:r.general.stashBoxes,onBatchAdd:w,onBatchUpdate:D})):e.a.createElement("div",{className:"my-4"},e.a.createElement("h3",{className:"text-center mt-4"},"To use the performer tagger a stash-box instance needs to be configured."),e.a.createElement("h5",{className:"text-center"},"Please see"," ",e.a.createElement(dC.a,{to:"/settings?tab=configuration#stashbox",scroll:y=>y.scrollIntoView({behavior:"smooth",block:"center"})},"Settings.")))))},qC=t=>{const a=Object(ge.a)(),n=r=>{var s,l;return e.a.createElement("tr",{key:r.id},e.a.createElement("td",null,e.a.createElement(Le.Link,{to:`/performers/${r.id}`},e.a.createElement("img",{className:"image-thumbnail",alt:(s=r.name)!=null?s:"",src:(l=r.image_path)!=null?l:""}))),e.a.createElement("td",{className:"text-left"},e.a.createElement(Le.Link,{to:`/performers/${r.id}`},e.a.createElement("h5",null,r.name))),e.a.createElement("td",null,r.aliases?r.aliases:""),e.a.createElement("td",null,r.favorite&&e.a.createElement(q.a,{disabled:!0,className:"favorite"},e.a.createElement(le,{icon:"heart"}))),e.a.createElement("td",null,e.a.createElement(Le.Link,{to:rt.makePerformerScenesUrl(r)},e.a.createElement("h6",null,r.scene_count))),e.a.createElement("td",null,e.a.createElement(Le.Link,{to:rt.makePerformerImagesUrl(r)},e.a.createElement("h6",null,r.image_count))),e.a.createElement("td",null,e.a.createElement(Le.Link,{to:rt.makePerformerGalleriesUrl(r)},e.a.createElement("h6",null,r.gallery_count))),e.a.createElement("td",null,r.birthdate),e.a.createElement("td",null,r.height))};return e.a.createElement("div",{className:"row justify-content-center table-list"},e.a.createElement(Ra.a,{bordered:!0,striped:!0},e.a.createElement("thead",null,e.a.createElement("tr",null,e.a.createElement("th",null),e.a.createElement("th",null,a.formatMessage({id:"name"})),e.a.createElement("th",null,a.formatMessage({id:"aliases"})),e.a.createElement("th",null,a.formatMessage({id:"favourite"})),e.a.createElement("th",null,a.formatMessage({id:"scene_count"})),e.a.createElement("th",null,a.formatMessage({id:"image_count"})),e.a.createElement("th",null,a.formatMessage({id:"gallery_count"})),e.a.createElement("th",null,a.formatMessage({id:"birthdate"})),e.a.createElement("th",null,a.formatMessage({id:"height"})))),e.a.createElement("tbody",null,t.performers.map(n))))};var $C=(t,a,n)=>new Promise((r,s)=>{var l=i=>{try{o(n.next(i))}catch(c){s(c)}},u=i=>{try{o(n.throw(i))}catch(c){s(c)}},o=i=>i.done?r(i.value):Promise.resolve(i.value).then(l,u);o((n=n.apply(t,a)).next())});const GC=t=>{const a=Object(ge.a)(),n=He(),[r,s]=Object(d.useState)(),[l,u]=e.a.useState(ot.Add),[o,i]=Object(d.useState)(),[c,g]=Object(d.useState)(),[f,p]=Object(d.useState)(),[_]=_E(D()),[S,v]=Object(d.useState)(!1),x=e.a.createRef();function w(j,R){return{mode:R,ids:j}}function D(){const j=y(t.selected),R=k(t.selected),P={ids:t.selected.map(z=>z.id)};return r===void 0?R&&(P.rating=null):P.rating=r,l===ot.Set&&(!o||o.length===0)?j.length>0&&(P.tag_ids=w(o||[],l)):P.tag_ids=w(o||[],l),f!==void 0&&(P.favorite=f),P}function M(){return $C(this,null,function*(){v(!0);try{yield _(),n.success({content:a.formatMessage({id:"toast.updated_entity"},{entity:a.formatMessage({id:"performers"}).toLocaleLowerCase()})}),t.onClose(!0)}catch(j){n.error(j)}v(!1)})}function y(j){let R=[],P=!0;return j.forEach(z=>{if(P)R=z.tags?z.tags.map(L=>L.id).sort():[],P=!1;else{const L=z.tags?z.tags.map(G=>G.id).sort():[];Re.a.isEqual(R,L)||(R=[])}}),R}function k(j){let R,P=!0;return j.forEach(z=>{var L;P?(R=(L=z.rating)!=null?L:void 0,P=!1):R!==z.rating&&(R=void 0)}),R}Object(d.useEffect)(()=>{const j=t.selected;let R=[],P,z,L=!0;j.forEach(G=>{var Y;const V=((Y=G.tags)!=null?Y:[]).map(te=>te.id).sort(),U=G.rating;L?(R=V,L=!1,P=G.favorite,z=U!=null?U:void 0):(Re.a.isEqual(V,R)||(R=[]),G.favorite!==P&&(P=void 0),U!==z&&(z=void 0))}),g(R),p(P),s(z)},[t.selected,l]),Object(d.useEffect)(()=>{x.current&&(x.current.indeterminate=f===void 0)},[f,x]);function F(){p(f?void 0:f!==void 0)}function I(){return e.a.createElement(it,{show:!0,icon:"pencil-alt",header:"Edit Performers",accept:{onClick:M,text:a.formatMessage({id:"actions.apply"})},cancel:{onClick:()=>t.onClose(!1),text:a.formatMessage({id:"actions.cancel"}),variant:"secondary"},isRunning:S},e.a.createElement(m.a.Group,{controlId:"rating",as:xe.a},tt.renderLabel({title:a.formatMessage({id:"rating"})}),e.a.createElement(Se.a,{xs:9},e.a.createElement(Kt,{value:r,onSetRating:j=>s(j),disabled:S}))),e.a.createElement(m.a,null,e.a.createElement(m.a.Group,{controlId:"tags"},e.a.createElement(m.a.Label,null,e.a.createElement(b.a,{id:"tags"})),e.a.createElement(ji,{type:"tags",disabled:S,onUpdate:j=>i(j),onSetMode:j=>u(j),existingIds:c!=null?c:[],ids:o!=null?o:[],mode:l})),e.a.createElement(m.a.Group,{controlId:"favorite"},e.a.createElement(m.a.Check,{type:"checkbox",label:"Favorite",checked:f,ref:x,onChange:()=>F()}))))}return I()};var Kl=(t,a,n)=>new Promise((r,s)=>{var l=i=>{try{o(n.next(i))}catch(c){s(c)}},u=i=>{try{o(n.throw(i))}catch(c){s(c)}},o=i=>i.done?r(i.value):Promise.resolve(i.value).then(l,u);o((n=n.apply(t,a)).next())});const Yl=({filterHook:t,persistState:a,extraCriteria:n})=>{const r=Object(ge.a)(),s=Object(ke.k)(),[l,u]=Object(d.useState)(!1),[o,i]=Object(d.useState)(!1),c=[{text:r.formatMessage({id:"actions.open_random"}),onClick:w},{text:r.formatMessage({id:"actions.export"}),onClick:f,isDisplayed:fa},{text:r.formatMessage({id:"actions.export_all"}),onClick:p}],g=(M,y)=>(B.a.bind("p r",()=>{w(M,y)}),()=>{B.a.unbind("p r")});function f(){return Kl(this,null,function*(){i(!1),u(!0)})}function p(){return Kl(this,null,function*(){i(!0),u(!0)})}function _(M){if(l)return e.a.createElement(e.a.Fragment,null,e.a.createElement(Sn,{exportInput:{performers:{ids:Array.from(M.values()),all:o}},onClose:()=>{u(!1)}}))}function S(M,y){return e.a.createElement(e.a.Fragment,null,e.a.createElement(GC,{selected:M,onClose:y}))}const x=BS({otherOperations:c,renderContent:D,renderEditDialog:S,filterHook:t,addKeybinds:g,selectable:!0,persistState:a,renderDeleteDialog:(M,y)=>e.a.createElement(Wi,{selected:M,onClose:y,singularEntity:r.formatMessage({id:"performer"}),pluralEntity:r.formatMessage({id:"performers"}),destroyMutation:vE})});function w(M,y){return Kl(this,null,function*(){var k;if((k=M.data)==null?void 0:k.findPerformers){const{count:F}=M.data.findPerformers,I=Math.floor(Math.random()*F),j=Re.a.cloneDeep(y);j.itemsPerPage=1,j.currentPage=I+1;const R=yield Hv(j);if(R&&R.data&&R.data.findPerformers&&R.data.findPerformers.performers.length===1){const{id:P}=R.data.findPerformers.performers[0];s.push(`/performers/${P}`)}}})}function D(M,y,k){var F;if(!!((F=M.data)==null?void 0:F.findPerformers)){if(y.displayMode===Ge.Grid)return e.a.createElement(e.a.Fragment,null,_(k),e.a.createElement("div",{className:"row justify-content-center"},M.data.findPerformers.performers.map(I=>e.a.createElement(Ii,{key:I.id,performer:I,selecting:k.size>0,selected:k.has(I.id),onSelectedChanged:(j,R)=>x.onSelectChange(I.id,j,R),extraCriteria:n}))));if(y.displayMode===Ge.List)return e.a.createElement(qC,{performers:M.data.findPerformers.performers});if(y.displayMode===Ge.Tagger)return e.a.createElement(zC,{performers:M.data.findPerformers.performers})}}return x.template};var VC=Object.defineProperty,Fm=Object.getOwnPropertySymbols,BC=Object.prototype.hasOwnProperty,UC=Object.prototype.propertyIsEnumerable,jm=(t,a,n)=>a in t?VC(t,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[a]=n,QC=(t,a)=>{for(var n in a||(a={}))BC.call(a,n)&&jm(t,n,a[n]);if(Fm)for(var n of Fm(a))UC.call(a,n)&&jm(t,n,a[n]);return t},HC=()=>{const a=`${Object(ge.a)().formatMessage({id:"performers"})} ${Pa}`;return e.a.createElement(e.a.Fragment,null,e.a.createElement(Tt.a,{defaultTitle:a,titleTemplate:`%s | ${a}`}),e.a.createElement(ke.g,null,e.a.createElement(ke.d,{exact:!0,path:"/performers",render:n=>e.a.createElement(Yl,QC({persistState:ca.ALL},n))}),e.a.createElement(ke.d,{path:"/performers/new",component:uC}),e.a.createElement(ke.d,{path:"/performers/:id/:tab?",component:cC})))};const WC=({galleryId:t})=>{var a,n;const{data:r,loading:s}=Dc(t),l=(n=(a=r==null?void 0:r.findGallery)==null?void 0:a.images)!=null?n:[],u=Cl({images:l,showNavigation:!1});if(s)return e.a.createElement($e,null);const o=l.map((i,c)=>{var g,f,p;return e.a.createElement("div",{role:"link",tabIndex:c,key:(g=i.checksum)!=null?g:c,onClick:()=>u(c),onKeyPress:()=>u(c)},e.a.createElement("img",{src:(f=i.paths.thumbnail)!=null?f:"",loading:"lazy",className:"gallery-image",alt:(p=i.title)!=null?p:c.toString()}))});return e.a.createElement("div",{className:"gallery"},e.a.createElement("div",{className:"flexbin"},o))};var KC=ne(420),YC=ne.n(KC);const Lm="main-jwplayer";var Cn={playerID:Lm,getPlayer:()=>window.jwplayer(Lm)},JC={isMobile:()=>window.matchMedia("only screen and (max-width: 767px)").matches},XC=ne(422),ZC=ne.n(XC),eM=Object.defineProperty,Am=Object.getOwnPropertySymbols,tM=Object.prototype.hasOwnProperty,aM=Object.prototype.propertyIsEnumerable,Rm=(t,a,n)=>a in t?eM(t,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[a]=n,zm=(t,a)=>{for(var n in a||(a={}))tM.call(a,n)&&Rm(t,n,a[n]);if(Am)for(var n of Am(a))aM.call(a,n)&&Rm(t,n,a[n]);return t},nM=(t,a,n)=>new Promise((r,s)=>{var l=i=>{try{o(n.next(i))}catch(c){s(c)}},u=i=>{try{o(n.throw(i))}catch(c){s(c)}},o=i=>i.done?r(i.value):Promise.resolve(i.value).then(l,u);o((n=n.apply(t,a)).next())});function rM(t){return nM(this,null,function*(){const n=(yield ZC.a.get(t,{responseType:"text"})).data.split(`
`);if(n.shift()!=="WEBVTT"||n.shift()!=="")return;let r={start:0,end:0,x:0,y:0,w:0,h:0};const s=[];for(;n.length;){const l=n.shift();if(l!==void 0){if(l.includes("#")&&l.includes("=")&&l.includes(",")){const u=l.split("#")[1].split("=")[1].split(",");r.x=Number(u[0]),r.y=Number(u[1]),r.w=Number(u[2]),r.h=Number(u[3]),s.push(r),r={start:0,end:0,x:0,y:0,w:0,h:0}}else if(l.includes(" --> ")){const u=l.split(" --> "),o=u[0].split(":");r.start=+o[0]*60*60+ +o[1]*60+ +o[2];const i=u[1].split(":");r.end=+i[0]*60*60+ +i[1]*60+ +i[2]}}}return s})}const iM=t=>{const a=Object(d.useRef)(null),n=Object(d.useRef)(null),r=Object(d.useRef)(null),s=Object(d.useRef)(!1),l=Object(d.useRef)(null),u=Object(d.useRef)(null),o=Object(d.useRef)(0),i=Object(d.useRef)(0),c=Object(d.useCallback)(()=>i.current,[]),g=Object(d.useCallback)((k,F=!0)=>{if(!r.current||!n.current)return;F&&t.onScrolled();const I=r.current.clientWidth/2,j=x()*-1;k>I?i.current=I:k<j-I?i.current=j-I:i.current=k,r.current.style.transform=`translateX(${i.current}px)`;const R=(k-I)/(j-I*2)*r.current.clientWidth;n.current.style.transform=`translateX(${R}px)`},[t]),[f,p]=Object(d.useState)([]);Object(d.useEffect)(()=>{!r.current||(r.current.style.transform=`translateX(${r.current.clientWidth/2}px)`)},[r]),Object(d.useEffect)(()=>{!t.scene.paths.vtt||rM(t.scene.paths.vtt).then(k=>{k&&p(k)})},[t.scene]),Object(d.useEffect)(()=>{if(!r.current)return;const k=Number(t.scene.file.duration),F=t.position/k,I=(r.current.scrollWidth*F-r.current.clientWidth/2)*-1;g(I,!1)},[t.position,t.scene.file.duration,g]),Object(d.useEffect)(()=>(window.addEventListener("mouseup",_,!1),()=>{window.removeEventListener("mouseup",_)})),Object(d.useEffect)(()=>{if(!a.current)return;const k=a.current;return k.addEventListener("mousedown",S,!1),()=>{!k||k.removeEventListener("mousedown",S)}}),Object(d.useEffect)(()=>{if(!a.current)return;const k=a.current;return k.addEventListener("mousemove",v,!1),()=>{!k||k.removeEventListener("mousemove",v)}});function _(k){if(!u.current||!r.current)return;if(s.current=!1,Math.abs(k.clientX-u.current.clientX)<1&&k.target instanceof HTMLDivElement){const{target:I}=k;let j;if(I.getAttribute("data-sprite-item-id")!=null){const z=k.offsetX/I.clientWidth;j=(I.offsetLeft+I.clientWidth*z)/r.current.scrollWidth*(t.scene.file.duration||0)}const P=I.getAttribute("data-marker-id");P!=null&&(j=t.scene.scene_markers[Number(P)].seconds),j&&t.onSeek(j)}else if(Math.abs(o.current)>25){const I=c()+o.current*10;g(I),o.current=0}}function S(k){k.preventDefault(),s.current=!0,l.current=k,u.current=k,o.current=0}function v(k){var F,I;if(!s.current)return;const j=k.clientX-((I=(F=l.current)==null?void 0:F.clientX)!=null?I:0),R=k.movementX;o.current=R;const P=c()+j;g(P),l.current=k}function x(){return!r.current||!n.current?0:r.current.scrollWidth-r.current.clientWidth}function w(){if(!r.current)return;const k=c()+r.current.clientWidth;g(k)}function D(){if(!r.current)return;const k=c()-r.current.clientWidth;g(k)}function M(){function k(F){var I;if(!r.current||f.length===0||x()===0)return{};const j=window.document.getElementsByClassName("scrubber-tag");if(j.length===0)return{};let R;for(let Y=0;Y<j.length&&(R=j.item(Y),((I=R==null?void 0:R.getAttribute("data-marker-id"))!=null?I:null)!==F.toString());Y++);const P=t.scene.scene_markers[F],z=Number(t.scene.file.duration),L=P.seconds/z;return{left:`${r.current.scrollWidth*L-R.clientWidth/2}px`,height:20}}return t.scene.scene_markers.map((F,I)=>{const j={"data-marker-id":I};return e.a.createElement("div",zm({key:I,className:"scrubber-tag",style:k(I)},j),F.title)})}function y(){function k(F){if(!t.scene.paths.vtt)return{};const I=f[F],j=I.w*F,R=t.scene.paths.vtt.replace("_thumbs.vtt","_sprite.jpg");return{width:`${I.w}px`,height:`${I.h}px`,margin:"0px auto",backgroundPosition:`${-I.x}px ${-I.y}px`,backgroundImage:`url(${R})`,left:`${j}px`}}return f.map((F,I)=>{const j={"data-sprite-item-id":I};return e.a.createElement("div",zm({key:I,className:"scrubber-item",style:k(I)},j),e.a.createElement("span",{className:"scrubber-item-time"},Me.secondsToTimestamp(F.start)," -"," ",Me.secondsToTimestamp(F.end)))})}return e.a.createElement("div",{className:"scrubber-wrapper"},e.a.createElement(q.a,{variant:"link",className:"scrubber-button",id:"scrubber-back",onClick:()=>w()},"<"),e.a.createElement("div",{ref:a,className:"scrubber-content"},e.a.createElement("div",{className:"scrubber-tags-background"}),e.a.createElement("div",{ref:n,id:"scrubber-position-indicator"}),e.a.createElement("div",{id:"scrubber-current-position"}),e.a.createElement("div",{className:"scrubber-viewport"},e.a.createElement("div",{ref:r,className:"scrubber-slider"},e.a.createElement("div",{className:"scrubber-tags"},M()),y()))),e.a.createElement(q.a,{className:"scrubber-button",id:"scrubber-forward",onClick:()=>D()},">"))};var sM=ne(421),lM=ne.n(sM),ts=(t,a,n)=>new Promise((r,s)=>{var l=i=>{try{o(n.next(i))}catch(c){s(c)}},u=i=>{try{o(n.throw(i))}catch(c){s(c)}},o=i=>i.done?r(i.value):Promise.resolve(i.value).then(l,u);o((n=n.apply(t,a)).next())});function oM(t){var a;const n=`\r
`;if(((a=t==null?void 0:t.actions)==null?void 0:a.length)>0)return t.actions.reduce((r,s)=>`${r}${s.at},${s.pos}${n}`,`#Created by stash.app ${new Date().toUTCString()}
`);throw new Error("Not a valid funscript")}class cM{constructor(a,n){this._handy=new lM.a,this._handy.connectionKey=a,this._scriptOffset=n,this._connected=!1,this._playing=!1}get handyKey(){return this._handy.connectionKey}uploadScript(a){return ts(this,null,function*(){if(!(this._handy.connectionKey&&a))return;if(!this._handy.serverTimeOffset){const u=localStorage.getItem("serverTimeOffset");u!==null?this._handy.serverTimeOffset=parseInt(u,10):(yield this._handy.getServerTimeOffset(),localStorage.setItem("serverTimeOffset",this._handy.serverTimeOffset.toString()))}const n=yield fetch(a).then(u=>u.json()).then(u=>oM(u)),r=`${Math.round(Math.random()*1e8)}.csv`,s=new File([n],r),l=yield this._handy.uploadCsv(s).then(u=>u.url);this._connected=yield this._handy.syncPrepare(encodeURIComponent(l),r,s.size).then(u=>u.connected)})}play(a){return ts(this,null,function*(){!this._connected||(this._playing=yield this._handy.syncPlay(!0,Math.round(a*1e3+this._scriptOffset)).then(()=>!0))})}pause(){return ts(this,null,function*(){!this._connected||(this._playing=yield this._handy.syncPlay(!1).then(()=>!1))})}ensurePlaying(a){return ts(this,null,function*(){this._playing||(yield this.play(a))})}}var uM=Object.defineProperty,dM=Object.defineProperties,mM=Object.getOwnPropertyDescriptors,qm=Object.getOwnPropertySymbols,gM=Object.prototype.hasOwnProperty,fM=Object.prototype.propertyIsEnumerable,$m=(t,a,n)=>a in t?uM(t,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[a]=n,Jl=(t,a)=>{for(var n in a||(a={}))gM.call(a,n)&&$m(t,n,a[n]);if(qm)for(var n of qm(a))fM.call(a,n)&&$m(t,n,a[n]);return t},Gm=(t,a)=>dM(t,mM(a));class Xl extends e.a.Component{constructor(a){super(a);this.lastTime=0;var n,r;this.onReady=this.onReady.bind(this),this.onSeeked=this.onSeeked.bind(this),this.onTime=this.onTime.bind(this),this.onScrubberSeek=this.onScrubberSeek.bind(this),this.onScrubberScrolled=this.onScrubberScrolled.bind(this),this.state={scrubberPosition:0,config:this.makeJWPlayerConfig(a.scene),interactiveClient:new cM(((n=this.props.config)==null?void 0:n.handyKey)||"",((r=this.props.config)==null?void 0:r.funscriptOffset)||0)},localStorage.removeItem("jwplayer.qualityLabel")}static isDirectStream(a){return a?new URL(a).pathname.endsWith("/stream"):!1}UNSAFE_componentWillReceiveProps(a){a.scene!==this.props.scene&&this.setState(n=>Gm(Jl({},n),{config:this.makeJWPlayerConfig(this.props.scene)}))}componentDidUpdate(a){a.timestamp!==this.props.timestamp&&this.player.seek(this.props.timestamp)}onIncrease(){const a=this.player?this.player.getPlaybackRate():1;this.player.setPlaybackRate(a+.5)}onDecrease(){const a=this.player?this.player.getPlaybackRate():1;this.player.setPlaybackRate(a-.5)}onReset(){this.player.setPlaybackRate(1)}onPause(){this.player.getState().paused?this.player.play():this.player.pause()}onReady(){this.player=Cn.getPlayer(),this.player.on("error",a=>{a&&a.code===224003&&this.handleError(!0)}),this.player.on("meta",a=>{if(a.metadataType==="media"&&!a.width&&!a.height){const n=this.player.getPlaylistItem().file;if(n!=null&&!n.includes("m3u8")){const r=this.player.getState(),s=r==="buffering"||r==="playing";this.handleError(s)}}}),this.player.on("firstFrame",()=>{this.props.timestamp>0&&this.player.seek(this.props.timestamp)}),this.player.on("play",()=>{this.props.scene.interactive&&this.state.interactiveClient.play(this.player.getPosition())}),this.player.on("pause",()=>{this.props.scene.interactive&&this.state.interactiveClient.pause()}),this.props.scene.interactive&&this.state.interactiveClient.uploadScript(this.props.scene.paths.funscript||"")}onSeeked(){const a=this.player.getPosition();this.setState({scrubberPosition:a}),this.player.play()}onTime(){const a=this.player.getPosition();Math.abs(a-this.lastTime)>1&&(this.lastTime=a,this.setState({scrubberPosition:a}),this.props.scene.interactive&&this.state.interactiveClient.ensurePlaying(a))}onComplete(){var a;((a=this.props)==null?void 0:a.onComplete)&&this.props.onComplete()}onScrubberSeek(a){this.player.seek(a)}onScrubberScrolled(){this.player.pause()}handleError(a){const n=this.player.getPlaylistItem();n&&console.log(`Source failed: ${n.file}`),this.tryNextStream()&&(console.log(`Trying next source in playlist: ${this.playlist.sources[0].file}`),this.player.load(this.playlist),a&&this.player.play())}shouldRepeat(a){var n,r,s;const l=(s=(r=(n=this.props)==null?void 0:n.config)==null?void 0:r.maximumLoopDuration)!=null?s:0;return!!a.file.duration&&!!l&&a.file.duration<l}tryNextStream(){return this.playlist.sources.length>1?(this.playlist.sources.shift(),!0):!1}makePlaylist(){const{scene:a}=this.props;return{image:a.paths.screenshot,tracks:[{file:a.paths.vtt,kind:"thumbnails"},{file:a.paths.chapters_vtt,kind:"chapters"}],sources:this.props.sceneStreams.map(n=>({file:n.url,type:n.mime_type,label:n.label}))}}makeJWPlayerConfig(a){if(!a.paths.stream)return{};const n=this.shouldRepeat(a),r=()=>{var i;return(i=this.props.scene.file.duration)!=null?i:null},s=(i,c)=>{if(!c.src||c.src.endsWith(".m3u8"))return!1;if(Xl.isDirectStream(c.src))return c.dataset.start&&(c.dataset.start="0"),!1;const g=new URL(c.src);return g.searchParams.delete("start"),c.dataset.start=i.toString(),g.searchParams.append("start",i.toString()),c.src=g.toString(),c.play(),!0},l=i=>{var c,g;const f=Number.parseFloat((g=(c=i.dataset)==null?void 0:c.start)!=null?g:"0");return i.currentTime+f};this.playlist=this.makePlaylist();const u={};return JC.isMobile()||(u.floating={dismissible:!0}),Jl({playlist:this.playlist,image:a.paths.screenshot,width:"100%",height:"100%",cast:{},primary:"html5",preload:"none",autostart:this.props.autoplay||(this.props.config?this.props.config.autostartVideo:!1)||this.props.timestamp>0,repeat:n,playbackRateControls:!0,playbackRates:[.75,1,1.5,2,3,4],getDurationHook:r,seekHook:s,getCurrentTimeHook:l},u)}render(){var a;let n=(a=this.props.className)!=null?a:"w-100 col-sm-9 m-sm-auto no-gutter";const r=this.props.scene.file;return r.height&&r.width&&r.height>r.width&&(n+=" portrait"),e.a.createElement("div",{id:"jwplayer-container",className:n},e.a.createElement(YC.a,{playerId:Cn.playerID,playerScript:"jwplayer/jwplayer.js",customProps:this.state.config,onReady:this.onReady,onSeeked:this.onSeeked,onTime:this.onTime,onOneHundredPercent:()=>this.onComplete(),className:"video-wrapper"}),e.a.createElement(iM,{scene:this.props.scene,position:this.state.scrubberPosition,onSeek:this.onScrubberSeek,onScrolled:this.onScrubberScrolled}))}}const pM=t=>{const{configuration:a}=e.a.useContext(Et);return e.a.createElement(Xl,Gm(Jl({},t),{config:a?a.interface:void 0}))},_M=({scenes:t,currentID:a,start:n,continue:r=!1,hasMoreScenes:s,setContinue:l,onNext:u,onPrevious:o,onRandom:i,onSceneClicked:c,onMoreScenes:g,onLessScenes:f})=>{const p=Object(ge.a)(),[_,S]=Object(d.useState)(!1),[v,x]=Object(d.useState)(!1),w=t==null?void 0:t.findIndex(I=>I.id===a);Object(d.useEffect)(()=>{S(!1),x(!1)},[t]);function D(I){return I.id===a}function M(I,j){c(j),I.preventDefault()}function y(){S(!0),f()}function k(){x(!0),g()}function F(I){var j,R,P;return e.a.createElement("li",{className:St()("my-2",{current:D(I)}),key:I.id},e.a.createElement(Le.Link,{to:`/scenes/${I.id}`,onClick:z=>M(z,I.id)},e.a.createElement("div",{className:"ml-1 d-flex align-items-center"},e.a.createElement("div",{className:"thumbnail-container"},e.a.createElement("img",{alt:(j=I.title)!=null?j:"",src:(R=I.paths.screenshot)!=null?R:""})),e.a.createElement("div",null,e.a.createElement("span",{className:"align-middle"},(P=I.title)!=null?P:Me.fileNameFromPath(I.path))))))}return e.a.createElement("div",{id:"queue-viewer"},e.a.createElement("div",{className:"queue-controls"},e.a.createElement("div",null,e.a.createElement(m.a.Check,{checked:r,label:p.formatMessage({id:"continue"}),onChange:()=>{l(!r)}})),e.a.createElement("div",null,(w!=null?w:0)>0?e.a.createElement(q.a,{className:"minimal",variant:"secondary",onClick:()=>o()},e.a.createElement(le,{icon:"step-backward"})):"",(w!=null?w:0)<(t!=null?t:[]).length-1?e.a.createElement(q.a,{className:"minimal",variant:"secondary",onClick:()=>u()},e.a.createElement(le,{icon:"step-forward"})):"",e.a.createElement(q.a,{className:"minimal",variant:"secondary",onClick:()=>i()},e.a.createElement(le,{icon:"random"})))),e.a.createElement("div",{id:"queue-content"},(n!=null?n:0)>1?e.a.createElement("div",{className:"d-flex justify-content-center"},e.a.createElement(q.a,{onClick:()=>y(),disabled:_},_?e.a.createElement(nn.a,{animation:"border",role:"status"}):e.a.createElement(le,{icon:"chevron-up"}))):void 0,e.a.createElement("ol",{start:n},(t!=null?t:[]).map(F)),s?e.a.createElement("div",{className:"d-flex justify-content-center"},e.a.createElement(q.a,{onClick:()=>k(),disabled:v},v?e.a.createElement(nn.a,{animation:"border",role:"status"}):e.a.createElement(le,{icon:"chevron-down"}))):void 0))},hM=({sceneMarkers:t,onClickMarker:a,onEdit:n})=>{if(!(t==null?void 0:t.length))return e.a.createElement("div",null);const r={},s={};t.forEach(u=>{s[u.primary_tag.id]?s[u.primary_tag.id].push(u):(s[u.primary_tag.id]=[u],r[u.primary_tag.id]=u.primary_tag)});const l=Object.keys(s).map(u=>{const o=s[u].map(i=>{const c=i.tags.map(g=>e.a.createElement(Zt.a,{key:g.id,variant:"secondary",className:"tag-item"},g.name));return e.a.createElement("div",{key:i.id},e.a.createElement("hr",null),e.a.createElement("div",{className:"row"},e.a.createElement(q.a,{variant:"link",onClick:()=>a(i)},i.title),e.a.createElement(q.a,{variant:"link",className:"ml-auto",onClick:()=>n(i)},e.a.createElement(b.a,{id:"actions.edit"}))),e.a.createElement("div",null,Me.secondsToTimestamp(i.seconds)),e.a.createElement("div",{className:"card-section centered"},c))});return e.a.createElement(It.a,{className:"primary-card col-12 col-sm-6 col-xl-6",key:u},e.a.createElement("h3",null,r[u].name),e.a.createElement(It.a.Body,{className:"primary-card-body"},o))});return e.a.createElement("div",{className:"primary-tag row"},l)},vM=({sceneID:t,editingMarker:a,onClose:n})=>{var r,s,l,u,o,i;const[c]=nE(),[g]=rE(),[f]=iE(),p=He(),_=y=>{const k={title:y.title,seconds:parseFloat(y.seconds),scene_id:t,primary_tag_id:y.primaryTagId,tag_ids:y.tagIds};if(!a)c({variables:k}).then(n).catch(F=>p.error(F));else{const F=k;F.id=a.id,g({variables:F}).then(n).catch(I=>p.error(I))}},S=()=>{!a||f({variables:{id:a.id}}).then(n).catch(y=>p.error(y))},v=y=>e.a.createElement(PS,{initialMarkerTitle:y.field.value,onChange:k=>y.form.setFieldValue("title",k)}),x=y=>{var k;return e.a.createElement(La,{onValueChange:F=>y.form.setFieldValue("seconds",F),onReset:()=>{var F,I;return y.form.setFieldValue("seconds",Math.round((I=(F=Cn.getPlayer())==null?void 0:F.getPosition())!=null?I:0))},numericValue:Number.parseInt((k=y.field.value)!=null?k:"0",10),mandatory:!0})},w=y=>e.a.createElement(jt,{onSelect:k=>{var F;return y.form.setFieldValue("primaryTagId",(F=k[0])==null?void 0:F.id)},ids:y.field.value?[y.field.value]:[],noSelectionString:"Select/create tag..."}),D=y=>e.a.createElement(jt,{isMulti:!0,onSelect:k=>y.form.setFieldValue("tagIds",k.map(F=>F.id)),ids:y.field.value,noSelectionString:"Select/create tags..."}),M={title:(r=a==null?void 0:a.title)!=null?r:"",seconds:((u=a==null?void 0:a.seconds)!=null?u:Math.round((l=(s=Cn.getPlayer())==null?void 0:s.getPosition())!=null?l:0)).toString(),primaryTagId:(o=a==null?void 0:a.primary_tag.id)!=null?o:"",tagIds:(i=a==null?void 0:a.tags.map(y=>y.id))!=null?i:[]};return e.a.createElement(Wt.c,{initialValues:M,onSubmit:_},e.a.createElement(Wt.b,null,e.a.createElement("div",null,e.a.createElement(m.a.Group,{className:"row"},e.a.createElement(m.a.Label,{htmlFor:"title",className:"col-sm-3 col-md-2 col-xl-12 col-form-label"},"Marker Title"),e.a.createElement("div",{className:"col-sm-9 col-md-10 col-xl-12"},e.a.createElement(Wt.a,{name:"title"},v))),e.a.createElement(m.a.Group,{className:"row"},e.a.createElement(m.a.Label,{htmlFor:"primaryTagId",className:"col-sm-3 col-md-2 col-xl-12 col-form-label"},"Primary Tag"),e.a.createElement("div",{className:"col-sm-4 col-md-6 col-xl-12 mb-3 mb-sm-0 mb-xl-3"},e.a.createElement(Wt.a,{name:"primaryTagId"},w)),e.a.createElement("div",{className:"col-sm-5 col-md-4 col-xl-12"},e.a.createElement("div",{className:"row"},e.a.createElement(m.a.Label,{htmlFor:"seconds",className:"col-sm-4 col-md-4 col-xl-12 col-form-label text-sm-right text-xl-left"},"Time"),e.a.createElement("div",{className:"col-sm-8 col-xl-12"},e.a.createElement(Wt.a,{name:"seconds"},x))))),e.a.createElement(m.a.Group,{className:"row"},e.a.createElement(m.a.Label,{htmlFor:"tagIds",className:"col-sm-3 col-md-2 col-xl-12 col-form-label"},"Tags"),e.a.createElement("div",{className:"col-sm-9 col-md-10 col-xl-12"},e.a.createElement(Wt.a,{name:"tagIds"},D)))),e.a.createElement("div",{className:"buttons-container row"},e.a.createElement("div",{className:"col d-flex"},e.a.createElement(q.a,{variant:"primary",type:"submit"},"Submit"),e.a.createElement(q.a,{variant:"secondary",type:"button",onClick:n,className:"ml-2"},e.a.createElement(b.a,{id:"actions.cancel"})),a&&e.a.createElement(q.a,{variant:"danger",className:"ml-auto",onClick:()=>S()},e.a.createElement(b.a,{id:"actions.delete"}))))))},EM=t=>{var a;const[n,r]=Object(d.useState)(!1),[s,l]=Object(d.useState)();Object(d.useEffect)(()=>{if(t.isVisible)return B.a.bind("n",()=>u()),()=>{B.a.unbind("n")}});function u(c){r(!0),l(c!=null?c:void 0)}function o(c){t.onClickMarker(c)}const i=()=>{l(void 0),r(!1)};return n?e.a.createElement(vM,{sceneID:t.scene.id,editingMarker:s,onClose:i}):e.a.createElement("div",{className:"scene-markers-panel"},e.a.createElement(q.a,{onClick:()=>u()},e.a.createElement(b.a,{id:"actions.create_marker"})),e.a.createElement("div",{className:"container"},e.a.createElement(hM,{sceneMarkers:(a=t.scene.scene_markers)!=null?a:[],onClickMarker:o,onEdit:u})),e.a.createElement(Vl,{sceneMarkers:t.scene.scene_markers,clickHandler:c=>{window.scrollTo(0,0),o(c)}}))},yM=t=>{var a,n,r;const s=Object(ge.a)();function l(){var i;if(t.scene.file.size===void 0)return;const{size:c,unit:g}=Me.fileSize(Number.parseInt((i=t.scene.file.size)!=null?i:"0",10));return e.a.createElement(st,{id:"filesize"},e.a.createElement("span",{className:"text-truncate"},e.a.createElement(ct.b,{value:c,style:"unit",unit:g,unitDisplay:"narrow",maximumFractionDigits:2})))}function u(){if(!!t.scene.stash_ids.length)return e.a.createElement(e.a.Fragment,null,e.a.createElement("dt",null,"StashIDs"),e.a.createElement("dd",null,e.a.createElement("ul",null,t.scene.stash_ids.map(i=>{var c;const g=(c=i.endpoint.match(/https?:\/\/.*?\//))==null?void 0:c[0],f=g?e.a.createElement("a",{href:`${g}scenes/${i.stash_id}`,target:"_blank",rel:"noopener noreferrer"},i.stash_id):i.stash_id;return e.a.createElement("li",{key:i.stash_id,className:"row no-gutters"},f)}))))}function o(){if(t.scene.interactive)return e.a.createElement(aa,{name:"Funscript",url:t.scene.paths.funscript,value:t.scene.paths.funscript,truncate:!0})}return e.a.createElement("dl",{className:"container scene-file-info details-list"},e.a.createElement(st,{id:"media_info.hash",value:t.scene.oshash,truncate:!0}),e.a.createElement(st,{id:"media_info.checksum",value:t.scene.checksum,truncate:!0}),e.a.createElement(st,{id:"media_info.phash",abbr:"Perceptual hash",value:t.scene.phash,truncate:!0}),e.a.createElement(aa,{id:"path",url:`file://${t.scene.path}`,value:`file://${t.scene.path}`,truncate:!0}),e.a.createElement(aa,{id:"media_info.stream",url:t.scene.paths.stream,value:t.scene.paths.stream,truncate:!0}),o(),l(),e.a.createElement(st,{id:"duration",value:Me.secondsToTimestamp((a=t.scene.file.duration)!=null?a:0),truncate:!0}),e.a.createElement(st,{id:"dimensions",value:`${t.scene.file.width} x ${t.scene.file.height}`,truncate:!0}),e.a.createElement(st,{id:"framerate"},e.a.createElement(b.a,{id:"frames_per_second",values:{value:s.formatNumber((n=t.scene.file.framerate)!=null?n:0)}})),e.a.createElement(st,{id:"bitrate"},e.a.createElement(b.a,{id:"megabits_per_second",values:{value:s.formatNumber(((r=t.scene.file.bitrate)!=null?r:0)/1e6,{maximumFractionDigits:2})}})),e.a.createElement(st,{id:"media_info.video_codec",value:t.scene.file.video_codec,truncate:!0}),e.a.createElement(st,{id:"media_info.audio_codec",value:t.scene.file.audio_codec,truncate:!0}),e.a.createElement(aa,{id:"media_info.downloaded_from",url:t.scene.url,value:t.scene.url,truncate:!0}),u())};var bM=Object.defineProperty,Vm=Object.getOwnPropertySymbols,SM=Object.prototype.hasOwnProperty,wM=Object.prototype.propertyIsEnumerable,Bm=(t,a,n)=>a in t?bM(t,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[a]=n,kM=(t,a)=>{for(var n in a||(a={}))SM.call(a,n)&&Bm(t,n,a[n]);if(Vm)for(var n of Vm(a))wM.call(a,n)&&Bm(t,n,a[n]);return t};const xM=t=>{const a=Object(ge.a)(),{data:n}=Ac(),r=!!n&&!!n.allMovies?n.allMovies:[],s=t.movieScenes.map(o=>kM({movie:r.find(i=>o.movie_id===i.id)},o)),l=(o,i)=>{const c=t.movieScenes.map(g=>g.movie_id===o?{movie_id:o,scene_index:i}:g);t.onUpdate(c)};function u(){return d.createElement(d.Fragment,null,s.map(o=>{var i,c,g;return d.createElement(xe.a,{key:o.movie_id},d.createElement(m.a.Label,{column:!0,xs:9},(c=(i=o.movie)==null?void 0:i.name)!=null?c:""),d.createElement(Se.a,{xs:3},d.createElement(m.a.Control,{className:"text-input",type:"number",value:(g=o.scene_index)!=null?g:"",onChange:f=>{l(o.movie_id,Number.parseInt(f.currentTarget.value?f.currentTarget.value:"0",10))}})))}))}return t.movieScenes.length>0?d.createElement("div",{className:"movie-table"},d.createElement(xe.a,null,d.createElement(m.a.Label,{column:!0,xs:9},a.formatMessage({id:"movie"})),d.createElement(m.a.Label,{column:!0,xs:3},a.formatMessage({id:"movie_scene_number"}))),u()):d.createElement(d.Fragment,null)};var PM=Object.defineProperty,CM=Object.defineProperties,MM=Object.getOwnPropertyDescriptors,Um=Object.getOwnPropertySymbols,OM=Object.prototype.hasOwnProperty,NM=Object.prototype.propertyIsEnumerable,Qm=(t,a,n)=>a in t?PM(t,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[a]=n,Hm=(t,a)=>{for(var n in a||(a={}))OM.call(a,n)&&Qm(t,n,a[n]);if(Um)for(var n of Um(a))NM.call(a,n)&&Qm(t,n,a[n]);return t},Wm=(t,a)=>CM(t,MM(a)),as=(t,a,n)=>new Promise((r,s)=>{var l=i=>{try{o(n.next(i))}catch(c){s(c)}},u=i=>{try{o(n.throw(i))}catch(c){s(c)}},o=i=>i.done?r(i.value):Promise.resolve(i.value).then(l,u);o((n=n.apply(t,a)).next())});function Km(t,a,n){const r=a?t.newValue:t.originalValue,s=r?[r]:[];return e.a.createElement(Ht,{className:"form-control react-select",isDisabled:!a,onSelect:l=>{var u;n&&n((u=l[0])==null?void 0:u.id)},ids:s})}function IM(t,a,n,r,s){return e.a.createElement(ua,{title:t,result:a,renderOriginalField:()=>Km(a),renderNewField:()=>Km(a,!0,l=>n(a.cloneWithValue(l))),onChange:n,newValues:r?[r]:void 0,onCreateNew:()=>{s&&r&&s(r)}})}function Ym(t,a,n){const r=a?t.newValue:t.originalValue,s=r!=null?r:[];return e.a.createElement(Aa,{isMulti:!0,className:"form-control react-select",isDisabled:!a,onSelect:l=>{n&&n(l.map(u=>u.id))},ids:s})}function DM(t,a,n,r,s){const l=r.map(u=>{var o;const i=(o=u.name)!=null?o:"";return Wm(Hm({},u),{name:i})});return e.a.createElement(ua,{title:t,result:a,renderOriginalField:()=>Ym(a),renderNewField:()=>Ym(a,!0,u=>n(a.cloneWithValue(u))),onChange:n,newValues:l,onCreateNew:u=>{s&&s(r[u])}})}function Jm(t,a,n){const r=a?t.newValue:t.originalValue,s=r!=null?r:[];return e.a.createElement(Sl,{isMulti:!0,className:"form-control react-select",isDisabled:!a,onSelect:l=>{n&&n(l.map(u=>u.id))},ids:s})}function TM(t,a,n,r,s){const l=r.map(u=>{var o;const i=(o=u.name)!=null?o:"";return Wm(Hm({},u),{name:i})});return e.a.createElement(ua,{title:t,result:a,renderOriginalField:()=>Jm(a),renderNewField:()=>Jm(a,!0,u=>n(a.cloneWithValue(u))),onChange:n,newValues:l,onCreateNew:u=>{s&&s(r[u])}})}function Xm(t,a,n){const r=a?t.newValue:t.originalValue,s=r!=null?r:[];return e.a.createElement(jt,{isMulti:!0,className:"form-control react-select",isDisabled:!a,onSelect:l=>{n&&n(l.map(u=>u.id))},ids:s})}function FM(t,a,n,r,s){return e.a.createElement(ua,{title:t,result:a,renderOriginalField:()=>Xm(a),renderNewField:()=>Xm(a,!0,l=>n(a.cloneWithValue(l))),newValues:r,onChange:n,onCreateNew:l=>{s&&s(r[l])}})}const jM=({scene:t,scraped:a,onClose:n,endpoint:r})=>{var s,l,u,o,i,c,g,f,p,_,S,v,x;const[w,D]=Object(d.useState)(new Ue(t.title,a.title)),[M,y]=Object(d.useState)(new Ue(t.url,a.url)),[k,F]=Object(d.useState)(new Ue(t.date,a.date)),[I,j]=Object(d.useState)(new Ue(t.studio_id,(s=a.studio)==null?void 0:s.stored_id)),[R,P]=Object(d.useState)(a.studio&&!a.studio.stored_id?a.studio:void 0),[z,L]=Object(d.useState)(new Ue((u=(l=t.stash_ids)==null?void 0:l.find(be=>be.endpoint===r))==null?void 0:u.stash_id,a.remote_site_id));function G(be){if(!be)return;const Ne=be.map(Ie=>Ie.stored_id).filter(Ie=>Ie!=null);if(Ne.length!==0)return Ne.sort((Ie,je)=>parseInt(Ie,10)-parseInt(je,10)),Ne}function Y(be){if(!be)return;const Ne=Re.a.clone(be);return Ne.sort((Ie,je)=>parseInt(Ie,10)-parseInt(je,10)),Ne}const[V,U]=Object(d.useState)(new Ue(Y(t.performer_ids),G((o=a.performers)!=null?o:void 0))),[te,oe]=Object(d.useState)((c=(i=a.performers)==null?void 0:i.filter(be=>!be.stored_id))!=null?c:[]),[Q,J]=Object(d.useState)(new Ue(Y((g=t.movies)==null?void 0:g.map(be=>be.movie_id)),G((f=a.movies)!=null?f:void 0))),[re,Z]=Object(d.useState)((_=(p=a.movies)==null?void 0:p.filter(be=>!be.stored_id))!=null?_:[]),[W,H]=Object(d.useState)(new Ue(Y(t.tag_ids),G((S=a.tags)!=null?S:void 0))),[de,A]=Object(d.useState)((x=(v=a.tags)==null?void 0:v.filter(be=>!be.stored_id))!=null?x:[]),[T,N]=Object(d.useState)(new Ue(t.details,a.details)),[C,O]=Object(d.useState)(new Ue(t.cover_image,a.image)),[$]=Un(),[X]=vr(),[ie]=$c(),[ae]=un(),se=Object(ge.a)(),ye=He();if([w,M,k,I,V,Q,W,T,C,z].every(be=>!be.scraped))return n(),e.a.createElement(e.a.Fragment,null);function Pe(be){return as(this,null,function*(){try{const Ne=yield $({variables:{input:{name:be.name,url:be.url}}});j(I.cloneWithValue(Ne.data.studioCreate.id)),P(void 0),ye.success({content:e.a.createElement("span",null,"Created studio: ",e.a.createElement("b",null,be.name))})}catch(Ne){ye.error(Ne)}})}function Fe(be){return as(this,null,function*(){var Ne,Ie;const je=Jc(be);try{const Ke=yield X({variables:{input:je}}),Ye=[...(Ne=V.newValue)!=null?Ne:[]];((Ie=Ke.data)==null?void 0:Ie.performerCreate)&&Ye.push(Ke.data.performerCreate.id);const ee=V.cloneWithValue(Ye);U(ee);const we=te.concat(),_e=we.indexOf(be);we.splice(_e,1),oe(we),ye.success({content:e.a.createElement("span",null,"Created performer: ",e.a.createElement("b",null,be.name))})}catch(Ke){ye.error(Ke)}})}function ve(be){return as(this,null,function*(){var Ne,Ie;let je={name:""};try{je=Object.assign(je,be),je.duration=zt.stringToSeconds((Ne=be.duration)!=null?Ne:void 0),je.duration||(je.duration=void 0),je.rating=parseInt((Ie=be.rating)!=null?Ie:"0",10),(!je.rating||Number.isNaN(je.rating))&&(je.rating=void 0);const Ke=yield ie({variables:je}),Ye=Q.cloneWithValue(Q.newValue);Ye.newValue||(Ye.newValue=[]),Ye.newValue.push(Ke.data.movieCreate.id),J(Ye);const ee=re.concat(),we=ee.indexOf(be);ee.splice(we,1),Z(ee),ye.success({content:e.a.createElement("span",null,"Created movie: ",e.a.createElement("b",null,be.name))})}catch(Ke){ye.error(Ke)}})}function Te(be){return as(this,null,function*(){var Ne,Ie,je;const Ke={name:(Ne=be.name)!=null?Ne:""};try{const Ye=yield ae({variables:{input:Ke}}),ee=[...(Ie=W.newValue)!=null?Ie:[]];((je=Ye.data)==null?void 0:je.tagCreate)&&ee.push(Ye.data.tagCreate.id);const we=W.cloneWithValue(ee);H(we);const _e=de.concat(),Oe=_e.indexOf(be);_e.splice(Oe,1),A(_e),ye.success({content:e.a.createElement("span",null,"Created tag: ",e.a.createElement("b",null,be.name))})}catch(Ye){ye.error(Ye)}})}function Ve(){var be,Ne,Ie;const je=I.getNewValue();return{title:w.getNewValue(),url:M.getNewValue(),date:k.getNewValue(),studio:je?{stored_id:je,name:""}:void 0,performers:(be=V.getNewValue())==null?void 0:be.map(Ke=>({stored_id:Ke,name:""})),movies:(Ne=Q.getNewValue())==null?void 0:Ne.map(Ke=>({stored_id:Ke,name:""})),tags:(Ie=W.getNewValue())==null?void 0:Ie.map(Ke=>({stored_id:Ke,name:""})),details:T.getNewValue(),image:C.getNewValue(),remote_site_id:z.getNewValue()}}function he(){return e.a.createElement(e.a.Fragment,null,e.a.createElement(ut,{title:se.formatMessage({id:"title"}),result:w,onChange:be=>D(be)}),e.a.createElement(ut,{title:se.formatMessage({id:"url"}),result:M,onChange:be=>y(be)}),e.a.createElement(ut,{title:se.formatMessage({id:"date"}),placeholder:"YYYY-MM-DD",result:k,onChange:be=>F(be)}),IM(se.formatMessage({id:"studios"}),I,be=>j(be),R,Pe),DM(se.formatMessage({id:"performers"}),V,be=>U(be),te,Fe),TM(se.formatMessage({id:"movies"}),Q,be=>J(be),re,ve),FM(se.formatMessage({id:"tags"}),W,be=>H(be),de,Te),e.a.createElement(yn,{title:se.formatMessage({id:"details"}),result:T,onChange:be=>N(be)}),e.a.createElement(ut,{title:se.formatMessage({id:"stash_id"}),result:z,locked:!0,onChange:be=>L(be)}),e.a.createElement(Ci,{title:se.formatMessage({id:"cover_image"}),className:"scene-cover",result:C,onChange:be=>O(be)}))}return e.a.createElement(Mi,{title:se.formatMessage({id:"dialogs.scrape_entity_title"},{entity_type:se.formatMessage({id:"scene"})}),renderScrapeRows:he,onClose:be=>{n(be?Ve():void 0)}})};var LM=(t,a,n)=>new Promise((r,s)=>{var l=i=>{try{o(n.next(i))}catch(c){s(c)}},u=i=>{try{o(n.throw(i))}catch(c){s(c)}},o=i=>i.done?r(i.value):Promise.resolve(i.value).then(l,u);o((n=n.apply(t,a)).next())});const AM=({scene:t})=>{var a,n,r;function s(){var o;if(t.performers)return e.a.createElement(xe.a,null,e.a.createElement(Se.a,null,(o=t.performers)==null?void 0:o.map(i=>e.a.createElement(Zt.a,{className:"tag-item",variant:"secondary",key:i.name},i.name))))}function l(){var o;if(t.tags)return e.a.createElement(xe.a,null,e.a.createElement(Se.a,null,(o=t.tags)==null?void 0:o.map(i=>e.a.createElement(Zt.a,{className:"tag-item",variant:"secondary",key:i.stored_id},i.name))))}function u(){if(t.image)return e.a.createElement("div",{className:"scene-image-container"},e.a.createElement("img",{src:t.image,alt:"",className:"align-self-center scene-image"}))}return e.a.createElement("div",{className:"scene-details"},e.a.createElement(xe.a,null,u(),e.a.createElement("div",{className:"col flex-column"},e.a.createElement("h4",null,t.title),e.a.createElement("h5",null,(a=t.studio)==null?void 0:a.name,((n=t.studio)==null?void 0:n.name)&&t.date&&" \u2022 ",t.date))),e.a.createElement(xe.a,null,e.a.createElement(Se.a,null,e.a.createElement(Mt,{text:(r=t.details)!=null?r:"",lineCount:3}))),s(),l())},RM=({scene:t})=>e.a.createElement("div",{className:"mt-3 search-item"},e.a.createElement("div",{className:"row"},e.a.createElement(AM,{scene:t}))),zM=({scraper:t,name:a,onHide:n,onSelectScene:r})=>{const s="SceneScrapeModal",l=`${s}-list`,u=`${l}-container`,o=Object(ge.a)(),i=He(),c=Object(d.useRef)(null),[g,f]=Object(d.useState)(!1),[p,_]=Object(d.useState)(),[S,v]=Object(d.useState)(),x=Object(d.useCallback)(D=>LM(void 0,null,function*(){if(!!D){f(!0);try{const M=yield Qc(t,D);_(M.data.scrapeSingleScene)}catch(M){M instanceof Error&&v(M)}finally{f(!1)}}}),[t]);Object(d.useEffect)(()=>{var D;return(D=c.current)==null?void 0:D.focus()},[]),Object(d.useEffect)(()=>{S&&(i.error(S),v(void 0))},[S,i]);function w(){if(!!p)return e.a.createElement("div",{className:u},e.a.createElement("div",{className:"mt-1"},e.a.createElement(b.a,{id:"dialogs.scenes_found",values:{count:p.length}})),e.a.createElement("ul",{className:l},p.map((D,M)=>e.a.createElement("li",{key:M,onClick:()=>r(D)},e.a.createElement(RM,{scene:D})))))}return e.a.createElement(it,{show:!0,onHide:n,modalProps:{size:"lg",dialogClassName:"scrape-query-dialog"},header:o.formatMessage({id:"dialogs.scrape_entity_query"},{entity_type:o.formatMessage({id:"scene"})}),accept:{text:o.formatMessage({id:"actions.cancel"}),onClick:n,variant:"secondary"}},e.a.createElement("div",{className:s},e.a.createElement(Ze.a,null,e.a.createElement(m.a.Control,{defaultValue:a!=null?a:"",placeholder:`${o.formatMessage({id:"name"})}...`,className:"text-input",ref:c,onKeyPress:D=>{var M,y;return D.key==="Enter"&&x((y=(M=c.current)==null?void 0:M.value)!=null?y:"")}}),e.a.createElement(Ze.a.Append,null,e.a.createElement(q.a,{onClick:()=>{var D,M;x((M=(D=c.current)==null?void 0:D.value)!=null?M:"")},variant:"primary",title:o.formatMessage({id:"actions.search"})},e.a.createElement(le,{icon:"search"})))),g?e.a.createElement("div",{className:"m-4 text-center"},e.a.createElement($e,{inline:!0})):w()))};var qM=Object.defineProperty,$M=Object.defineProperties,GM=Object.getOwnPropertyDescriptors,Zm=Object.getOwnPropertySymbols,VM=Object.prototype.hasOwnProperty,BM=Object.prototype.propertyIsEnumerable,eg=(t,a,n)=>a in t?qM(t,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[a]=n,ns=(t,a)=>{for(var n in a||(a={}))VM.call(a,n)&&eg(t,n,a[n]);if(Zm)for(var n of Zm(a))BM.call(a,n)&&eg(t,n,a[n]);return t},Zl=(t,a)=>$M(t,GM(a)),Ir=(t,a,n)=>new Promise((r,s)=>{var l=i=>{try{o(n.next(i))}catch(c){s(c)}},u=i=>{try{o(n.throw(i))}catch(c){s(c)}},o=i=>i.done?r(i.value):Promise.resolve(i.value).then(l,u);o((n=n.apply(t,a)).next())});const UM=({scene:t,isVisible:a,onDelete:n})=>{var r,s,l,u,o,i,c,g,f,p,_,S;const v=Object(ge.a)(),x=He(),[w,D]=Object(d.useState)(t.galleries.map(ee=>{var we,_e;return{id:ee.id,title:(_e=ee.title)!=null?_e:Me.fileNameFromPath((we=ee.path)!=null?we:"")}})),M=ui(),[y,k]=Object(d.useState)([]),[F,I]=Object(d.useState)([]),[j,R]=Object(d.useState)(),[P,z]=Object(d.useState)(!1),[L,G]=Object(d.useState)(),[Y,V]=Object(d.useState)(),[U,te]=Object(d.useState)((r=t.paths.screenshot)!=null?r:void 0),{configuration:oe}=e.a.useContext(Et),[Q,J]=Object(d.useState)(!1),[re]=Js(),Z=Ee.e({title:Ee.f().optional().nullable(),details:Ee.f().optional().nullable(),url:Ee.f().optional().nullable(),date:Ee.f().optional().nullable(),rating:Ee.d().optional().nullable(),gallery_ids:Ee.a(Ee.f().required()).optional().nullable(),studio_id:Ee.f().optional().nullable(),performer_ids:Ee.a(Ee.f().required()).optional().nullable(),movies:Ee.e({movie_id:Ee.f().required(),scene_index:Ee.f().optional().nullable()}).optional().nullable(),tag_ids:Ee.a(Ee.f().required()).optional().nullable(),cover_image:Ee.f().optional().nullable(),stash_ids:Ee.c().optional().nullable()}),W={title:(s=t.title)!=null?s:"",details:(l=t.details)!=null?l:"",url:(u=t.url)!=null?u:"",date:(o=t.date)!=null?o:"",rating:(i=t.rating)!=null?i:null,gallery_ids:((c=t.galleries)!=null?c:[]).map(ee=>ee.id),studio_id:(g=t.studio)==null?void 0:g.id,performer_ids:((f=t.performers)!=null?f:[]).map(ee=>ee.id),movies:((p=t.movies)!=null?p:[]).map(ee=>({movie_id:ee.movie.id,scene_index:ee.scene_index})),tag_ids:((_=t.tags)!=null?_:[]).map(ee=>ee.id),cover_image:void 0,stash_ids:Wl(t.stash_ids)},H=Object(Wt.d)({initialValues:W,validationSchema:Z,onSubmit:ee=>O(N(ee))});function de(ee){H.setFieldValue("rating",ee)}function A(ee){D(ee),H.setFieldValue("gallery_ids",ee.map(we=>we.id))}Object(d.useEffect)(()=>{if(a)return B.a.bind("s s",()=>{H.handleSubmit()}),B.a.bind("d d",()=>{n()}),B.a.bind("r",()=>{document.activeElement instanceof HTMLElement&&document.activeElement.blur(),B.a.bind("0",()=>de(NaN)),B.a.bind("1",()=>de(1)),B.a.bind("2",()=>de(2)),B.a.bind("3",()=>de(3)),B.a.bind("4",()=>de(4)),B.a.bind("5",()=>de(5)),setTimeout(()=>{B.a.unbind("0"),B.a.unbind("1"),B.a.unbind("2"),B.a.unbind("3"),B.a.unbind("4"),B.a.unbind("5")},1e3)}),()=>{B.a.unbind("s s"),B.a.unbind("d d"),B.a.unbind("r")}}),Object(d.useEffect)(()=>{var ee,we;const _e=(we=(ee=M==null?void 0:M.data)==null?void 0:ee.listSceneScrapers)!=null?we:[],Oe=_e.filter(Ce=>{var pe;return(pe=Ce.scene)==null?void 0:pe.supported_scrapes.includes(Rt.Fragment)}),fe=_e.filter(Ce=>{var pe;return(pe=Ce.scene)==null?void 0:pe.supported_scrapes.includes(Rt.Name)});k(Oe),I(fe)},[M,oe]);const T=na.usePasteImage(ie,!0);function N(ee){return ns({id:t.id},ee)}function C(ee){const we=H.values.movies,_e=ee.map(Oe=>{const fe=we.find(Ce=>Ce.movie_id===Oe);return fe||{movie_id:Oe}});H.setFieldValue("movies",_e)}function O(ee){return Ir(this,null,function*(){var we,_e;J(!0);try{((_e=(yield re({variables:{input:Zl(ns({},ee),{rating:(we=ee.rating)!=null?we:null})}})).data)==null?void 0:_e.sceneUpdate)&&(x.success({content:v.formatMessage({id:"toast.updated_entity"},{entity:v.formatMessage({id:"scene"}).toLocaleLowerCase()})}),H.resetForm({values:H.values}))}catch(Oe){x.error(Oe)}J(!1)})}const $=ee=>{H.setFieldValue("stash_ids",H.values.stash_ids.filter(we=>!(we.endpoint===ee.endpoint&&we.stash_id===ee.stash_id)))};function X(){return e.a.createElement(xM,{movieScenes:H.values.movies,onUpdate:ee=>{H.setFieldValue("movies",ee)}})}function ie(ee){te(ee),H.setFieldValue("cover_image",ee)}function ae(ee){na.onImageChange(ee,ie)}function se(ee){return Ir(this,null,function*(){var we,_e;J(!0);try{const Oe=yield Hc(ee,t.id);if(!Oe.data||!((we=Oe.data.scrapeSingleScene)==null?void 0:we.length)){x.success({content:"No scenes found"});return}G(Oe.data.scrapeSingleScene[0]),V((_e=ee.stash_box_endpoint)!=null?_e:void 0)}catch(Oe){x.error(Oe)}finally{J(!1)}})}function ye(ee,we){return Ir(this,null,function*(){var _e;J(!0);try{const Oe={date:we.date,details:we.details,remote_site_id:we.remote_site_id,title:we.title,url:we.url},fe=yield Wc(ee,Oe);if(!fe.data||!((_e=fe.data.scrapeSingleScene)==null?void 0:_e.length)){x.success({content:"No scenes found"});return}G(fe.data.scrapeSingleScene[0])}catch(Oe){x.error(Oe)}finally{J(!1)}})}function Pe(ee){var we;R(ee),V((we=ee.stash_box_endpoint)!=null?we:void 0),z(!0)}function Fe(){return Ir(this,null,function*(){J(!0);try{yield fi(),yield M.refetch()}catch(ee){x.error(ee)}finally{J(!1)}})}function ve(ee){ee&&je(ee),G(void 0)}function Te(){if(!L)return;const ee=N(H.values);return ee.cover_image||(ee.cover_image=t.paths.screenshot),e.a.createElement(jM,{scene:ee,scraped:L,endpoint:Y,onClose:we=>ve(we)})}function Ve(){var ee;const we=(ee=oe==null?void 0:oe.general.stashBoxes)!=null?ee:[];if(!(we.length===0&&F.length===0))return e.a.createElement(ze.a,{title:v.formatMessage({id:"actions.scrape_query"})},e.a.createElement(ze.a.Toggle,{variant:"secondary"},e.a.createElement(le,{icon:"search"})),e.a.createElement(ze.a.Menu,null,we.map((_e,Oe)=>e.a.createElement(ze.a.Item,{key:_e.endpoint,onClick:()=>Pe({stash_box_index:Oe,stash_box_endpoint:_e.endpoint})},Yi(_e.name,Oe))),F.map(_e=>e.a.createElement(ze.a.Item,{key:_e.name,onClick:()=>Pe({scraper_id:_e.id})},_e.name)),e.a.createElement(ze.a.Item,{onClick:()=>Fe()},e.a.createElement("span",{className:"fa-icon"},e.a.createElement(le,{icon:"sync-alt"})),e.a.createElement("span",null,e.a.createElement(b.a,{id:"actions.reload_scrapers"})))))}function he(ee){!j||((j==null?void 0:j.stash_box_index)!==void 0?G(ee):ye(j,ee))}const be=()=>{if(!(!P||!j))return e.a.createElement(zM,{scraper:j,onHide:()=>R(void 0),onSelectScene:ee=>{z(!1),R(void 0),he(ee)},name:H.values.title||""})};function Ne(){var ee;const we=(ee=oe==null?void 0:oe.general.stashBoxes)!=null?ee:[];return e.a.createElement(wr.a,{className:"d-inline-block",id:"scene-scrape",title:v.formatMessage({id:"actions.scrape_with"})},we.map((_e,Oe)=>e.a.createElement(ze.a.Item,{key:_e.endpoint,onClick:()=>se({stash_box_index:Oe,stash_box_endpoint:_e.endpoint})},Yi(_e.name,Oe))),y.map(_e=>e.a.createElement(ze.a.Item,{key:_e.name,onClick:()=>se({scraper_id:_e.id})},_e.name)),e.a.createElement(ze.a.Item,{onClick:()=>Fe()},e.a.createElement("span",{className:"fa-icon"},e.a.createElement(le,{icon:"sync-alt"})),e.a.createElement("span",null,e.a.createElement(b.a,{id:"actions.reload_scrapers"}))))}function Ie(ee){var we,_e;return((_e=(we=M==null?void 0:M.data)==null?void 0:we.listSceneScrapers)!=null?_e:[]).some(Oe=>{var fe,Ce;return((Ce=(fe=Oe==null?void 0:Oe.scene)==null?void 0:fe.urls)!=null?Ce:[]).some(pe=>ee.includes(pe))})}function je(ee){var we;if(ee.title&&H.setFieldValue("title",ee.title),ee.details&&H.setFieldValue("details",ee.details),ee.date&&H.setFieldValue("date",ee.date),ee.url&&H.setFieldValue("url",ee.url),ee.studio&&ee.studio.stored_id&&H.setFieldValue("studio_id",ee.studio.stored_id),ee.performers&&ee.performers.length>0){const _e=ee.performers.filter(Oe=>Oe.stored_id!==void 0&&Oe.stored_id!==null);if(_e.length>0){const Oe=_e.map(fe=>fe.stored_id);H.setFieldValue("performer_ids",Oe)}}if(ee.movies&&ee.movies.length>0){const _e=ee.movies.filter(Oe=>Oe.stored_id!==void 0&&Oe.stored_id!==null);if(_e.length>0){const Oe=_e.map(fe=>fe.stored_id);C(Oe)}}if((we=ee==null?void 0:ee.tags)==null?void 0:we.length){const _e=ee.tags.filter(Oe=>Oe.stored_id!==void 0&&Oe.stored_id!==null);if(_e.length>0){const Oe=_e.map(fe=>fe.stored_id);H.setFieldValue("tag_ids",Oe)}}if(ee.image&&(H.setFieldValue("cover_image",ee.image),te(ee.image)),ee.remote_site_id&&Y){let _e=!1;H.setFieldValue("stash_ids",H.values.stash_ids.map(Oe=>Oe.endpoint===Y?(_e=!0,{endpoint:Y,stash_id:ee.remote_site_id}):Oe)),_e||H.setFieldValue("stash_ids",H.values.stash_ids.concat({endpoint:Y,stash_id:ee.remote_site_id}))}}function Ke(){return Ir(this,null,function*(){if(!!H.values.url){J(!0);try{const ee=yield uy(H.values.url);if(!ee.data||!ee.data.scrapeSceneURL)return;G(ee.data.scrapeSceneURL)}catch(ee){x.error(ee)}finally{J(!1)}}})}function Ye(ee,we,_e){return e.a.createElement(m.a.Group,{controlId:we,as:xe.a},tt.renderLabel({title:we}),e.a.createElement(Se.a,{xs:9},e.a.createElement(m.a.Control,Zl(ns({className:"text-input",placeholder:_e!=null?_e:we},H.getFieldProps(ee)),{isInvalid:!!H.getFieldMeta(ee).error}))))}return Q?e.a.createElement($e,null):e.a.createElement("div",{id:"scene-edit-details"},e.a.createElement(ke.b,{when:H.dirty,message:v.formatMessage({id:"dialogs.unsaved_changes"})}),be(),Te(),e.a.createElement(m.a,{noValidate:!0,onSubmit:H.handleSubmit},e.a.createElement("div",{className:"form-container row px-3 pt-3"},e.a.createElement("div",{className:"edit-buttons mb-3 pl-0"},e.a.createElement(q.a,{className:"edit-button",variant:"primary",disabled:!H.dirty,onClick:()=>H.submitForm()},e.a.createElement(b.a,{id:"actions.save"})),e.a.createElement(q.a,{className:"edit-button",variant:"danger",onClick:()=>n()},e.a.createElement(b.a,{id:"actions.delete"}))),e.a.createElement("div",{className:"ml-auto pr-3 text-right d-flex"},e.a.createElement(yt.a,{className:"scraper-group"},Ne(),Ve()))),e.a.createElement("div",{className:"form-container row px-3"},e.a.createElement("div",{className:"col-12 col-lg-7 col-xl-12"},Ye("title",v.formatMessage({id:"title"})),e.a.createElement(m.a.Group,{controlId:"url",as:xe.a},e.a.createElement(Se.a,{xs:3,className:"pr-0 url-label"},e.a.createElement(m.a.Label,{className:"col-form-label"},e.a.createElement(b.a,{id:"url"}))),e.a.createElement(Se.a,{xs:9},e.a.createElement(xi,Zl(ns({},H.getFieldProps("url")),{onScrapeClick:Ke,urlScrapable:Ie,isInvalid:!!H.getFieldMeta("url").error})))),Ye("date",v.formatMessage({id:"date"}),"YYYY-MM-DD"),e.a.createElement(m.a.Group,{controlId:"rating",as:xe.a},tt.renderLabel({title:v.formatMessage({id:"rating"})}),e.a.createElement(Se.a,{xs:9},e.a.createElement(Kt,{value:(S=H.values.rating)!=null?S:void 0,onSetRating:ee=>H.setFieldValue("rating",ee!=null?ee:null)}))),e.a.createElement(m.a.Group,{controlId:"galleries",as:xe.a},tt.renderLabel({title:v.formatMessage({id:"galleries"}),labelProps:{column:!0,sm:3}}),e.a.createElement(Se.a,{sm:9},e.a.createElement(kS,{galleries:w,onSelect:ee=>A(ee)}))),e.a.createElement(m.a.Group,{controlId:"studio",as:xe.a},tt.renderLabel({title:v.formatMessage({id:"studios"}),labelProps:{column:!0,sm:3}}),e.a.createElement(Se.a,{sm:9},e.a.createElement(Ht,{onSelect:ee=>{var we;return H.setFieldValue("studio_id",ee.length>0?(we=ee[0])==null?void 0:we.id:null)},ids:H.values.studio_id?[H.values.studio_id]:[]}))),e.a.createElement(m.a.Group,{controlId:"performers",as:xe.a},tt.renderLabel({title:v.formatMessage({id:"performers"}),labelProps:{column:!0,sm:3,xl:12}}),e.a.createElement(Se.a,{sm:9,xl:12},e.a.createElement(Aa,{isMulti:!0,onSelect:ee=>H.setFieldValue("performer_ids",ee.map(we=>we.id)),ids:H.values.performer_ids}))),e.a.createElement(m.a.Group,{controlId:"moviesScenes",as:xe.a},tt.renderLabel({title:`${v.formatMessage({id:"movies"})}/${v.formatMessage({id:"scenes"})}`,labelProps:{column:!0,sm:3,xl:12}}),e.a.createElement(Se.a,{sm:9,xl:12},e.a.createElement(Sl,{isMulti:!0,onSelect:ee=>C(ee.map(we=>we.id)),ids:H.values.movies.map(ee=>ee.movie_id)}),X())),e.a.createElement(m.a.Group,{controlId:"tags",as:xe.a},tt.renderLabel({title:v.formatMessage({id:"tags"}),labelProps:{column:!0,sm:3,xl:12}}),e.a.createElement(Se.a,{sm:9,xl:12},e.a.createElement(jt,{isMulti:!0,onSelect:ee=>H.setFieldValue("tag_ids",ee.map(we=>we.id)),ids:H.values.tag_ids}))),H.values.stash_ids.length?e.a.createElement(m.a.Group,{controlId:"stashIDs"},e.a.createElement(m.a.Label,null,e.a.createElement(b.a,{id:"stash_ids"})),e.a.createElement("ul",{className:"pl-0"},H.values.stash_ids.map(ee=>{var we;const _e=(we=ee.endpoint.match(/https?:\/\/.*?\//))==null?void 0:we[0],Oe=_e?e.a.createElement("a",{href:`${_e}scenes/${ee.stash_id}`,target:"_blank",rel:"noopener noreferrer"},ee.stash_id):ee.stash_id;return e.a.createElement("li",{key:ee.stash_id,className:"row no-gutters"},e.a.createElement(q.a,{variant:"danger",className:"mr-2 py-0",title:v.formatMessage({id:"actions.delete_entity"},{entityType:v.formatMessage({id:"stash_id"})}),onClick:()=>$(ee)},e.a.createElement(le,{icon:"trash-alt"})),Oe)}))):void 0),e.a.createElement("div",{className:"col-12 col-lg-5 col-xl-12"},e.a.createElement(m.a.Group,{controlId:"details"},e.a.createElement(m.a.Label,null,e.a.createElement(b.a,{id:"details"})),e.a.createElement(m.a.Control,{as:"textarea",className:"scene-description text-input",onChange:ee=>H.setFieldValue("details",ee.currentTarget.value),value:H.values.details})),e.a.createElement("div",null,e.a.createElement(m.a.Group,{controlId:"cover"},e.a.createElement(m.a.Label,null,e.a.createElement(b.a,{id:"cover_image"})),T?e.a.createElement($e,{message:"Encoding image..."}):e.a.createElement("img",{className:"scene-cover",src:U,alt:v.formatMessage({id:"cover_image"})}),e.a.createElement(Ki,{isEditing:!0,onImageChange:ae,onImageURL:ie})))))))},QM=t=>{var a,n;function r(){if(!(!t.scene.details||t.scene.details===""))return e.a.createElement(e.a.Fragment,null,e.a.createElement("h6",null,e.a.createElement(b.a,{id:"details"})),e.a.createElement("p",{className:"pre"},t.scene.details))}function s(){if(t.scene.tags.length===0)return;const o=t.scene.tags.map(i=>e.a.createElement(xt,{key:i.id,tag:i}));return e.a.createElement(e.a.Fragment,null,e.a.createElement("h6",null,e.a.createElement(b.a,{id:"countables.tags",values:{count:t.scene.tags.length}})),o)}function l(){if(t.scene.performers.length===0)return;const i=xr(t.scene.performers).map(c=>{var g;return e.a.createElement(Ii,{key:c.id,performer:c,ageFromDate:(g=t.scene.date)!=null?g:void 0})});return e.a.createElement(e.a.Fragment,null,e.a.createElement("h6",null,e.a.createElement(b.a,{id:"countables.performers",values:{count:t.scene.performers.length}})),e.a.createElement("div",{className:"row justify-content-center scene-performers"},i))}const u=t.scene.studio?"col-9":"col-12";return e.a.createElement(e.a.Fragment,null,e.a.createElement("div",{className:"row"},e.a.createElement("div",{className:`${u} col-xl-12 scene-details`},e.a.createElement("div",{className:"scene-header d-xl-none"},e.a.createElement("h3",null,e.a.createElement(Mt,{text:(a=t.scene.title)!=null?a:Me.fileNameFromPath(t.scene.path)}))),t.scene.date?e.a.createElement("h5",null,e.a.createElement(ct.a,{value:t.scene.date,format:"long",timeZone:"utc"})):void 0,t.scene.rating?e.a.createElement("h6",null,e.a.createElement(b.a,{id:"rating"}),":"," ",e.a.createElement(Kt,{value:t.scene.rating})):"",t.scene.file.width&&t.scene.file.height&&e.a.createElement("h6",null,e.a.createElement(b.a,{id:"resolution"}),":"," ",Me.resolution(t.scene.file.width,t.scene.file.height))),t.scene.studio&&e.a.createElement("div",{className:"col-3 d-xl-none"},e.a.createElement(Le.Link,{to:`/studios/${t.scene.studio.id}`},e.a.createElement("img",{src:(n=t.scene.studio.image_path)!=null?n:"",alt:`${t.scene.studio.name} logo`,className:"studio-logo float-right"})))),e.a.createElement("div",{className:"row"},e.a.createElement("div",{className:"col-12"},r(),s(),l())))},tg=t=>{const a=Object(ge.a)();if(t.loading)return e.a.createElement(nn.a,{animation:"border",role:"status"});const n=()=>e.a.createElement(q.a,{className:"minimal pr-1",onClick:t.onIncrement,variant:"secondary",title:a.formatMessage({id:"o_counter"})},e.a.createElement(Ti,null),e.a.createElement("span",{className:"ml-2"},t.value)),r=()=>{if(t.value)return e.a.createElement(wr.a,{as:yt.a,title:" ",variant:"secondary",className:"pl-0 show-carat"},e.a.createElement(ze.a.Item,{onClick:t.onDecrement},e.a.createElement(le,{icon:"minus"}),e.a.createElement("span",null,"Decrement")),e.a.createElement(ze.a.Item,{onClick:t.onReset},e.a.createElement(le,{icon:"ban"}),e.a.createElement("span",null,"Reset")))};return e.a.createElement(yt.a,{className:"o-counter"},n(),r())},HM=({scene:t})=>{const a=/(android)/i.test(navigator.userAgent),n=/(ipod|iphone|ipad)/i.test(navigator.userAgent),{paths:r,path:s,title:l}=t;if(!r||!r.stream||!a&&!n)return e.a.createElement("span",null);const{stream:u}=r,o=l!=null?l:Me.fileNameFromPath(s);let i;const c=new URL(u);if(a){const g=c.protocol.slice(0,-1);c.hash=`Intent;action=android.intent.action.VIEW;scheme=${g};type=video/mp4;S.title=${encodeURI(o)};end`,c.protocol="intent",i=c.toString()}else n&&(c.host="x-callback-url",c.port="",c.pathname="stream",c.search=`url=${encodeURIComponent(u)}`,c.protocol="vlc-x-callback",i=c.toString());return e.a.createElement(q.a,{className:"minimal px-0 px-sm-2 pt-2",variant:"secondary",title:"Open in external player"},e.a.createElement("a",{href:i},e.a.createElement(le,{icon:"external-link-alt",color:"white"})))},WM=t=>{const a=t.scene.movies.map(n=>{var r;return e.a.createElement(lm,{key:n.movie.id,movie:n.movie,sceneIndex:(r=n.scene_index)!=null?r:void 0})});return e.a.createElement(e.a.Fragment,null,e.a.createElement("div",{className:"row justify-content-center"},a))},KM=({galleries:t})=>{const a=t.map(n=>e.a.createElement(pd,{key:n.id,gallery:n,selecting:!1}));return e.a.createElement("div",{className:"row justify-content-center"},a)},YM=t=>{const a={min:0,default:100,max:200,divider:1},n={min:0,default:100,max:200,divider:1},r={min:0,default:100,max:200,divider:200},s={min:0,default:100,max:200,divider:1},l={min:0,default:0,max:360,divider:1},u={min:0,default:100,max:200,divider:200},o={min:0,default:100,max:200,divider:1},i={min:0,default:0,max:250,divider:10},c={min:0,default:2,max:4,divider:1/90},g={min:0,default:100,max:200,divider:1},f={min:0,default:150,max:300,divider:100},p=Object(ge.a)(),[_,S]=Object(d.useState)(a.default),[v,x]=Object(d.useState)(n.default),[w,D]=Object(d.useState)(r.default),[M,y]=Object(d.useState)(s.default),[k,F]=Object(d.useState)(l.default),[I,j]=Object(d.useState)(u.default),[R,P]=Object(d.useState)(o.default),[z,L]=Object(d.useState)(o.default),[G,Y]=Object(d.useState)(o.default),[V,U]=Object(d.useState)(i.default),[te,oe]=Object(d.useState)(c.default),[Q,J]=Object(d.useState)(g.default),[re,Z]=Object(d.useState)(f.default);function W(){var Ie;const je=Cn.playerID,Ke=(Ie=document.getElementById(je))==null?void 0:Ie.getElementsByClassName("jw-video")[0];if(Ke!=null){let Ye="filter:",ee=Ke.attributes.getNamedItem("style");if(ee==null&&(ee=document.createAttribute("style"),Ke.attributes.setNamedItem(ee)),(I!==u.default||R!==o.default||z!==o.default||G!==o.default||w!==r.default)&&(Ye+=" url(#videoFilter)"),_!==a.default&&(Ye+=` contrast(${_}%)`),v!==n.default&&(Ye+=` brightness(${v}%)`),M!==s.default&&(Ye+=` saturate(${M}%)`),k!==l.default&&(Ye+=` hue-rotate(${k}deg)`),V>i.default&&(Ye+=` blur(${V/i.divider}px)`),Ye+="; transform:",te!==c.default&&(Ye+=` rotate(${(te-c.default)/c.divider}deg)`),Q!==g.default||re!==f.default){let we=Q/g.divider/100,_e=Q/g.divider/100;re>f.default?we*=(f.divider+re-f.default)/f.divider:re<f.default&&(_e*=(f.divider+f.default-re)/f.divider),Ye+=` scale(${we},${_e})`}ee.value=`${Ye};`}}function H(){const Ie=document.getElementById("video-filter-container");if(Ie==null)return;const je=document.createElementNS("http://www.w3.org/2000/svg","svg"),Ke=document.createElementNS("http://www.w3.org/2000/svg","filter");if(Ke.setAttribute("id","videoFilter"),I!==u.default||R!==o.default||z!==o.default||G!==o.default){const ee=document.createElementNS("http://www.w3.org/2000/svg","feColorMatrix");ee.setAttribute("values",`${1+(I-u.default)/u.divider+(R-o.default)/o.divider} 0 0 0 0   0 ${1+(z-o.default)/o.divider} 0 0 0   0 0 ${1-(I-u.default)/u.divider+(G-o.default)/o.divider} 0 0   0 0 0 1.0 0`),Ke.appendChild(ee)}if(w!==r.default){const ee=document.createElementNS("http://www.w3.org/2000/svg","feComponentTransfer"),we=document.createElementNS("http://www.w3.org/2000/svg","feFuncR");we.setAttribute("type","gamma"),we.setAttribute("amplitude","1.0"),we.setAttribute("exponent",`${1+(r.default-w)/r.divider}`),we.setAttribute("offset","0.0"),ee.appendChild(we);const _e=document.createElementNS("http://www.w3.org/2000/svg","feFuncG");_e.setAttribute("type","gamma"),_e.setAttribute("amplitude","1.0"),_e.setAttribute("exponent",`${1+(r.default-w)/r.divider}`),_e.setAttribute("offset","0.0"),ee.appendChild(_e);const Oe=document.createElementNS("http://www.w3.org/2000/svg","feFuncB");Oe.setAttribute("type","gamma"),Oe.setAttribute("amplitude","1.0"),Oe.setAttribute("exponent",`${1+(r.default-w)/r.divider}`),Oe.setAttribute("offset","0.0"),ee.appendChild(Oe);const fe=document.createElementNS("http://www.w3.org/2000/svg","feFuncA");fe.setAttribute("type","gamma"),fe.setAttribute("amplitude","1.0"),fe.setAttribute("exponent","1.0"),fe.setAttribute("offset","0.0"),ee.appendChild(fe),Ke.appendChild(ee)}je.appendChild(Ke);const Ye=Ie.getElementsByTagNameNS("http://www.w3.org/2000/svg","svg");Ye.length===0?Ie.appendChild(je):Ie.replaceChild(je,Ye[0])}function de(Ie){return e.a.createElement("div",{className:"row form-group"},e.a.createElement("span",{className:"col-sm-3"},Ie.title),e.a.createElement("span",{className:"col-sm-7"},e.a.createElement(m.a.Control,{className:`filter-slider d-inline-flex ml-sm-3 ${Ie.className}`,type:"range",min:Ie.range.min,max:Ie.range.max,value:Ie.value,onChange:je=>Ie.setValue(Number.parseInt(je.currentTarget.value,10))})),e.a.createElement("span",{className:"col-sm-2",role:"presentation",onClick:()=>Ie.setValue(Ie.range.default),onKeyPress:()=>Ie.setValue(Ie.range.default)},e.a.createElement(Mt,{text:Ie.displayValue})))}function A(){return de({title:p.formatMessage({id:"effect_filters.blur"}),range:i,value:V,setValue:U,displayValue:`${V/i.divider}px`})}function T(){return de({title:p.formatMessage({id:"effect_filters.contrast"}),className:"contrast-slider",range:a,value:_,setValue:S,displayValue:`${_/n.divider}%`})}function N(){return de({title:p.formatMessage({id:"effect_filters.brightness"}),className:"brightness-slider",range:n,value:v,setValue:x,displayValue:`${v/n.divider}%`})}function C(){return de({title:p.formatMessage({id:"effect_filters.gamma"}),className:"gamma-slider",range:r,value:w,setValue:D,displayValue:`${(w-r.default)/r.divider}`})}function O(){return de({title:p.formatMessage({id:"effect_filters.saturation"}),className:"saturation-slider",range:s,value:M,setValue:y,displayValue:`${M/s.divider}%`})}function $(){return de({title:p.formatMessage({id:"effect_filters.hue"}),className:"hue-rotate-slider",range:l,value:k,setValue:F,displayValue:`${k/l.divider}\xB0`})}function X(){return de({title:p.formatMessage({id:"effect_filters.warmth"}),className:"white-balance-slider",range:u,value:I,setValue:j,displayValue:`${(I-u.default)/u.divider}`})}function ie(){return de({title:p.formatMessage({id:"effect_filters.red"}),className:"red-slider",range:o,value:R,setValue:P,displayValue:`${(R-o.default)/o.divider}%`})}function ae(){return de({title:p.formatMessage({id:"effect_filters.green"}),className:"green-slider",range:o,value:z,setValue:L,displayValue:`${(z-o.default)/o.divider}%`})}function se(){return de({title:p.formatMessage({id:"effect_filters.blue"}),className:"blue-slider",range:o,value:G,setValue:Y,displayValue:`${(G-o.default)/o.divider}%`})}function ye(){return de({title:p.formatMessage({id:"effect_filters.rotate"}),range:c,value:te,setValue:oe,displayValue:`${(te-c.default)/c.divider}\xB0`})}function Pe(){return de({title:p.formatMessage({id:"effect_filters.scale"}),range:g,value:Q,setValue:J,displayValue:`${Q/g.divider}%`})}function Fe(){return de({title:p.formatMessage({id:"effect_filters.aspect"}),range:f,value:re,setValue:Z,displayValue:`${(re-f.default)/f.divider}`})}function ve(Ie){var je,Ke,Ye,ee,we;oe(Ie===0?1:3);const _e=(je=t.scene.file.width)!=null?je:1,Oe=(Ke=t.scene.file.height)!=null?Ke:1,fe=_e/Oe,Ce=Oe/_e,pe=Cn.playerID,Xe=(Ye=document.getElementById(pe))==null?void 0:Ye.getElementsByClassName("jw-video")[0],at=(ee=Xe==null?void 0:Xe.clientWidth)!=null?ee:1,ft=(we=Xe==null?void 0:Xe.clientHeight)!=null?we:1,Dt=at/ft;let Na=0,Ba=0;Dt>fe?(Na=ft,Ba=ft/Oe*_e):(Ba=at,Na=at/_e*Oe);let an=1;Dt>Ce?an=ft/Ba:an=at/Na,J(an*100)}function Te(){return e.a.createElement("div",{className:"row form-group"},e.a.createElement("span",{className:"col-6"},e.a.createElement(q.a,{id:"rotateAndScaleLeft",variant:"primary",type:"button",onClick:()=>ve(0)},e.a.createElement(b.a,{id:"effect_filters.rotate_left_and_scale"}))),e.a.createElement("span",{className:"col-6"},e.a.createElement(q.a,{id:"rotateAndScaleRight",variant:"primary",type:"button",onClick:()=>ve(1)},e.a.createElement(b.a,{id:"effect_filters.rotate_right_and_scale"}))))}function Ve(){S(a.default),x(n.default),D(r.default),y(s.default),F(l.default),j(u.default),P(o.default),L(o.default),Y(o.default),U(i.default)}function he(){J(g.default),oe(c.default),Z(f.default)}function be(){return e.a.createElement("div",{className:"row form-group"},e.a.createElement("span",{className:"col-6"},e.a.createElement(q.a,{id:"resetFilters",variant:"primary",type:"button",onClick:()=>Ve()},e.a.createElement(b.a,{id:"effect_filters.reset_filters"}))),e.a.createElement("span",{className:"col-6"},e.a.createElement(q.a,{id:"resetTransforms",variant:"secondary",type:"button",onClick:()=>he()},e.a.createElement(b.a,{id:"effect_filters.reset_transforms"}))))}function Ne(){return e.a.createElement("div",{id:"video-filter-container"})}return H(),W(),e.a.createElement("div",{className:"container scene-video-filter"},e.a.createElement("div",{className:"row form-group"},e.a.createElement("span",{className:"col-12"},e.a.createElement("h5",null,e.a.createElement(b.a,{id:"effect_filters.name"})))),N(),T(),C(),O(),$(),X(),ie(),ae(),se(),A(),e.a.createElement("div",{className:"row form-group"},e.a.createElement("span",{className:"col-12"},e.a.createElement("h5",null,e.a.createElement(b.a,{id:"effect_filters.name_transforms"})))),ye(),Pe(),Fe(),e.a.createElement("div",{className:"row form-group"},e.a.createElement("span",{className:"col-12"},e.a.createElement("h5",null,e.a.createElement(b.a,{id:"actions_name"})))),Te(),be(),Ne())};var wa=(t,a,n)=>new Promise((r,s)=>{var l=i=>{try{o(n.next(i))}catch(c){s(c)}},u=i=>{try{o(n.throw(i))}catch(c){s(c)}},o=i=>i.done?r(i.value):Promise.resolve(i.value).then(l,u);o((n=n.apply(t,a)).next())});const JM=({scene:t,refetch:a})=>{var n,r,s,l;const u=Object(ke.l)(),o=Object(ke.k)(),i=He(),c=Object(ge.a)(),[g]=Js(),[f]=xE(),[p,_]=Object(d.useState)(ie()),[S,v]=Object(d.useState)(!1),{data:x,error:w,loading:D}=Kv(t.id),[M,y]=Object(d.useState)(!1),[k]=bE(t.id),[F]=SE(t.id),[I]=wE(t.id),[j,R]=Object(d.useState)(!1),[P,z]=Object(d.useState)("scene-details-panel"),[L,G]=Object(d.useState)(!1),[Y,V]=Object(d.useState)(!1),[U,te]=Object(d.useState)(new qa),[oe,Q]=Object(d.useState)([]),[J,re]=Object(d.useState)(0),[Z,W]=Object(d.useState)(1),[H,de]=Object(d.useState)(!1),[A,T]=Object(d.useState)(!1),N=Object(d.useMemo)(()=>Qt.a.parse(u.search),[u.search]),C=(N==null?void 0:N.autoplay)==="true",O=oe.findIndex(pe=>pe.id===t.id);function $(pe){return wa(this,null,function*(){const Xe=yield hr(pe),{scenes:at,count:ft}=Xe.data.findScenes;Q(at),re(ft),W((pe.currentPage-1)*pe.itemsPerPage+1)})}function X(pe){return wa(this,null,function*(){const Xe=yield jv(pe),{scenes:at,count:ft}=Xe.data.findScenes;Q(at),re(ft),W(1)})}Object(d.useEffect)(()=>{de((N==null?void 0:N.continue)==="true")},[N]),Object(d.useEffect)(()=>{A&&T(!1)},[A]),Object(d.useEffect)(()=>{T(!0)},[t.id]),Object(d.useEffect)(()=>{te(qa.fromQueryParameters(u.search))},[u.search]),Object(d.useEffect)(()=>{U.query?$(U.query):U.sceneIDs&&X(U.sceneIDs)},[U]);function ie(){var pe;const Xe=Qt.a.parse(u.search),at=(pe=Xe==null?void 0:Xe.t)!=null?pe:"0";return Number.parseInt(Array.isArray(at)?at[0]:at,10)}const ae=()=>wa(void 0,null,function*(){try{R(!0),yield g({variables:{input:{id:t.id,organized:!t.organized}}})}catch(pe){i.error(pe)}finally{R(!1)}}),se=()=>wa(void 0,null,function*(){try{y(!0),yield k()}catch(pe){i.error(pe)}finally{y(!1)}}),ye=()=>wa(void 0,null,function*(){try{y(!0),yield F()}catch(pe){i.error(pe)}finally{y(!1)}}),Pe=()=>wa(void 0,null,function*(){try{y(!0),yield I()}catch(pe){i.error(pe)}finally{y(!1)}});function Fe(pe){_(pe.seconds)}function ve(){return wa(this,null,function*(){yield pi({paths:[t.path]}),i.success({content:c.formatMessage({id:"toast.rescanning_entity"},{count:1,singularEntity:c.formatMessage({id:"scene"}).toLocaleLowerCase()})})})}function Te(pe){return wa(this,null,function*(){yield f({variables:{id:t.id,at:pe}}),i.success({content:c.formatMessage({id:"toast.generating_screenshot"})})})}function Ve(){return wa(this,null,function*(){if(!U.query||Z<=1)return;const pe=U.query.clone(),Xe=Z-pe.itemsPerPage;pe.currentPage=Math.ceil(Xe/pe.itemsPerPage);const at=yield hr(pe),{scenes:ft}=at.data.findScenes,Dt=ft.concat(oe);Q(Dt),W(Xe)})}function he(){return Z+oe.length-1<J}function be(){return wa(this,null,function*(){if(!U.query||!he())return;const pe=U.query.clone(),Xe=Z+oe.length;pe.currentPage=Math.ceil(Xe/pe.itemsPerPage);const at=yield hr(pe),{scenes:ft}=at.data.findScenes,Dt=ft.concat(oe);Q(Dt)})}function Ne(pe,Xe){U.playScene(o,pe,{newPage:Xe,autoPlay:!0,continue:H})}function Ie(){O>=0&&O<oe.length-1&&Ne(oe[O+1].id)}function je(){O>0&&Ne(oe[O-1].id)}function Ke(){return wa(this,null,function*(){if(U.query){const{query:pe}=U,Xe=Math.ceil(J/pe.itemsPerPage),at=Math.floor(Math.random()*Xe)+1,ft=Math.floor(Math.random()*Math.min(pe.itemsPerPage,J)),Dt=U.query.clone();Dt.currentPage=at;const Na=yield hr(Dt);if(Na.data.findScenes.scenes.length>ft){const{id:Ba}=Na.data.findScenes.scenes[ft];Ne(Ba,at)}}else{const pe=Math.floor(Math.random()*J);Ne(oe[pe].id)}})}function Ye(){H&&Ie()}function ee(pe){G(!1),pe&&o.push("/scenes")}function we(){if(L)return e.a.createElement(Bl,{selected:[t],onClose:ee})}function _e(){if(Y)return e.a.createElement(qd,{selectedIds:[t.id],onClose:()=>{V(!1)}})}const Oe=()=>e.a.createElement(ze.a,null,e.a.createElement(ze.a.Toggle,{variant:"secondary",id:"operation-menu",className:"minimal",title:"Operations"},e.a.createElement(le,{icon:"ellipsis-v"})),e.a.createElement(ze.a.Menu,{className:"bg-secondary text-white"},e.a.createElement(ze.a.Item,{key:"rescan",className:"bg-secondary text-white",onClick:()=>ve()},e.a.createElement(b.a,{id:"actions.rescan"})),e.a.createElement(ze.a.Item,{key:"generate",className:"bg-secondary text-white",onClick:()=>V(!0)},e.a.createElement(b.a,{id:"actions.generate"})),e.a.createElement(ze.a.Item,{key:"generate-screenshot",className:"bg-secondary text-white",onClick:()=>Te(Cn.getPlayer().getPosition())},e.a.createElement(b.a,{id:"actions.generate_thumb_from_current"})),e.a.createElement(ze.a.Item,{key:"generate-default",className:"bg-secondary text-white",onClick:()=>Te()},e.a.createElement(b.a,{id:"actions.generate_thumb_default"})),e.a.createElement(ze.a.Item,{key:"delete-scene",className:"bg-secondary text-white",onClick:()=>G(!0)},e.a.createElement(b.a,{id:"actions.delete_entity",values:{entityType:c.formatMessage({id:"scene"})}})))),fe=()=>e.a.createElement(qe.a.Container,{activeKey:P,onSelect:pe=>pe&&z(pe)},e.a.createElement("div",null,e.a.createElement(De.a,{variant:"tabs",className:"mr-auto"},e.a.createElement(De.a.Item,null,e.a.createElement(De.a.Link,{eventKey:"scene-details-panel"},e.a.createElement(b.a,{id:"details"}))),(oe!=null?oe:[]).length>0?e.a.createElement(De.a.Item,null,e.a.createElement(De.a.Link,{eventKey:"scene-queue-panel"},e.a.createElement(b.a,{id:"queue"}))):"",e.a.createElement(De.a.Item,null,e.a.createElement(De.a.Link,{eventKey:"scene-markers-panel"},e.a.createElement(b.a,{id:"markers"}))),t.movies.length>0?e.a.createElement(De.a.Item,null,e.a.createElement(De.a.Link,{eventKey:"scene-movie-panel"},e.a.createElement(b.a,{id:"countables.movies",values:{count:t.movies.length}}))):"",t.galleries.length>=1?e.a.createElement(De.a.Item,null,e.a.createElement(De.a.Link,{eventKey:"scene-galleries-panel"},e.a.createElement(b.a,{id:"countables.galleries",values:{count:t.galleries.length}}))):void 0,e.a.createElement(De.a.Item,null,e.a.createElement(De.a.Link,{eventKey:"scene-video-filter-panel"},e.a.createElement(b.a,{id:"effect_filters.name"}))),e.a.createElement(De.a.Item,null,e.a.createElement(De.a.Link,{eventKey:"scene-file-info-panel"},e.a.createElement(b.a,{id:"file_info"}))),e.a.createElement(De.a.Item,null,e.a.createElement(De.a.Link,{eventKey:"scene-edit-panel"},e.a.createElement(b.a,{id:"actions.edit"}))),e.a.createElement(yt.a,{className:"ml-auto"},e.a.createElement(De.a.Item,{className:"ml-auto"},e.a.createElement(HM,{scene:t})),e.a.createElement(De.a.Item,{className:"ml-auto"},e.a.createElement(tg,{loading:M,value:t.o_counter||0,onIncrement:se,onDecrement:ye,onReset:Pe})),e.a.createElement(De.a.Item,null,e.a.createElement(wl,{loading:j,organized:t.organized,onClick:ae})),e.a.createElement(De.a.Item,null,Oe())))),e.a.createElement(qe.a.Content,null,e.a.createElement(qe.a.Pane,{eventKey:"scene-details-panel"},e.a.createElement(QM,{scene:t})),e.a.createElement(qe.a.Pane,{eventKey:"scene-queue-panel"},e.a.createElement(_M,{scenes:oe,currentID:t.id,continue:H,setContinue:pe=>de(pe),onSceneClicked:pe=>Ne(pe),onNext:Ie,onPrevious:je,onRandom:Ke,start:Z,hasMoreScenes:he(),onLessScenes:()=>Ve(),onMoreScenes:()=>be()})),e.a.createElement(qe.a.Pane,{eventKey:"scene-markers-panel"},e.a.createElement(EM,{scene:t,onClickMarker:Fe,isVisible:P==="scene-markers-panel"})),e.a.createElement(qe.a.Pane,{eventKey:"scene-movie-panel"},e.a.createElement(WM,{scene:t})),t.galleries.length===1&&e.a.createElement(qe.a.Pane,{eventKey:"scene-galleries-panel"},e.a.createElement(WC,{galleryId:t.galleries[0].id})),t.galleries.length>1&&e.a.createElement(qe.a.Pane,{eventKey:"scene-galleries-panel"},e.a.createElement(KM,{galleries:t.galleries})),e.a.createElement(qe.a.Pane,{eventKey:"scene-video-filter-panel"},e.a.createElement(YM,{scene:t})),e.a.createElement(qe.a.Pane,{className:"file-info-panel",eventKey:"scene-file-info-panel"},e.a.createElement(yM,{scene:t})),e.a.createElement(qe.a.Pane,{eventKey:"scene-edit-panel"},e.a.createElement(UM,{isVisible:P==="scene-edit-panel",scene:t,onDelete:()=>G(!0),onUpdate:()=>a()}))));Object(d.useEffect)(()=>(B.a.bind("a",()=>z("scene-details-panel")),B.a.bind("q",()=>z("scene-queue-panel")),B.a.bind("e",()=>z("scene-edit-panel")),B.a.bind("k",()=>z("scene-markers-panel")),B.a.bind("f",()=>z("scene-file-info-panel")),B.a.bind("o",()=>se()),B.a.bind("p n",()=>Ie()),B.a.bind("p p",()=>je()),B.a.bind("p r",()=>Ke()),()=>{B.a.unbind("a"),B.a.unbind("q"),B.a.unbind("e"),B.a.unbind("k"),B.a.unbind("f"),B.a.unbind("o"),B.a.unbind("p n"),B.a.unbind("p p"),B.a.unbind("p r")}));function Ce(){return S?">":"<"}return D?e.a.createElement($e,null):w?e.a.createElement($t,{error:w.message}):e.a.createElement("div",{className:"row"},e.a.createElement(Tt.a,null,e.a.createElement("title",null,(n=t.title)!=null?n:Me.fileNameFromPath(t.path))),_e(),we(),e.a.createElement("div",{className:`scene-tabs order-xl-first order-last ${S?"collapsed":""}`},e.a.createElement("div",{className:"d-none d-xl-block"},t.studio&&e.a.createElement("h1",{className:"text-center"},e.a.createElement(Le.Link,{to:`/studios/${t.studio.id}`},e.a.createElement("img",{src:(r=t.studio.image_path)!=null?r:"",alt:`${t.studio.name} logo`,className:"studio-logo"}))),e.a.createElement("h3",{className:"scene-header"},(s=t.title)!=null?s:Me.fileNameFromPath(t.path))),fe()),e.a.createElement("div",{className:"scene-divider d-none d-xl-block"},e.a.createElement(q.a,{onClick:()=>{v(!S)}},Ce())),e.a.createElement("div",{className:`scene-player-container ${S?"expanded":""}`},A?void 0:e.a.createElement(pM,{className:"w-100 m-sm-auto no-gutter",scene:t,timestamp:p,autoplay:C,sceneStreams:(l=x==null?void 0:x.sceneStreams)!=null?l:[],onComplete:Ye})))};var XM=()=>{const{id:t}=Object(ke.m)(),{data:a,loading:n,error:r,refetch:s}=Wv(t!=null?t:"");return n?e.a.createElement($e,null):r?e.a.createElement($t,{error:r.message}):(a==null?void 0:a.findScene)?e.a.createElement(JM,{scene:a.findScene,refetch:s}):e.a.createElement($t,{error:`No scene found with id ${t}.`})},ZM=(t,a,n)=>new Promise((r,s)=>{var l=i=>{try{o(n.next(i))}catch(c){s(c)}},u=i=>{try{o(n.throw(i))}catch(c){s(c)}},o=i=>i.done?r(i.value):Promise.resolve(i.value).then(l,u);o((n=n.apply(t,a)).next())});const ag=({filterHook:t})=>{const a=Object(ge.a)(),n=Object(ke.k)(),r=[{text:a.formatMessage({id:"actions.play_random"}),onClick:u}],l=qS({otherOperations:r,renderContent:o,filterHook:t,addKeybinds:(c,g)=>(B.a.bind("p r",()=>{u(c,g)}),()=>{B.a.unbind("p r")}),persistState:ca.ALL});function u(c,g){return ZM(this,null,function*(){var f,p,_,S;if((f=c.data)==null?void 0:f.findSceneMarkers){const{count:v}=c.data.findSceneMarkers,x=Math.floor(Math.random()*v),w=Re.a.cloneDeep(g);w.itemsPerPage=1,w.currentPage=x+1;const D=yield Av(w);if(((S=(_=(p=D==null?void 0:D.data)==null?void 0:p.findSceneMarkers)==null?void 0:_.scene_markers)==null?void 0:S.length)===1){const M=rt.makeSceneMarkerUrl(D.data.findSceneMarkers.scene_markers[0]);n.push(M)}}})}function o(c,g){var f;if(!!((f=c==null?void 0:c.data)==null?void 0:f.findSceneMarkers)&&g.displayMode===Ge.Wall)return e.a.createElement(Vl,{sceneMarkers:c.data.findSceneMarkers.scene_markers})}const i=`${a.formatMessage({id:"markers"})} ${Pa}`;return e.a.createElement(e.a.Fragment,null,e.a.createElement(Tt.a,{defaultTitle:i,titleTemplate:`%s | ${i}`}),l.template)};var eO=Object.defineProperty,ng=Object.getOwnPropertySymbols,tO=Object.prototype.hasOwnProperty,aO=Object.prototype.propertyIsEnumerable,rg=(t,a,n)=>a in t?eO(t,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[a]=n,nO=(t,a)=>{for(var n in a||(a={}))tO.call(a,n)&&rg(t,n,a[n]);if(ng)for(var n of ng(a))aO.call(a,n)&&rg(t,n,a[n]);return t},rO=()=>{const a=`${Object(ge.a)().formatMessage({id:"scenes"})} ${Pa}`;return e.a.createElement(e.a.Fragment,null,e.a.createElement(Tt.a,{defaultTitle:a,titleTemplate:`%s | ${a}`}),e.a.createElement(ke.g,null,e.a.createElement(ke.d,{exact:!0,path:"/scenes",render:n=>e.a.createElement(Nr,nO({persistState:ca.ALL},n))}),e.a.createElement(ke.d,{exact:!0,path:"/scenes/markers",component:ag}),e.a.createElement(ke.d,{path:"/scenes/:id",component:XM})))};const iO=()=>{const t="1096fe81",a="v0.11.0",n="2021-11-15 22:47:45",r=Object(ge.a)(),{data:s,error:l,loading:u,refetch:o,networkStatus:i}=mE();function c(){if(!!a)return e.a.createElement("tr",null,e.a.createElement("td",null,r.formatMessage({id:"config.about.version"}),":"),e.a.createElement("td",null,a))}function g(){if(!(!(s==null?void 0:s.latestversion.shorthash)||!(s==null?void 0:s.latestversion.url)))return t!==s.latestversion.shorthash?e.a.createElement(e.a.Fragment,null,e.a.createElement("strong",null,s.latestversion.shorthash," ",r.formatMessage({id:"config.about.new_version_notice"})," "),e.a.createElement("a",{href:s.latestversion.url},r.formatMessage({id:"actions.download"}))):e.a.createElement(e.a.Fragment,null,s.latestversion.shorthash)}function f(){return e.a.createElement(Ra.a,null,e.a.createElement("tbody",null,e.a.createElement("tr",null,e.a.createElement("td",null,r.formatMessage({id:"config.about.latest_version_build_hash"})," "),e.a.createElement("td",null,g()," ")),e.a.createElement("tr",null,e.a.createElement("td",null,e.a.createElement(q.a,{onClick:()=>o()},r.formatMessage({id:"config.about.check_for_new_version"}))))))}function p(){return e.a.createElement(e.a.Fragment,null,e.a.createElement(Ra.a,null,e.a.createElement("tbody",null,c(),e.a.createElement("tr",null,e.a.createElement("td",null,r.formatMessage({id:"config.about.build_hash"})),e.a.createElement("td",null,t)),e.a.createElement("tr",null,e.a.createElement("td",null,r.formatMessage({id:"config.about.build_time"})),e.a.createElement("td",null,n)))))}return e.a.createElement(e.a.Fragment,null,e.a.createElement("h4",null,r.formatMessage({id:"config.categories.about"})),e.a.createElement(Ra.a,null,e.a.createElement("tbody",null,e.a.createElement("tr",null,e.a.createElement("td",null,r.formatMessage({id:"config.about.stash_home"},{url:e.a.createElement("a",{href:"https://github.com/stashapp/stash",rel:"noopener noreferrer",target:"_blank"},"GitHub")}))),e.a.createElement("tr",null,e.a.createElement("td",null,r.formatMessage({id:"config.about.stash_wiki"},{url:e.a.createElement("a",{href:"https://github.com/stashapp/stash/wiki",rel:"noopener noreferrer",target:"_blank"},"Wiki")}))),e.a.createElement("tr",null,e.a.createElement("td",null,r.formatMessage({id:"config.about.stash_discord"},{url:e.a.createElement("a",{href:"https://discord.gg/2TsNFKt",rel:"noopener noreferrer",target:"_blank"},"Discord")}))),e.a.createElement("tr",null,e.a.createElement("td",null,r.formatMessage({id:"config.about.stash_open_collective"},{url:e.a.createElement("a",{href:"https://opencollective.com/stashapp",rel:"noopener noreferrer",target:"_blank"},"Open Collective")}))))),l&&e.a.createElement("span",null,l.message),p(),!s||u||i===4?e.a.createElement($e,{inline:!0}):f())};var sO=Object.defineProperty,lO=Object.defineProperties,oO=Object.getOwnPropertyDescriptors,ig=Object.getOwnPropertySymbols,cO=Object.prototype.hasOwnProperty,uO=Object.prototype.propertyIsEnumerable,sg=(t,a,n)=>a in t?sO(t,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[a]=n,dO=(t,a)=>{for(var n in a||(a={}))cO.call(a,n)&&sg(t,n,a[n]);if(ig)for(var n of ig(a))uO.call(a,n)&&sg(t,n,a[n]);return t},mO=(t,a)=>lO(t,oO(a));const gO=({instance:t,onSave:a,onDelete:n,isMulti:r})=>{var s,l,u,o,i,c;const g=Object(ge.a)(),f=(p,_)=>{const S=mO(dO({},t),{[p]:_});a(S)};return e.a.createElement(m.a.Group,{className:"row no-gutters"},e.a.createElement(Ze.a,{className:"col"},e.a.createElement(m.a.Control,{placeholder:g.formatMessage({id:"config.stashbox.name"}),className:"text-input col-3 stash-box-name",value:t==null?void 0:t.name,isValid:!r||((l=(s=t==null?void 0:t.name)==null?void 0:s.length)!=null?l:0)>0,onInput:p=>f("name",p.currentTarget.value)}),e.a.createElement(m.a.Control,{placeholder:g.formatMessage({id:"config.stashbox.graphql_endpoint"}),className:"text-input col-3 stash-box-endpoint",value:t==null?void 0:t.endpoint,isValid:((o=(u=t==null?void 0:t.endpoint)==null?void 0:u.length)!=null?o:0)>0,onInput:p=>f("endpoint",p.currentTarget.value.trim())}),e.a.createElement(m.a.Control,{placeholder:g.formatMessage({id:"config.stashbox.api_key"}),className:"text-input col-3 stash-box-apikey",value:t==null?void 0:t.api_key,isValid:((c=(i=t==null?void 0:t.api_key)==null?void 0:i.length)!=null?c:0)>0,onInput:p=>f("api_key",p.currentTarget.value.trim())}),e.a.createElement(Ze.a.Append,null,e.a.createElement(q.a,{className:"",variant:"danger",title:g.formatMessage({id:"actions.delete"}),onClick:()=>n(t.index)},e.a.createElement(le,{icon:"minus"})))))},fO=({boxes:t,saveBoxes:a})=>{const n=Object(ge.a)(),[r,s]=Object(d.useState)(1e3),l=i=>a(t.map(c=>c.index===i.index?i:c)),u=i=>a(t.filter(c=>c.index!==i)),o=()=>{a([...t,{index:r}]),s(r+1)};return e.a.createElement(m.a.Group,null,e.a.createElement("h6",null,n.formatMessage({id:"config.stashbox.title"})),t.length>0&&e.a.createElement("div",{className:"row no-gutters"},e.a.createElement("h6",{className:"col-3 ml-1"},n.formatMessage({id:"config.stashbox.name"})),e.a.createElement("h6",{className:"col-3 ml-1"},n.formatMessage({id:"config.stashbox.endpoint"})),e.a.createElement("h6",{className:"col-3 ml-1"},n.formatMessage({id:"config.general.auth.api_key"}))),t.map(i=>e.a.createElement(gO,{instance:i,onSave:l,onDelete:u,key:i.index,isMulti:t.length>1})),e.a.createElement(q.a,{className:"minimal",title:n.formatMessage({id:"config.stashbox.add_instance"}),onClick:o},e.a.createElement(le,{icon:"plus"})),e.a.createElement(m.a.Text,{className:"text-muted"},n.formatMessage({id:"config.stashbox.description"})))},lg=t=>{const[a,n]=Object(d.useState)("");return e.a.createElement(mt.a,{show:!0,onHide:()=>t.onClose(),title:""},e.a.createElement(mt.a.Header,null,"Select Directory"),e.a.createElement(mt.a.Body,null,e.a.createElement("div",{className:"dialog-content"},e.a.createElement($d,{currentDirectory:a,setCurrentDirectory:r=>n(r)}))),e.a.createElement(mt.a.Footer,null,e.a.createElement(q.a,{variant:"success",onClick:()=>t.onClose(a)},e.a.createElement(b.a,{id:"actions.add"}))))};var pO=Object.defineProperty,_O=Object.defineProperties,hO=Object.getOwnPropertyDescriptors,og=Object.getOwnPropertySymbols,vO=Object.prototype.hasOwnProperty,EO=Object.prototype.propertyIsEnumerable,cg=(t,a,n)=>a in t?pO(t,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[a]=n,yO=(t,a)=>{for(var n in a||(a={}))vO.call(a,n)&&cg(t,n,a[n]);if(og)for(var n of og(a))EO.call(a,n)&&cg(t,n,a[n]);return t},bO=(t,a)=>_O(t,hO(a));const SO=({index:t,stash:a,onSave:n,onDelete:r})=>{const s=(o,i)=>{const c=bO(yO({},a),{[o]:i});n(c)},l=Object(ge.a)(),u=t%2==1?"bg-dark":"";return e.a.createElement(xe.a,{className:`align-items-center ${u}`},e.a.createElement(m.a.Label,{column:!0,xs:4},a.path),e.a.createElement(Se.a,{xs:3},e.a.createElement(m.a.Check,{id:"stash-exclude-video",checked:a.excludeVideo,onChange:()=>s("excludeVideo",!a.excludeVideo)})),e.a.createElement(Se.a,{xs:3},e.a.createElement(m.a.Check,{id:"stash-exclude-image",checked:a.excludeImage,onChange:()=>s("excludeImage",!a.excludeImage)})),e.a.createElement(Se.a,{xs:2},e.a.createElement(q.a,{size:"sm",variant:"danger",title:l.formatMessage({id:"actions.delete"}),onClick:()=>r()},e.a.createElement(le,{icon:"minus"}))))};var ug=({stashes:t,setStashes:a})=>{const[n,r]=Object(d.useState)(!1),s=(i,c)=>a(t.map((g,f)=>f===i?c:g)),l=i=>a(t.filter((c,g)=>g!==i)),u=i=>{r(!1),!!i&&a([...t,{path:i,excludeImage:!1,excludeVideo:!1}])};function o(){if(!!n)return e.a.createElement(lg,{onClose:u})}return e.a.createElement(e.a.Fragment,null,o(),e.a.createElement(m.a.Group,null,t.length>0&&e.a.createElement(xe.a,null,e.a.createElement("h6",{className:"col-4"},e.a.createElement(b.a,{id:"path"})),e.a.createElement("h6",{className:"col-3"},e.a.createElement(b.a,{id:"config.general.exclude_video"})),e.a.createElement("h6",{className:"col-3"},e.a.createElement(b.a,{id:"config.general.exclude_image"}))),t.map((i,c)=>e.a.createElement(SO,{index:c,stash:i,onSave:g=>s(c,g),onDelete:()=>l(c),key:i.path})),e.a.createElement(q.a,{className:"mt-2",variant:"secondary",onClick:()=>r(!0)},e.a.createElement(b.a,{id:"actions.add_directory"}))))};const tn=t=>{function a(s,l){const u=t.value.map((o,i)=>s!==i?o:l);t.setValue(u)}function n(s){const l=t.value.filter((u,o)=>o!==s);t.setValue(l)}function r(){var s;const l=t.value.concat((s=t.defaultNewValue)!=null?s:"");t.setValue(l)}return e.a.createElement(e.a.Fragment,null,e.a.createElement("div",{className:`string-list-input ${t.errors?"is-invalid":""}`},t.value&&t.value.length>0&&e.a.createElement(m.a.Group,null,t.value&&t.value.map((s,l)=>e.a.createElement(Ze.a,{className:t.className,key:l},e.a.createElement(m.a.Control,{className:"text-input",value:s,onChange:u=>a(l,u.currentTarget.value)}),e.a.createElement(Ze.a.Append,null,e.a.createElement(q.a,{variant:"danger",onClick:()=>n(l)},e.a.createElement(le,{icon:"minus"})))))),e.a.createElement(q.a,{className:"minimal",size:"sm",onClick:()=>r()},e.a.createElement(le,{icon:"plus"}))),e.a.createElement("div",{className:"invalid-feedback"},t.errors))};var eo=(t,a,n)=>new Promise((r,s)=>{var l=i=>{try{o(n.next(i))}catch(c){s(c)}},u=i=>{try{o(n.throw(i))}catch(c){s(c)}},o=i=>i.done?r(i.value):Promise.resolve(i.value).then(l,u);o((n=n.apply(t,a)).next())});const wO=()=>{const t=Object(ge.a)(),a=He(),[n,r]=Object(d.useState)([]),[s,l]=Object(d.useState)(void 0),[u,o]=Object(d.useState)(void 0),[i,c]=Object(d.useState)(void 0),[g,f]=Object(d.useState)(void 0),[p,_]=Object(d.useState)(!1),[S,v]=Object(d.useState)(void 0),[x,w]=Object(d.useState)(0),[D,M]=Object(d.useState)(!0),[y,k]=Object(d.useState)(0),[F,I]=Object(d.useState)(0),[j,R]=Object(d.useState)(void 0),[P,z]=Object(d.useState)(void 0),[L,G]=Object(d.useState)(Tn.Slow),[Y,V]=Object(d.useState)(void 0),[U,te]=Object(d.useState)(void 0),[oe,Q]=Object(d.useState)(!0),[J,re]=Object(d.useState)(void 0),[Z,W]=Object(d.useState)(void 0),[H,de]=Object(d.useState)(0),[A,T]=Object(d.useState)(void 0),[N,C]=Object(d.useState)(),[O,$]=Object(d.useState)(!0),[X,ie]=Object(d.useState)("Info"),[ae,se]=Object(d.useState)(!0),[ye,Pe]=Object(d.useState)(),[Fe,ve]=Object(d.useState)(),[Te,Ve]=Object(d.useState)(),[he,be]=Object(d.useState)(!1),[Ne,Ie]=Object(d.useState)([]),[je,Ke]=Object(d.useState)([]),[Ye,ee]=Object(d.useState)(),[we,_e]=Object(d.useState)([]),{data:Oe,error:fe,loading:Ce}=Vn(),[pe]=YE(),[Xe]=WE({stashes:n.map(me=>({path:me.path,excludeVideo:me.excludeVideo,excludeImage:me.excludeImage})),databasePath:s,generatedPath:u,metadataPath:i,cachePath:g,calculateMD5:p,videoFileNamingAlgorithm:S!=null?S:void 0,parallelTasks:x,previewAudio:D,previewSegments:y,previewSegmentDuration:F,previewExcludeStart:j,previewExcludeEnd:P,previewPreset:L!=null?L:void 0,maxTranscodeSize:Y,maxStreamingTranscodeSize:U,writeImageThumbnails:oe,username:J,password:Z,maxSessionAge:H,trustedProxies:A,logFile:N,logOut:O,logLevel:X,logAccess:ae,createGalleriesFromFolders:he,videoExtensions:at(ye),imageExtensions:at(Fe),galleryExtensions:at(Te),excludes:Ne,imageExcludes:je,customPerformerImageLocation:Ye,stashBoxes:we.map(me=>{var ce,Ae,Qe;return{name:(ce=me==null?void 0:me.name)!=null?ce:"",api_key:(Ae=me==null?void 0:me.api_key)!=null?Ae:"",endpoint:(Qe=me==null?void 0:me.endpoint)!=null?Qe:""}})});Object(d.useEffect)(()=>{var me,ce,Ae,Qe,lt,gt,Lt;if(!(Oe==null?void 0:Oe.configuration)||fe)return;const We=Oe.configuration;We.general&&(r((me=We.general.stashes)!=null?me:[]),l(We.general.databasePath),o(We.general.generatedPath),c(We.general.metadataPath),f(We.general.cachePath),v(We.general.videoFileNamingAlgorithm),_(We.general.calculateMD5),w(We.general.parallelTasks),M(We.general.previewAudio),k(We.general.previewSegments),I(We.general.previewSegmentDuration),R(We.general.previewExcludeStart),z(We.general.previewExcludeEnd),G(We.general.previewPreset),V((ce=We.general.maxTranscodeSize)!=null?ce:void 0),te((Ae=We.general.maxStreamingTranscodeSize)!=null?Ae:void 0),Q(We.general.writeImageThumbnails),re(We.general.username),W(We.general.password),de(We.general.maxSessionAge),T((Qe=We.general.trustedProxies)!=null?Qe:void 0),C((lt=We.general.logFile)!=null?lt:void 0),$(We.general.logOut),ie(We.general.logLevel),se(We.general.logAccess),be(We.general.createGalleriesFromFolders),Pe(ft(We.general.videoExtensions)),ve(ft(We.general.imageExtensions)),Ve(ft(We.general.galleryExtensions)),Ie(We.general.excludes),Ke(We.general.imageExcludes),ee((gt=We.general.customPerformerImageLocation)!=null?gt:""),_e((Lt=We.general.stashBoxes.map((On,co)=>{var Nn;return{name:(Nn=On==null?void 0:On.name)!=null?Nn:void 0,endpoint:On.endpoint,api_key:On.api_key,index:co}}))!=null?Lt:[]))},[Oe,fe]);function at(me){if(me)return me.split(",").map(ce=>ce.trim())}function ft(me){if(me)return me.join(", ")}function Dt(){return eo(this,null,function*(){try{yield pe({variables:{input:{}}})}catch(me){a.error(me)}})}function Na(){return eo(this,null,function*(){try{yield pe({variables:{input:{clear:!0}}})}catch(me){a.error(me)}})}function Ba(){return eo(this,null,function*(){try{const me=yield Xe();console.log(me),a.success({content:t.formatMessage({id:"toast.updated_entity"},{entity:t.formatMessage({id:"configuration"}).toLocaleLowerCase()})})}catch(me){a.error(me)}})}const an=[wt.Low,wt.Standard,wt.StandardHd,wt.FullHd,wt.FourK,wt.Original].map(Rr);function Rr(me){switch(me){case wt.Low:return"240p";case wt.Standard:return"480p";case wt.StandardHd:return"720p";case wt.FullHd:return"1080p";case wt.FourK:return"4k";case wt.Original:return"Original"}return"Original"}function ds(me){switch(me){case"240p":return wt.Low;case"480p":return wt.Standard;case"720p":return wt.StandardHd;case"1080p":return wt.FullHd;case"4k":return wt.FourK;case"Original":return wt.Original}return wt.Original}const lo=[Da.Md5,Da.Oshash].map(ms);function ms(me){switch(me){case Da.Oshash:return"oshash";case Da.Md5:return"MD5"}return"MD5"}function oo(me){switch(me){case"oshash":return Da.Oshash;case"MD5":return Da.Md5}return Da.Md5}return fe?e.a.createElement("h1",null,fe.message):!(Oe==null?void 0:Oe.configuration)||Ce?e.a.createElement($e,null):e.a.createElement(e.a.Fragment,null,e.a.createElement("h4",null,e.a.createElement(b.a,{id:"library"})),e.a.createElement(m.a.Group,null,e.a.createElement(m.a.Group,{id:"stashes"},e.a.createElement("h6",null,"Stashes"),e.a.createElement(ug,{stashes:n,setStashes:me=>r(me)}),e.a.createElement(m.a.Text,{className:"text-muted"},t.formatMessage({id:"config.general.directory_locations_to_your_content"}))),e.a.createElement(m.a.Group,{id:"database-path"},e.a.createElement("h6",null,e.a.createElement(b.a,{id:"config.general.db_path_head"})),e.a.createElement(m.a.Control,{className:"col col-sm-6 text-input",defaultValue:s,onChange:me=>l(me.currentTarget.value)}),e.a.createElement(m.a.Text,{className:"text-muted"},t.formatMessage({id:"config.general.sqlite_location"}))),e.a.createElement(m.a.Group,{id:"generated-path"},e.a.createElement("h6",null,e.a.createElement(b.a,{id:"config.general.generated_path_head"})),e.a.createElement(m.a.Control,{className:"col col-sm-6 text-input",defaultValue:u,onChange:me=>o(me.currentTarget.value)}),e.a.createElement(m.a.Text,{className:"text-muted"},t.formatMessage({id:"config.general.generated_files_location"}))),e.a.createElement(m.a.Group,{id:"metadata-path"},e.a.createElement("h6",null,e.a.createElement(b.a,{id:"config.general.metadata_path.heading"})),e.a.createElement(m.a.Control,{className:"col col-sm-6 text-input",defaultValue:i,onChange:me=>c(me.currentTarget.value)}),e.a.createElement(m.a.Text,{className:"text-muted"},t.formatMessage({id:"config.general.metadata_path.description"}))),e.a.createElement(m.a.Group,{id:"cache-path"},e.a.createElement("h6",null,e.a.createElement(b.a,{id:"config.general.cache_path_head"})),e.a.createElement(m.a.Control,{className:"col col-sm-6 text-input",defaultValue:g,onChange:me=>f(me.currentTarget.value)}),e.a.createElement(m.a.Text,{className:"text-muted"},t.formatMessage({id:"config.general.cache_location"}))),e.a.createElement(m.a.Group,{id:"video-extensions"},e.a.createElement("h6",null,e.a.createElement(b.a,{id:"config.general.video_ext_head"})),e.a.createElement(m.a.Control,{className:"col col-sm-6 text-input",defaultValue:ye,onChange:me=>Pe(me.currentTarget.value)}),e.a.createElement(m.a.Text,{className:"text-muted"},t.formatMessage({id:"config.general.video_ext_desc"}))),e.a.createElement(m.a.Group,{id:"image-extensions"},e.a.createElement("h6",null,e.a.createElement(b.a,{id:"config.general.image_ext_head"})),e.a.createElement(m.a.Control,{className:"col col-sm-6 text-input",defaultValue:Fe,onChange:me=>ve(me.currentTarget.value)}),e.a.createElement(m.a.Text,{className:"text-muted"},t.formatMessage({id:"config.general.image_ext_desc"}))),e.a.createElement(m.a.Group,{id:"gallery-extensions"},e.a.createElement("h6",null,t.formatMessage({id:"config.general.gallery_ext_head"})),e.a.createElement(m.a.Control,{className:"col col-sm-6 text-input",defaultValue:Te,onChange:me=>Ve(me.currentTarget.value)}),e.a.createElement(m.a.Text,{className:"text-muted"},t.formatMessage({id:"config.general.gallery_ext_desc"}))),e.a.createElement(m.a.Group,null,e.a.createElement("h6",null,t.formatMessage({id:"config.general.excluded_video_patterns_head"})),e.a.createElement(tn,{className:"w-50",value:Ne,setValue:Ie,defaultNewValue:"sample\\.mp4$"}),e.a.createElement(m.a.Text,{className:"text-muted"},t.formatMessage({id:"config.general.excluded_video_patterns_desc"}),e.a.createElement("a",{href:"https://github.com/stashapp/stash/wiki/Exclude-file-configuration",rel:"noopener noreferrer",target:"_blank"},e.a.createElement(le,{icon:"question-circle"})))),e.a.createElement(m.a.Group,null,e.a.createElement("h6",null,t.formatMessage({id:"config.general.excluded_image_gallery_patterns_head"})),e.a.createElement(tn,{className:"w-50",value:je,setValue:Ke,defaultNewValue:"sample\\.jpg$"}),e.a.createElement(m.a.Text,{className:"text-muted"},t.formatMessage({id:"config.general.excluded_image_gallery_patterns_desc"}),e.a.createElement("a",{href:"https://github.com/stashapp/stash/wiki/Exclude-file-configuration",rel:"noopener noreferrer",target:"_blank"},e.a.createElement(le,{icon:"question-circle"})))),e.a.createElement(m.a.Group,null,e.a.createElement(m.a.Check,{id:"create-galleries-from-folders",checked:he,label:t.formatMessage({id:"config.general.create_galleries_from_folders_label"}),onChange:()=>be(!he)}),e.a.createElement(m.a.Text,{className:"text-muted"},t.formatMessage({id:"config.general.create_galleries_from_folders_desc"})))),e.a.createElement("hr",null),e.a.createElement(m.a.Group,null,e.a.createElement("h4",null,t.formatMessage({id:"config.general.hashing"})),e.a.createElement(m.a.Group,null,e.a.createElement(m.a.Check,{id:"calculate-md5-and-ohash",checked:p,label:t.formatMessage({id:"config.general.calculate_md5_and_ohash_label"}),onChange:()=>_(!p)}),e.a.createElement(m.a.Text,{className:"text-muted"},t.formatMessage({id:"config.general.calculate_md5_and_ohash_desc"}))),e.a.createElement(m.a.Group,{id:"transcode-size"},e.a.createElement("h6",null,t.formatMessage({id:"config.general.generated_file_naming_hash_head"})),e.a.createElement(m.a.Control,{className:"w-auto input-control",as:"select",value:ms(S),onChange:me=>v(oo(me.currentTarget.value))},lo.map(me=>e.a.createElement("option",{key:me,value:me},me))),e.a.createElement(m.a.Text,{className:"text-muted"},t.formatMessage({id:"config.general.generated_file_naming_hash_desc"})))),e.a.createElement("hr",null),e.a.createElement(m.a.Group,null,e.a.createElement("h4",null,t.formatMessage({id:"config.general.video_head"})),e.a.createElement(m.a.Group,{id:"transcode-size"},e.a.createElement("h6",null,t.formatMessage({id:"config.general.maximum_transcode_size_head"})),e.a.createElement(m.a.Control,{className:"w-auto input-control",as:"select",onChange:me=>V(ds(me.currentTarget.value)),value:Rr(Y)},an.map(me=>e.a.createElement("option",{key:me,value:me},me))),e.a.createElement(m.a.Text,{className:"text-muted"},t.formatMessage({id:"config.general.maximum_transcode_size_desc"}))),e.a.createElement(m.a.Group,{id:"streaming-transcode-size"},e.a.createElement("h6",null,t.formatMessage({id:"config.general.maximum_streaming_transcode_size_head"})),e.a.createElement(m.a.Control,{className:"w-auto input-control",as:"select",onChange:me=>te(ds(me.currentTarget.value)),value:Rr(U)},an.map(me=>e.a.createElement("option",{key:me,value:me},me))),e.a.createElement(m.a.Text,{className:"text-muted"},t.formatMessage({id:"config.general.maximum_streaming_transcode_size_desc"})))),e.a.createElement("hr",null),e.a.createElement(m.a.Group,null,e.a.createElement("h4",null,t.formatMessage({id:"config.general.parallel_scan_head"})),e.a.createElement(m.a.Group,{id:"parallel-tasks"},e.a.createElement("h6",null,t.formatMessage({id:"config.general.number_of_parallel_task_for_scan_generation_head"})),e.a.createElement(m.a.Control,{className:"col col-sm-6 text-input",type:"number",value:x,onChange:me=>w(Number.parseInt(me.currentTarget.value||"0",10))}),e.a.createElement(m.a.Text,{className:"text-muted"},t.formatMessage({id:"config.general.number_of_parallel_task_for_scan_generation_desc"})))),e.a.createElement("hr",null),e.a.createElement(m.a.Group,null,e.a.createElement("h4",null,t.formatMessage({id:"config.general.preview_generation"})),e.a.createElement(m.a.Group,{id:"transcode-size"},e.a.createElement("h6",null,t.formatMessage({id:"dialogs.scene_gen.preview_preset_head"})),e.a.createElement(m.a.Control,{className:"w-auto input-control",as:"select",value:L,onChange:me=>G(me.currentTarget.value)},Object.keys(Tn).map(me=>e.a.createElement("option",{value:me.toLowerCase(),key:me},me))),e.a.createElement(m.a.Text,{className:"text-muted"},t.formatMessage({id:"dialogs.scene_gen.preview_preset_desc"}))),e.a.createElement(m.a.Group,null,e.a.createElement(m.a.Check,{id:"preview-include-audio",checked:D,label:t.formatMessage({id:"config.general.include_audio_head"}),onChange:()=>M(!D)}),e.a.createElement(m.a.Text,{className:"text-muted"},t.formatMessage({id:"config.general.include_audio_desc"}))),e.a.createElement(m.a.Group,{id:"preview-segments"},e.a.createElement("h6",null,t.formatMessage({id:"dialogs.scene_gen.preview_seg_count_head"})),e.a.createElement(m.a.Control,{className:"col col-sm-6 text-input",type:"number",value:y.toString(),onChange:me=>k(Number.parseInt(me.currentTarget.value||"0",10))}),e.a.createElement(m.a.Text,{className:"text-muted"},t.formatMessage({id:"dialogs.scene_gen.preview_seg_count_desc"}))),e.a.createElement(m.a.Group,{id:"preview-segment-duration"},e.a.createElement("h6",null,t.formatMessage({id:"dialogs.scene_gen.preview_seg_duration_head"})),e.a.createElement(m.a.Control,{className:"col col-sm-6 text-input",type:"number",value:F.toString(),onChange:me=>I(Number.parseFloat(me.currentTarget.value||"0"))}),e.a.createElement(m.a.Text,{className:"text-muted"},t.formatMessage({id:"dialogs.scene_gen.preview_seg_duration_desc"}))),e.a.createElement(m.a.Group,{id:"preview-exclude-start"},e.a.createElement("h6",null,t.formatMessage({id:"dialogs.scene_gen.preview_exclude_start_time_head"})),e.a.createElement(m.a.Control,{className:"col col-sm-6 text-input",defaultValue:j,onChange:me=>R(me.currentTarget.value)}),e.a.createElement(m.a.Text,{className:"text-muted"},t.formatMessage({id:"dialogs.scene_gen.preview_exclude_start_time_desc"}))),e.a.createElement(m.a.Group,{id:"preview-exclude-start"},e.a.createElement("h6",null,t.formatMessage({id:"dialogs.scene_gen.preview_exclude_end_time_head"})),e.a.createElement(m.a.Control,{className:"col col-sm-6 text-input",defaultValue:P,onChange:me=>z(me.currentTarget.value)}),e.a.createElement(m.a.Text,{className:"text-muted"},t.formatMessage({id:"dialogs.scene_gen.preview_exclude_end_time_desc"})))),e.a.createElement("hr",null),e.a.createElement(m.a.Group,null,e.a.createElement("h4",null,t.formatMessage({id:"images"})),e.a.createElement(m.a.Group,null,e.a.createElement(m.a.Check,{id:"write-image-thumbnails",checked:oe,label:t.formatMessage({id:"config.ui.images.options.write_image_thumbnails.heading"}),onChange:()=>Q(!oe)}),e.a.createElement(m.a.Text,{className:"text-muted"},t.formatMessage({id:"config.ui.images.options.write_image_thumbnails.description"})))),e.a.createElement("hr",null),e.a.createElement(m.a.Group,null,e.a.createElement("h4",null,t.formatMessage({id:"performers"})),e.a.createElement(m.a.Group,null,e.a.createElement("h6",null,t.formatMessage({id:"config.ui.performers.options.image_location.heading"})),e.a.createElement(m.a.Control,{className:"col col-sm-6 text-input",value:Ye,onChange:me=>{ee(me.currentTarget.value)}}),e.a.createElement(m.a.Text,{className:"text-muted"},t.formatMessage({id:"config.ui.performers.options.image_location.description"})))),e.a.createElement("hr",null),e.a.createElement(m.a.Group,{id:"stashbox"},e.a.createElement("h4",null,t.formatMessage({id:"config.general.auth.stash-box_integration"})),e.a.createElement(fO,{boxes:we,saveBoxes:_e})),e.a.createElement("hr",null),e.a.createElement(m.a.Group,null,e.a.createElement("h4",null,t.formatMessage({id:"config.general.auth.authentication"})),e.a.createElement(m.a.Group,{id:"username"},e.a.createElement("h6",null,t.formatMessage({id:"config.general.auth.username"})),e.a.createElement(m.a.Control,{className:"col col-sm-6 text-input",defaultValue:J,onInput:me=>re(me.currentTarget.value)}),e.a.createElement(m.a.Text,{className:"text-muted"},t.formatMessage({id:"config.general.auth.username_desc"}))),e.a.createElement(m.a.Group,{id:"password"},e.a.createElement("h6",null,t.formatMessage({id:"config.general.auth.password"})),e.a.createElement(m.a.Control,{className:"col col-sm-6 text-input",type:"password",defaultValue:Z,onInput:me=>W(me.currentTarget.value)}),e.a.createElement(m.a.Text,{className:"text-muted"},t.formatMessage({id:"config.general.auth.password_desc"}))),e.a.createElement(m.a.Group,{id:"apikey"},e.a.createElement("h6",null,t.formatMessage({id:"config.general.auth.api_key"})),e.a.createElement(Ze.a,null,e.a.createElement(m.a.Control,{className:"col col-sm-6 text-input",value:Oe.configuration.general.apiKey,readOnly:!0}),e.a.createElement(Ze.a.Append,null,e.a.createElement(q.a,{className:"",title:t.formatMessage({id:"config.general.auth.generate_api_key"}),onClick:()=>Dt()},e.a.createElement(le,{icon:"redo"})),e.a.createElement(q.a,{className:"",variant:"danger",title:t.formatMessage({id:"config.general.auth.clear_api_key"}),onClick:()=>Na()},e.a.createElement(le,{icon:"minus"})))),e.a.createElement(m.a.Text,{className:"text-muted"},t.formatMessage({id:"config.general.auth.api_key_desc"}))),e.a.createElement(m.a.Group,{id:"maxSessionAge"},e.a.createElement("h6",null,t.formatMessage({id:"config.general.auth.maximum_session_age"})),e.a.createElement(m.a.Control,{className:"col col-sm-6 text-input",type:"number",value:H.toString(),onChange:me=>de(Number.parseInt(me.currentTarget.value||"0",10))}),e.a.createElement(m.a.Text,{className:"text-muted"},t.formatMessage({id:"config.general.auth.maximum_session_age_desc"})))),e.a.createElement(m.a.Group,{id:"trusted-proxies"},e.a.createElement("h6",null,t.formatMessage({id:"config.general.auth.trusted_proxies"})),e.a.createElement(tn,{value:A!=null?A:[],setValue:me=>T(me),defaultNewValue:""}),e.a.createElement(m.a.Text,{className:"text-muted"},t.formatMessage({id:"config.general.auth.trusted_proxies_desc"}))),e.a.createElement("hr",null),e.a.createElement("h4",null,t.formatMessage({id:"config.general.logging"})),e.a.createElement(m.a.Group,{id:"log-file"},e.a.createElement("h6",null,t.formatMessage({id:"config.general.auth.log_file"})),e.a.createElement(m.a.Control,{className:"col col-sm-6 text-input",defaultValue:N,onInput:me=>C(me.currentTarget.value)}),e.a.createElement(m.a.Text,{className:"text-muted"},t.formatMessage({id:"config.general.auth.log_file_desc"}))),e.a.createElement(m.a.Group,null,e.a.createElement(m.a.Check,{id:"log-terminal",checked:O,label:t.formatMessage({id:"config.general.auth.log_to_terminal"}),onChange:()=>$(!O)}),e.a.createElement(m.a.Text,{className:"text-muted"},t.formatMessage({id:"config.general.auth.log_to_terminal_desc"}))),e.a.createElement(m.a.Group,{id:"log-level"},e.a.createElement("h6",null,t.formatMessage({id:"config.logs.log_level"})),e.a.createElement(m.a.Control,{className:"col col-sm-6 input-control",as:"select",onChange:me=>ie(me.currentTarget.value),value:X},["Trace","Debug","Info","Warning","Error"].map(me=>e.a.createElement("option",{key:me,value:me},me)))),e.a.createElement(m.a.Group,null,e.a.createElement(m.a.Check,{id:"log-http",checked:ae,label:t.formatMessage({id:"config.general.auth.log_http"}),onChange:()=>se(!ae)}),e.a.createElement(m.a.Text,{className:"text-muted"},t.formatMessage({id:"config.general.auth.log_http_desc"}))),e.a.createElement("hr",null),e.a.createElement(q.a,{variant:"primary",onClick:()=>Ba()},e.a.createElement(b.a,{id:"actions.save"})))},kO=({groupId:t,items:a,checkedIds:n=[],onChange:r})=>{function s(l){return`${t}-${l}`}return e.a.createElement(e.a.Fragment,null,a.map(({id:l,label:u})=>e.a.createElement(m.a.Check,{key:l,type:"checkbox",id:s(l),label:u,checked:n.includes(l),onChange:o=>{const i=o.currentTarget;i.checked?r==null||r(a.map(c=>c.id).filter(c=>s(c)===i.id||n.includes(c))):r==null||r(a.map(c=>c.id).filter(c=>s(c)!==i.id&&n.includes(c)))}})))};var xO=Object.defineProperty,PO=Object.defineProperties,CO=Object.getOwnPropertyDescriptors,dg=Object.getOwnPropertySymbols,MO=Object.prototype.hasOwnProperty,OO=Object.prototype.propertyIsEnumerable,mg=(t,a,n)=>a in t?xO(t,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[a]=n,rs=(t,a)=>{for(var n in a||(a={}))MO.call(a,n)&&mg(t,n,a[n]);if(dg)for(var n of dg(a))OO.call(a,n)&&mg(t,n,a[n]);return t},is=(t,a)=>PO(t,CO(a)),NO=(t,a,n)=>new Promise((r,s)=>{var l=i=>{try{o(n.next(i))}catch(c){s(c)}},u=i=>{try{o(n.throw(i))}catch(c){s(c)}},o=i=>i.done?r(i.value):Promise.resolve(i.value).then(l,u);o((n=n.apply(t,a)).next())});const to=[{id:"scenes",label:"Scenes"},{id:"images",label:"Images"},{id:"movies",label:"Movies"},{id:"markers",label:"Markers"},{id:"galleries",label:"Galleries"},{id:"performers",label:"Performers"},{id:"studios",label:"Studios"},{id:"tags",label:"Tags"}],gg=1e3,IO=()=>{var t,a,n;const r=Object(ge.a)(),s=He(),{data:l,error:u,loading:o}=Vn(),[i,c]=Object(d.useState)(to.map(ie=>ie.id)),[g,f]=Object(d.useState)(!1),[p,_]=Object(d.useState)(!0),[S,v]=Object(d.useState)(!0),[x,w]=Object(d.useState)("video"),[D,M]=Object(d.useState)(0),[y,k]=Object(d.useState)(!1),[F,I]=Object(d.useState)(!0),[j,R]=Object(d.useState)(!1),[P,z]=Object(d.useState)(0),[L,G]=Object(d.useState)(!1),[Y,V]=Object(d.useState)(),[U,te]=Object(d.useState)(!1),[oe,Q]=Object(d.useState)("en"),[J,re]=Object(d.useState)(),[Z,W]=Object(d.useState)(0),[H,de]=Object(d.useState)(!1),[A,T]=Object(d.useState)(!0),[N,C]=Object(d.useState)({}),[O]=KE({menuItems:i,soundOnPreview:p,wallShowTitle:S,wallPlayback:x,maximumLoopDuration:D,noBrowser:g,autostartVideo:y,autostartVideoOnPlaySelected:F,continuePlaylistDefault:j,showStudioAsText:L,css:Y,cssEnabled:U,language:oe,slideshowDelay:P,handyKey:J,funscriptOffset:Z,disableDropdownCreate:N}),[$]=Bc();Object(d.useEffect)(()=>{var ie,ae,se,ye,Pe,Fe,ve,Te,Ve,he,be,Ne,Ie,je,Ke,Ye,ee,we;if(l){const{interface:_e,defaults:Oe}=l.configuration;c((ie=_e.menuItems)!=null?ie:to.map(fe=>fe.id)),_((ae=_e.soundOnPreview)!=null?ae:!0),v((se=_e.wallShowTitle)!=null?se:!0),w((ye=_e.wallPlayback)!=null?ye:"video"),M((Pe=_e.maximumLoopDuration)!=null?Pe:0),f((Fe=_e==null?void 0:_e.noBrowser)!=null?Fe:!1),k((ve=_e.autostartVideo)!=null?ve:!1),I((Te=_e.autostartVideoOnPlaySelected)!=null?Te:!0),R((Ve=_e.continuePlaylistDefault)!=null?Ve:!1),G((he=_e.showStudioAsText)!=null?he:!1),V((be=_e.css)!=null?be:""),te((Ne=_e.cssEnabled)!=null?Ne:!1),Q((Ie=_e.language)!=null?Ie:"en-US"),z((je=_e.slideshowDelay)!=null?je:5e3),re((Ke=_e.handyKey)!=null?Ke:""),W((Ye=_e.funscriptOffset)!=null?Ye:0),C({performer:_e.disabledDropdownCreate.performer,studio:_e.disabledDropdownCreate.studio,tag:_e.disabledDropdownCreate.tag}),de((ee=Oe.deleteFile)!=null?ee:!1),T((we=Oe.deleteGenerated)!=null?we:!0)}},[l]);function X(){return NO(this,null,function*(){var ie,ae;const se=l==null?void 0:l.configuration.interface.css,ye=l==null?void 0:l.configuration.interface.cssEnabled;try{(l==null?void 0:l.configuration.defaults)&&(yield $({variables:{input:is(rs({},cn(l==null?void 0:l.configuration.defaults)),{deleteFile:H,deleteGenerated:A})}}));const Pe=yield O();(se!==((ie=Pe.data)==null?void 0:ie.configureInterface.css)||ye!==((ae=Pe.data)==null?void 0:ae.configureInterface.cssEnabled))&&(yield fetch("/css",{cache:"reload"}),window.location.reload()),s.success({content:r.formatMessage({id:"toast.updated_entity"},{entity:r.formatMessage({id:"configuration"}).toLocaleLowerCase()})})}catch(Pe){s.error(Pe)}})}return u?e.a.createElement("h1",null,u.message):o?e.a.createElement($e,null):e.a.createElement(e.a.Fragment,null,e.a.createElement("h4",null,r.formatMessage({id:"config.ui.title"})),e.a.createElement(m.a.Group,{controlId:"language"},e.a.createElement("h5",null,r.formatMessage({id:"config.ui.language.heading"})),e.a.createElement(m.a.Control,{as:"select",className:"col-4 input-control",value:oe,onChange:ie=>Q(ie.currentTarget.value)},e.a.createElement("option",{value:"en-US"},"English (United States)"),e.a.createElement("option",{value:"en-GB"},"English (United Kingdom)"),e.a.createElement("option",{value:"es-ES"},"Spanish (Spain)"),e.a.createElement("option",{value:"de-DE"},"German (Germany)"),e.a.createElement("option",{value:"pt-BR"},"Portuguese (Brazil)"),e.a.createElement("option",{value:"fr-FR"},"French (France)"),e.a.createElement("option",{value:"it-IT"},"Italian (Italy)"),e.a.createElement("option",{value:"sv-SE"},"Swedish (Sweden)"),e.a.createElement("option",{value:"zh-TW"},"\u7E41\u9AD4\u4E2D\u6587 (\u53F0\u7063)"),e.a.createElement("option",{value:"zh-CN"},"\u7B80\u4F53\u4E2D\u6587 (\u4E2D\u56FD)"))),e.a.createElement(m.a.Group,null,e.a.createElement("h5",null,r.formatMessage({id:"config.ui.menu_items.heading"})),e.a.createElement(kO,{groupId:"menu-items",items:to,checkedIds:i,onChange:c}),e.a.createElement(m.a.Text,{className:"text-muted"},r.formatMessage({id:"config.ui.menu_items.description"}))),e.a.createElement("hr",null),e.a.createElement("h4",null,r.formatMessage({id:"config.ui.desktop_integration.desktop_integration"})),e.a.createElement(m.a.Group,null,e.a.createElement(m.a.Check,{id:"skip-browser",checked:g,label:r.formatMessage({id:"config.ui.desktop_integration.skip_opening_browser"}),onChange:()=>f(!g)}),e.a.createElement(m.a.Text,{className:"text-muted"},r.formatMessage({id:"config.ui.desktop_integration.skip_opening_browser_on_startup"}))),e.a.createElement("hr",null),e.a.createElement(m.a.Group,null,e.a.createElement("h5",null,r.formatMessage({id:"config.ui.scene_wall.heading"})),e.a.createElement(m.a.Check,{id:"wall-show-title",checked:S,label:r.formatMessage({id:"config.ui.scene_wall.options.display_title"}),onChange:()=>v(!S)}),e.a.createElement(m.a.Check,{id:"wall-sound-enabled",checked:p,label:r.formatMessage({id:"config.ui.scene_wall.options.toggle_sound"}),onChange:()=>_(!p)}),e.a.createElement(m.a.Label,{htmlFor:"wall-preview"},e.a.createElement("h6",null,r.formatMessage({id:"config.ui.preview_type.heading"}))),e.a.createElement(m.a.Control,{as:"select",name:"wall-preview",className:"col-4 input-control",value:x,onChange:ie=>w(ie.currentTarget.value)},e.a.createElement("option",{value:"video"},r.formatMessage({id:"config.ui.preview_type.options.video"})),e.a.createElement("option",{value:"animation"},r.formatMessage({id:"config.ui.preview_type.options.animated"})),e.a.createElement("option",{value:"image"},r.formatMessage({id:"config.ui.preview_type.options.static"}))),e.a.createElement(m.a.Text,{className:"text-muted"},r.formatMessage({id:"config.ui.preview_type.description"}))),e.a.createElement(m.a.Group,null,e.a.createElement("h5",null,r.formatMessage({id:"config.ui.scene_list.heading"})),e.a.createElement(m.a.Check,{id:"show-text-studios",checked:L,label:r.formatMessage({id:"config.ui.scene_list.options.show_studio_as_text"}),onChange:()=>{G(!L)}})),e.a.createElement(m.a.Group,null,e.a.createElement("h5",null,r.formatMessage({id:"config.ui.scene_player.heading"})),e.a.createElement(m.a.Group,null,e.a.createElement(m.a.Check,{id:"auto-start-video",checked:y,label:r.formatMessage({id:"config.ui.scene_player.options.auto_start_video"}),onChange:()=>{k(!y)}})),e.a.createElement(m.a.Group,{id:"auto-start-video-on-play-selected"},e.a.createElement(m.a.Check,{checked:F,label:r.formatMessage({id:"config.ui.scene_player.options.auto_start_video_on_play_selected.heading"}),onChange:()=>{I(!F)}}),e.a.createElement(m.a.Text,{className:"text-muted"},r.formatMessage({id:"config.ui.scene_player.options.auto_start_video_on_play_selected.description"}))),e.a.createElement(m.a.Group,{id:"continue-playlist-default"},e.a.createElement(m.a.Check,{checked:j,label:r.formatMessage({id:"config.ui.scene_player.options.continue_playlist_default.heading"}),onChange:()=>{R(!j)}}),e.a.createElement(m.a.Text,{className:"text-muted"},r.formatMessage({id:"config.ui.scene_player.options.continue_playlist_default.description"}))),e.a.createElement(m.a.Group,{id:"max-loop-duration"},e.a.createElement("h6",null,r.formatMessage({id:"config.ui.max_loop_duration.heading"})),e.a.createElement(La,{className:"row col col-4",numericValue:D,onValueChange:ie=>M(ie!=null?ie:0)}),e.a.createElement(m.a.Text,{className:"text-muted"},r.formatMessage({id:"config.ui.max_loop_duration.description"})))),e.a.createElement(m.a.Group,{id:"slideshow-delay"},e.a.createElement("h5",null,r.formatMessage({id:"config.ui.slideshow_delay.heading"})),e.a.createElement(m.a.Control,{className:"col col-sm-6 text-input",type:"number",value:P/gg,onChange:ie=>{z(Number.parseInt(ie.currentTarget.value,10)*gg)}}),e.a.createElement(m.a.Text,{className:"text-muted"},r.formatMessage({id:"config.ui.slideshow_delay.description"}))),e.a.createElement(m.a.Group,null,e.a.createElement("h5",null,r.formatMessage({id:"config.ui.editing.heading"})),e.a.createElement(m.a.Group,null,e.a.createElement("h6",null,r.formatMessage({id:"config.ui.editing.disable_dropdown_create.heading"})),e.a.createElement(m.a.Check,{id:"disableDropdownCreate_performer",checked:(t=N.performer)!=null?t:!1,label:r.formatMessage({id:"performer"}),onChange:()=>{C(is(rs({},N),{performer:!N.performer}))}}),e.a.createElement(m.a.Check,{id:"disableDropdownCreate_studio",checked:(a=N.studio)!=null?a:!1,label:r.formatMessage({id:"studio"}),onChange:()=>{C(is(rs({},N),{studio:!N.studio}))}}),e.a.createElement(m.a.Check,{id:"disableDropdownCreate_tag",checked:(n=N.tag)!=null?n:!1,label:r.formatMessage({id:"tag"}),onChange:()=>{C(is(rs({},N),{tag:!N.tag}))}}),e.a.createElement(m.a.Text,{className:"text-muted"},r.formatMessage({id:"config.ui.editing.disable_dropdown_create.description"})))),e.a.createElement(m.a.Group,null,e.a.createElement("h5",null,r.formatMessage({id:"config.ui.custom_css.heading"})),e.a.createElement(m.a.Check,{id:"custom-css",checked:U,label:r.formatMessage({id:"config.ui.custom_css.option_label"}),onChange:()=>{te(!U)}}),e.a.createElement(m.a.Control,{as:"textarea",value:Y,onChange:ie=>V(ie.currentTarget.value),rows:16,className:"col col-sm-6 text-input code"}),e.a.createElement(m.a.Text,{className:"text-muted"},r.formatMessage({id:"config.ui.custom_css.description"}))),e.a.createElement(m.a.Group,null,e.a.createElement("h5",null,r.formatMessage({id:"config.ui.handy_connection_key.heading"})),e.a.createElement(m.a.Control,{className:"col col-sm-6 text-input",value:J,onChange:ie=>{re(ie.currentTarget.value)}}),e.a.createElement(m.a.Text,{className:"text-muted"},r.formatMessage({id:"config.ui.handy_connection_key.description"}))),e.a.createElement(m.a.Group,null,e.a.createElement("h5",null,r.formatMessage({id:"config.ui.funscript_offset.heading"})),e.a.createElement(m.a.Control,{className:"col col-sm-6 text-input",type:"number",value:Z,onChange:ie=>{W(Number.parseInt(ie.currentTarget.value,10))}}),e.a.createElement(m.a.Text,{className:"text-muted"},r.formatMessage({id:"config.ui.funscript_offset.description"}))),e.a.createElement(m.a.Group,null,e.a.createElement("h5",null,r.formatMessage({id:"config.ui.delete_options.heading"})),e.a.createElement(m.a.Check,{id:"delete-file-default",checked:H,label:r.formatMessage({id:"config.ui.delete_options.options.delete_file"}),onChange:()=>{de(!H)}}),e.a.createElement(m.a.Check,{id:"delete-generated-default",checked:A,label:r.formatMessage({id:"config.ui.delete_options.options.delete_generated_supporting_files"}),onChange:()=>{T(!A)}}),e.a.createElement(m.a.Text,{className:"text-muted"},r.formatMessage({id:"config.ui.delete_options.description"}))),e.a.createElement("hr",null),e.a.createElement(q.a,{variant:"primary",onClick:()=>X()},r.formatMessage({id:"actions.save"})))};function DO(t){function a(u){let o=u.toString();return u<=9&&(o=`0${o}`),o}const n=new Date(t.time),r=n.getMonth()+1,s=n.getDate();let l=`${n.getFullYear()}-${a(r)}-${a(s)}`;return l+=` ${a(n.getHours())}:${a(n.getMinutes())}:${a(n.getSeconds())}`,l}function TO(t){return t.toLowerCase().trim()}const FO=({logEntry:t})=>{const a=t.level.padEnd(bs.Progress.length);return e.a.createElement("div",{className:"row"},e.a.createElement("span",{className:"log-time"},t.time),e.a.createElement("span",{className:`${TO(t.level)}`},a),e.a.createElement("span",{className:"col col-sm-9"},t.message))},fg=class{constructor(t){this.time=DO(t),this.level=t.level,this.message=t.message;const a=fg.nextId++;this.id=a.toString()}};let ao=fg;ao.nextId=0;const jO=200,no=["Trace","Debug","Info","Warning","Error"],LO=(t,a)=>[...a.reverse(),...t],AO=()=>{var t;const a=Object(ge.a)(),{data:n,error:r}=ay(),{data:s}=ry(),[l,u]=Object(d.useReducer)(LO,[]),[o,i]=Object(d.useState)("Info");Object(d.useEffect)(()=>{var _;const S=((_=n==null?void 0:n.loggingSubscribe)!=null?_:[]).map(v=>new ao(v));u(S)},[n]);const c=((t=s==null?void 0:s.logs)!=null?t:[]).map(_=>new ao(_)),g=[...l,...c].filter(p).slice(0,jO),f=r?e.a.createElement("div",{className:"error"},"Error connecting to log server: ",r.message):"";function p(_){if(o==="Trace")return!0;const S=no.indexOf(o);return no.indexOf(_.level)>=S}return e.a.createElement(e.a.Fragment,null,e.a.createElement("h4",null,a.formatMessage({id:"config.categories.logs"})),e.a.createElement(m.a.Row,{id:"log-level"},e.a.createElement(m.a.Label,{className:"col-6 col-sm-2"},a.formatMessage({id:"config.logs.log_level"})),e.a.createElement(m.a.Control,{className:"col-6 col-sm-2 input-control",as:"select",defaultValue:o,onChange:_=>i(_.currentTarget.value)},no.map(_=>e.a.createElement("option",{key:_,value:_},_)))),e.a.createElement("div",{className:"logs"},f,g.map(_=>e.a.createElement(FO,{logEntry:_,key:_.id}))))};var RO=(t,a,n)=>new Promise((r,s)=>{var l=i=>{try{o(n.next(i))}catch(c){s(c)}},u=i=>{try{o(n.throw(i))}catch(c){s(c)}},o=i=>i.done?r(i.value):Promise.resolve(i.value).then(l,u);o((n=n.apply(t,a)).next())});const zO=()=>{const t=He(),a=Object(ge.a)(),[n,r]=Object(d.useState)(!0),[s,l]=Object(d.useState)(!0),[u,o]=Object(d.useState)(!0),[i,c]=Object(d.useState)(!0),[g,f]=Object(d.useState)(!1),[p,_]=Object(d.useState)(!1),[S,v]=Object(d.useState)(!1),[x,w]=Object(d.useState)(!1);function D(){return RO(this,null,function*(){try{yield Kc({sprites:n,phashes:s,previews:u,imagePreviews:u&&p,markers:i,markerImagePreviews:i&&S,markerScreenshots:i&&x,transcodes:g}),t.success({content:a.formatMessage({id:"toast.added_generation_job_to_queue"})})}catch(M){t.error(M)}})}return e.a.createElement(e.a.Fragment,null,e.a.createElement(m.a.Group,null,e.a.createElement(m.a.Check,{id:"preview-task",checked:u,label:a.formatMessage({id:"dialogs.scene_gen.video_previews"}),onChange:()=>o(!u)}),e.a.createElement("div",{className:"d-flex flex-row"},e.a.createElement("div",null,"\u21B3"),e.a.createElement(m.a.Check,{id:"image-preview-task",checked:p,disabled:!u,label:a.formatMessage({id:"dialogs.scene_gen.image_previews"}),onChange:()=>_(!p),className:"ml-2 flex-grow"})),e.a.createElement(m.a.Check,{id:"sprite-task",checked:n,label:a.formatMessage({id:"dialogs.scene_gen.sprites"}),onChange:()=>r(!n)}),e.a.createElement(m.a.Check,{id:"marker-task",checked:i,label:a.formatMessage({id:"dialogs.scene_gen.markers"}),onChange:()=>c(!i)}),e.a.createElement("div",{className:"d-flex flex-row"},e.a.createElement("div",null,"\u21B3"),e.a.createElement(m.a.Group,null,e.a.createElement(m.a.Check,{id:"marker-image-preview-task",checked:S,disabled:!i,label:a.formatMessage({id:"dialogs.scene_gen.marker_image_previews"}),onChange:()=>v(!S),className:"ml-2 flex-grow"}),e.a.createElement(m.a.Check,{id:"marker-screenshot-task",checked:x,disabled:!i,label:a.formatMessage({id:"dialogs.scene_gen.marker_screenshots"}),onChange:()=>w(!x),className:"ml-2 flex-grow"}))),e.a.createElement(m.a.Check,{id:"transcode-task",checked:g,label:a.formatMessage({id:"dialogs.scene_gen.transcodes"}),onChange:()=>f(!g)}),e.a.createElement(m.a.Check,{id:"phash-task",checked:s,label:a.formatMessage({id:"dialogs.scene_gen.phash"}),onChange:()=>l(!s)})),e.a.createElement(m.a.Group,null,e.a.createElement(q.a,{id:"generate",variant:"secondary",type:"submit",onClick:()=>D()},e.a.createElement(b.a,{id:"actions.generate"})),e.a.createElement(m.a.Text,{className:"text-muted"},a.formatMessage({id:"config.tasks.generate_desc"}))))};var qO=(t,a,n)=>new Promise((r,s)=>{var l=i=>{try{o(n.next(i))}catch(c){s(c)}},u=i=>{try{o(n.throw(i))}catch(c){s(c)}},o=i=>i.done?r(i.value):Promise.resolve(i.value).then(l,u);o((n=n.apply(t,a)).next())});const $O=t=>{const[a,n]=Object(d.useState)(f(ha.Ignore)),[r,s]=Object(d.useState)(_(va.Fail)),[l,u]=Object(d.useState)(),[o,i]=Object(d.useState)(!1),c=Object(ge.a)(),g=He();function f(w){switch(w){case ha.Fail:return"Fail";case ha.Ignore:return"Ignore";case ha.Overwrite:return"Overwrite"}return"Ignore"}function p(w){switch(w){case"Fail":return ha.Fail;case"Ignore":return ha.Ignore;case"Overwrite":return ha.Overwrite}return ha.Ignore}function _(w){switch(w){case va.Fail:return"Fail";case va.Ignore:return"Ignore";case va.Create:return"Create"}return"Fail"}function S(w){switch(w){case"Fail":return va.Fail;case"Ignore":return va.Ignore;case"Create":return va.Create}return va.Fail}function v(w){w.target.validity.valid&&w.target.files&&w.target.files.length>0&&u(w.target.files[0])}function x(){return qO(this,null,function*(){try{i(!0),yield Sy({duplicateBehaviour:p(a),missingRefBehaviour:S(r),file:l}),i(!1),g.success({content:"Started importing"})}catch(w){g.error(w)}finally{t.onClose()}})}return e.a.createElement(it,{show:!0,icon:"pencil-alt",header:c.formatMessage({id:"actions.import"}),accept:{onClick:()=>{x()},text:c.formatMessage({id:"actions.import"})},cancel:{onClick:()=>t.onClose(),text:c.formatMessage({id:"actions.cancel"}),variant:"secondary"},disabled:!l,isRunning:o},e.a.createElement("div",{className:"dialog-container"},e.a.createElement(m.a,null,e.a.createElement(m.a.Group,{id:"import-file"},e.a.createElement("h6",null,"Import zip file"),e.a.createElement(m.a.File,{onChange:v,accept:".zip"})),e.a.createElement(m.a.Group,{id:"duplicate-handling"},e.a.createElement("h6",null,"Duplicate object handling"),e.a.createElement(m.a.Control,{className:"w-auto input-control",as:"select",value:a,onChange:w=>n(w.currentTarget.value)},Object.values(ha).map(w=>e.a.createElement("option",{key:w},f(w))))),e.a.createElement(m.a.Group,{id:"missing-ref-handling"},e.a.createElement("h6",null,"Missing reference handling"),e.a.createElement(m.a.Control,{className:"w-auto input-control",as:"select",value:r,onChange:w=>s(w.currentTarget.value)},Object.values(va).map(w=>e.a.createElement("option",{key:w},_(w))))))))};var GO=(t,a,n)=>new Promise((r,s)=>{var l=i=>{try{o(n.next(i))}catch(c){s(c)}},u=i=>{try{o(n.throw(i))}catch(c){s(c)}},o=i=>i.done?r(i.value):Promise.resolve(i.value).then(l,u);o((n=n.apply(t,a)).next())});const VO=({job:t})=>{const[a,n]=Object(d.useState)(!1),[r,s]=Object(d.useState)("");Object(d.useEffect)(()=>{setTimeout(()=>s("fade-in"))},[]),Object(d.useEffect)(()=>{(t.status===Ot.Cancelled||t.status===Ot.Finished)&&setTimeout(()=>{s("fade-out")},9800)},[t]);function l(){return GO(this,null,function*(){n(!0),yield sy(t.id)})}function u(){return!a&&(t.status===Ot.Ready||t.status===Ot.Running)}function o(){switch(t.status){case Ot.Ready:return"ready";case Ot.Running:return"running";case Ot.Stopping:return"stopping";case Ot.Finished:return"finished";case Ot.Cancelled:return"cancelled"}}function i(){let f="circle",p="";switch(t.status){case Ot.Ready:f="hourglass-start";break;case Ot.Running:f="cog",p="fa-spin";break;case Ot.Stopping:f="cog",p="fa-spin";break;case Ot.Finished:f="check";break;case Ot.Cancelled:f="ban";break}return e.a.createElement(le,{icon:f,className:`fa-fw ${p}`})}function c(){if(t.status===Ot.Running&&t.progress!==void 0&&t.progress!==null){const f=t.progress*100;return e.a.createElement(Em.a,{animated:!0,now:f,label:`${f.toFixed(0)}%`})}}function g(){var f;if(t.status===Ot.Running||t.status===Ot.Stopping)return e.a.createElement("div",null,((f=t.subTasks)!=null?f:[]).map((p,_)=>e.a.createElement("div",{className:"job-subtask",key:_},p)))}return e.a.createElement("li",{className:`job ${r}`},e.a.createElement("div",null,e.a.createElement(q.a,{className:"minimal stop",size:"sm",onClick:()=>l(),disabled:!u()},e.a.createElement(le,{icon:"times"})),e.a.createElement("div",{className:`job-status ${o()}`},e.a.createElement("div",null,i(),e.a.createElement("span",null,t.description)),e.a.createElement("div",null,c()),g())))},BO=()=>{const t=iy(),a=Uc(),[n,r]=Object(d.useState)([]);return Object(d.useEffect)(()=>{var s,l;r((l=(s=t.data)==null?void 0:s.jobQueue)!=null?l:[])},[t]),Object(d.useEffect)(()=>{if(!a.data)return;const s=a.data.jobsSubscribe;function l(){r(u=>u.map(o=>o.id===s.job.id?s.job:o))}switch(s.type){case Fn.Add:r(u=>u.concat([s.job]));break;case Fn.Remove:l(),setTimeout(()=>{r(u=>u.filter(o=>o.id!==s.job.id))},1e4);break;case Fn.Update:l();break}},[a.data]),e.a.createElement("div",{className:"job-table"},e.a.createElement("ul",null,(n!=null?n:[]).map(s=>e.a.createElement(VO,{job:s,key:s.id}))))};var UO=Object.defineProperty,pg=Object.getOwnPropertySymbols,QO=Object.prototype.hasOwnProperty,HO=Object.prototype.propertyIsEnumerable,_g=(t,a,n)=>a in t?UO(t,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[a]=n,hg=(t,a)=>{for(var n in a||(a={}))QO.call(a,n)&&_g(t,n,a[n]);if(pg)for(var n of pg(a))HO.call(a,n)&&_g(t,n,a[n]);return t},Mn=(t,a,n)=>new Promise((r,s)=>{var l=i=>{try{o(n.next(i))}catch(c){s(c)}},u=i=>{try{o(n.throw(i))}catch(c){s(c)}},o=i=>i.done?r(i.value):Promise.resolve(i.value).then(l,u);o((n=n.apply(t,a)).next())});const WO=()=>{const t=Object(ge.a)(),a=He(),[n,r]=Object(d.useState)({importAlert:!1,cleanAlert:!1,import:!1,clean:!1,scan:!1,autoTag:!1,identify:!1}),[s,l]=Object(d.useState)(!1),[u,o]=Object(d.useState)(!1),[i,c]=Object(d.useState)(!1),[g,f]=Object(d.useState)(!1),[p,_]=Object(d.useState)(!1),[S,v]=Object(d.useState)(!1),[x,w]=Object(d.useState)(!1),[D,M]=Object(d.useState)(!1),[y,k]=Object(d.useState)(!1),[F,I]=Object(d.useState)(!0),[j,R]=Object(d.useState)(!0),[P,z]=Object(d.useState)(!0),L=Lc();function G(ie){r(ae=>hg(hg({},ae),ie))}function Y(){return Mn(this,null,function*(){G({importAlert:!1});try{yield by(),a.success({content:t.formatMessage({id:"config.tasks.added_job_to_queue"},{operation_name:t.formatMessage({id:"actions.import"})})})}catch(ie){a.error(ie)}})}function V(){return e.a.createElement(it,{show:n.importAlert,icon:"trash-alt",accept:{text:t.formatMessage({id:"actions.import"}),variant:"danger",onClick:Y},cancel:{onClick:()=>G({importAlert:!1})}},e.a.createElement("p",null,t.formatMessage({id:"actions.tasks.import_warning"})))}function U(){G({cleanAlert:!1}),_y({dryRun:D})}function te(){let ie;return D?ie=e.a.createElement("p",null,t.formatMessage({id:"actions.tasks.dry_mode_selected"})):ie=e.a.createElement("p",null,t.formatMessage({id:"actions.tasks.clean_confirm_message"})),e.a.createElement(it,{show:n.cleanAlert,icon:"trash-alt",accept:{text:t.formatMessage({id:"actions.clean"}),variant:"danger",onClick:U},cancel:{onClick:()=>G({cleanAlert:!1})}},ie)}function oe(){if(!!n.import)return e.a.createElement($O,{onClose:()=>G({import:!1})})}function Q(){if(!!n.scan)return e.a.createElement(Ul,{onClose:J})}function J(ie){ie&&re(ie),G({scan:!1})}function re(ie){return Mn(this,null,function*(){try{yield pi({paths:ie,useFileMetadata:u,stripFileExtension:i,scanGeneratePreviews:g,scanGenerateImagePreviews:y,scanGenerateSprites:p,scanGeneratePhashes:S,scanGenerateThumbnails:x}),a.success({content:t.formatMessage({id:"config.tasks.added_job_to_queue"},{operation_name:t.formatMessage({id:"actions.scan"})})})}catch(ae){a.error(ae)}})}function Z(){if(!!n.autoTag)return e.a.createElement(Ul,{onClose:H})}function W(){if(!!n.identify)return e.a.createElement(RP,{onClose:()=>G({identify:!1})})}function H(ie){ie&&A(ie),G({autoTag:!1})}function de(ie){const ae=["*"];return{paths:ie,performers:F?ae:[],studios:j?ae:[],tags:P?ae:[]}}function A(ie){return Mn(this,null,function*(){try{yield Er(de(ie)),a.success({content:t.formatMessage({id:"config.tasks.added_job_to_queue"},{operation_name:t.formatMessage({id:"actions.auto_tag"})})})}catch(ae){a.error(ae)}})}function T(ie,ae){return Mn(this,null,function*(){yield py(ie.id,ae.name),a.success({content:t.formatMessage({id:"config.tasks.added_job_to_queue"},{operation_name:ae.name})})})}function N(ie,ae){if(!!ae)return ae.map(se=>e.a.createElement("div",{key:se.name},e.a.createElement(q.a,{onClick:()=>T(ie,se),className:"mt-3",variant:"secondary",size:"sm"},se.name),se.description?e.a.createElement(m.a.Text,{className:"text-muted"},se.description):void 0))}function C(ie){return Mn(this,null,function*(){try{l(!0);const ae=yield wy({download:ie});if(ie&&ae.data&&ae.data.backupDatabase){const se=ae.data.backupDatabase;id(se)}}catch(ae){a.error(ae)}finally{l(!1)}})}function O(){if(!L.data||!L.data.plugins)return;const ie=L.data.plugins.filter(ae=>ae.tasks&&ae.tasks.length>0);return e.a.createElement(e.a.Fragment,null,e.a.createElement("hr",null),e.a.createElement("h5",null,t.formatMessage({id:"config.tasks.plugin_tasks"})),ie.map(ae=>{var se;return e.a.createElement("div",{key:`${ae.id}`,className:"mb-3"},e.a.createElement("h6",null,ae.name),N(ae,(se=ae.tasks)!=null?se:[]),e.a.createElement("hr",null))}))}function $(){return Mn(this,null,function*(){try{yield vy(),a.success({content:t.formatMessage({id:"config.tasks.added_job_to_queue"},{operation_name:t.formatMessage({id:"actions.hash_migration"})})})}catch(ie){a.error(ie)}})}function X(){return Mn(this,null,function*(){try{yield Ey(),a.success({content:t.formatMessage({id:"config.tasks.added_job_to_queue"},{operation_name:t.formatMessage({id:"actions.backup"})})})}catch(ie){a.error(ie)}})}return s?e.a.createElement($e,{message:t.formatMessage({id:"config.tasks.backing_up_database"})}):e.a.createElement(e.a.Fragment,null,V(),te(),oe(),Q(),Z(),W(),e.a.createElement("h4",null,t.formatMessage({id:"config.tasks.job_queue"})),e.a.createElement(BO,null),e.a.createElement("hr",null),e.a.createElement(m.a.Group,null,e.a.createElement("h5",null,t.formatMessage({id:"library"})),e.a.createElement(m.a.Group,null,e.a.createElement("h6",null,t.formatMessage({id:"actions.scan"})),e.a.createElement(m.a.Check,{id:"use-file-metadata",checked:u,label:t.formatMessage({id:"config.tasks.set_name_date_details_from_metadata_if_present"}),onChange:()=>o(!u)}),e.a.createElement(m.a.Check,{id:"strip-file-extension",checked:i,label:t.formatMessage({id:"config.tasks.dont_include_file_extension_as_part_of_the_title"}),onChange:()=>c(!i)}),e.a.createElement(m.a.Check,{id:"scan-generate-previews",checked:g,label:t.formatMessage({id:"config.tasks.generate_video_previews_during_scan"}),onChange:()=>f(!g)}),e.a.createElement("div",{className:"d-flex flex-row"},e.a.createElement("div",null,"\u21B3"),e.a.createElement(m.a.Check,{id:"scan-generate-image-previews",checked:y,disabled:!g,label:t.formatMessage({id:"config.tasks.generate_previews_during_scan"}),onChange:()=>k(!y),className:"ml-2 flex-grow"})),e.a.createElement(m.a.Check,{id:"scan-generate-sprites",checked:p,label:t.formatMessage({id:"config.tasks.generate_sprites_during_scan"}),onChange:()=>_(!p)}),e.a.createElement(m.a.Check,{id:"scan-generate-phashes",checked:S,label:t.formatMessage({id:"config.tasks.generate_phashes_during_scan"}),onChange:()=>v(!S)}),e.a.createElement(m.a.Check,{id:"scan-generate-thumbnails",checked:x,label:t.formatMessage({id:"config.tasks.generate_thumbnails_during_scan"}),onChange:()=>w(!x)})),e.a.createElement(m.a.Group,null,e.a.createElement(q.a,{className:"mr-2",variant:"secondary",type:"submit",onClick:()=>re()},e.a.createElement(b.a,{id:"actions.scan"})),e.a.createElement(q.a,{variant:"secondary",type:"submit",onClick:()=>G({scan:!0})},e.a.createElement(b.a,{id:"actions.selective_scan"})),e.a.createElement(m.a.Text,{className:"text-muted"},t.formatMessage({id:"config.tasks.scan_for_content_desc"}))),e.a.createElement(m.a.Group,null,e.a.createElement("h6",null,e.a.createElement(b.a,{id:"config.tasks.identify.heading"})),e.a.createElement(q.a,{className:"mr-2",variant:"secondary",type:"submit",onClick:()=>G({identify:!0})},e.a.createElement(b.a,{id:"actions.identify"}),"\u2026"),e.a.createElement(m.a.Text,{className:"text-muted"},e.a.createElement(b.a,{id:"config.tasks.identify.description"}))),e.a.createElement(m.a.Group,null,e.a.createElement("h6",null,t.formatMessage({id:"config.tasks.auto_tagging"})),e.a.createElement(m.a.Group,null,e.a.createElement(m.a.Check,{id:"autotag-performers",checked:F,label:t.formatMessage({id:"performers"}),onChange:()=>I(!F)}),e.a.createElement(m.a.Check,{id:"autotag-studios",checked:j,label:t.formatMessage({id:"studios"}),onChange:()=>R(!j)}),e.a.createElement(m.a.Check,{id:"autotag-tags",checked:P,label:t.formatMessage({id:"tags"}),onChange:()=>z(!P)})),e.a.createElement(m.a.Group,null,e.a.createElement(q.a,{variant:"secondary",type:"submit",className:"mr-2",onClick:()=>A()},e.a.createElement(b.a,{id:"actions.auto_tag"})),e.a.createElement(q.a,{variant:"secondary",type:"submit",onClick:()=>G({autoTag:!0})},e.a.createElement(b.a,{id:"actions.selective_auto_tag"})),e.a.createElement(m.a.Text,{className:"text-muted"},t.formatMessage({id:"config.tasks.auto_tag_based_on_filenames"}))))),e.a.createElement("hr",null),e.a.createElement("h5",null,t.formatMessage({id:"config.tasks.generated_content"})),e.a.createElement(zO,null),e.a.createElement("hr",null),e.a.createElement("h5",null,t.formatMessage({id:"config.tasks.maintenance"})),e.a.createElement(m.a.Group,null,e.a.createElement(m.a.Check,{id:"clean-dryrun",checked:D,label:t.formatMessage({id:"config.tasks.only_dry_run"}),onChange:()=>M(!D)})),e.a.createElement(m.a.Group,null,e.a.createElement(q.a,{id:"clean",variant:"danger",onClick:()=>G({cleanAlert:!0})},e.a.createElement(b.a,{id:"actions.clean"})),e.a.createElement(m.a.Text,{className:"text-muted"},t.formatMessage({id:"config.tasks.cleanup_desc"}))),e.a.createElement("hr",null),e.a.createElement("h5",null,t.formatMessage({id:"metadata"})),e.a.createElement(m.a.Group,null,e.a.createElement(q.a,{id:"export",variant:"secondary",type:"submit",onClick:()=>X()},e.a.createElement(b.a,{id:"actions.full_export"})),e.a.createElement(m.a.Text,{className:"text-muted"},t.formatMessage({id:"config.tasks.export_to_json"}))),e.a.createElement(m.a.Group,null,e.a.createElement(q.a,{id:"import",variant:"danger",onClick:()=>G({importAlert:!0})},e.a.createElement(b.a,{id:"actions.full_import"})),e.a.createElement(m.a.Text,{className:"text-muted"},t.formatMessage({id:"config.tasks.import_from_exported_json"}))),e.a.createElement(m.a.Group,null,e.a.createElement(q.a,{id:"partial-import",variant:"danger",onClick:()=>G({import:!0})},e.a.createElement(b.a,{id:"actions.import_from_file"})),e.a.createElement(m.a.Text,{className:"text-muted"},t.formatMessage({id:"config.tasks.incremental_import"}))),e.a.createElement("hr",null),e.a.createElement("h5",null,t.formatMessage({id:"actions.backup"})),e.a.createElement(m.a.Group,null,e.a.createElement(q.a,{id:"backup",variant:"secondary",type:"submit",onClick:()=>C()},e.a.createElement(b.a,{id:"actions.backup"})),e.a.createElement(m.a.Text,{className:"text-muted"},t.formatMessage({id:"config.tasks.backup_database"},{filename_format:e.a.createElement("code",null,"[origFilename].sqlite.[schemaVersion].[YYYYMMDD_HHMMSS]")}))),e.a.createElement(m.a.Group,null,e.a.createElement(q.a,{id:"backupDownload",variant:"secondary",type:"submit",onClick:()=>C(!0)},e.a.createElement(b.a,{id:"actions.download_backup"})),e.a.createElement(m.a.Text,{className:"text-muted"},t.formatMessage({id:"config.tasks.backup_and_download"}))),O(),e.a.createElement("hr",null),e.a.createElement("h5",null,t.formatMessage({id:"config.tasks.migrations"})),e.a.createElement(m.a.Group,null,e.a.createElement(q.a,{id:"migrateHashNaming",variant:"danger",onClick:()=>$()},e.a.createElement(b.a,{id:"actions.rename_gen_files"})),e.a.createElement(m.a.Text,{className:"text-muted"},t.formatMessage({id:"config.tasks.migrate_hash_files"}))))};var KO=(t,a,n)=>new Promise((r,s)=>{var l=i=>{try{o(n.next(i))}catch(c){s(c)}},u=i=>{try{o(n.throw(i))}catch(c){s(c)}},o=i=>i.done?r(i.value):Promise.resolve(i.value).then(l,u);o((n=n.apply(t,a)).next())});const YO=()=>{const t=He(),a=Object(ge.a)(),{data:n,loading:r}=Lc();function s(){return KO(this,null,function*(){yield fy().catch(i=>t.error(i))})}function l(i){if(i)return e.a.createElement(q.a,{className:"minimal"},e.a.createElement("a",{href:Me.sanitiseURL(i),className:"link",target:"_blank",rel:"noopener noreferrer"},e.a.createElement(le,{icon:"link"})))}function u(){var i;const c=((i=n==null?void 0:n.plugins)!=null?i:[]).map(g=>{var f,p;return e.a.createElement("div",{key:g.id},e.a.createElement("h4",null,g.name," ",g.version?`(${g.version})`:void 0," ",l((f=g.url)!=null?f:void 0)),g.description?e.a.createElement("small",{className:"text-muted"},g.description):void 0,o((p=g.hooks)!=null?p:void 0),e.a.createElement("hr",null))});return e.a.createElement("div",null,c)}function o(i){if(!(!i||i.length===0))return e.a.createElement("div",{className:"mt-2"},e.a.createElement("h5",null,e.a.createElement(b.a,{id:"config.plugins.hooks"})),i.map(c=>{var g;return e.a.createElement("div",{key:`${c.name}`,className:"mb-3"},e.a.createElement("h6",null,c.name),e.a.createElement(Pi,{text:a.formatMessage({id:"config.plugins.triggers_on"})},e.a.createElement("ul",null,(g=c.hooks)==null?void 0:g.map(f=>e.a.createElement("li",{key:f},e.a.createElement("code",null,f))))),e.a.createElement("small",{className:"text-muted"},c.description))}))}return r?e.a.createElement($e,null):e.a.createElement(e.a.Fragment,null,e.a.createElement("h3",null,e.a.createElement(b.a,{id:"config.categories.plugins"})),e.a.createElement("hr",null),u(),e.a.createElement(q.a,{onClick:()=>s()},e.a.createElement("span",{className:"fa-icon"},e.a.createElement(le,{icon:"sync-alt"})),e.a.createElement("span",null,e.a.createElement(b.a,{id:"actions.reload_plugins"}))))};var vg=(t,a,n)=>new Promise((r,s)=>{var l=i=>{try{o(n.next(i))}catch(c){s(c)}},u=i=>{try{o(n.throw(i))}catch(c){s(c)}},o=i=>i.done?r(i.value):Promise.resolve(i.value).then(l,u);o((n=n.apply(t,a)).next())});const JO=({urls:t})=>{const a=5,[n,r]=Object(d.useState)(!1);function s(o){const i=new URL(o);return`${i.protocol}//${i.host}`}function l(o){if(o){const i=Me.sanitiseURL(o),c=s(i);return e.a.createElement("a",{href:c,className:"link",target:"_blank",rel:"noopener noreferrer"},i)}}function u(){const o=t.map(i=>e.a.createElement("li",{key:i},l(i)));return o.length>a&&(n||(o.length=a),o.push(e.a.createElement("li",{key:"expand/collapse"},e.a.createElement(q.a,{onClick:()=>r(!n),variant:"link"},n?"less":"more")))),o}return e.a.createElement("ul",null,u())},XO=()=>{const t=He(),a=Object(ge.a)(),{data:n,loading:r}=Tc(),{data:s,loading:l}=ui(),{data:u,loading:o}=Fc(),{data:i,loading:c}=jc(),[g,f]=Object(d.useState)(void 0),[p,_]=Object(d.useState)(void 0),[S,v]=Object(d.useState)(!0),[x,w]=Object(d.useState)([]),{data:D,error:M}=Vn(),[y]=ny({scraperUserAgent:g,scraperCDPPath:p,scraperCertCheck:S,excludeTagPatterns:x});Object(d.useEffect)(()=>{var te,oe;if(!(D==null?void 0:D.configuration)||M)return;const Q=D.configuration;Q.scraping&&(f((te=Q.scraping.scraperUserAgent)!=null?te:void 0),_((oe=Q.scraping.scraperCDPPath)!=null?oe:void 0),v(Q.scraping.scraperCertCheck),w(Q.scraping.excludeTagPatterns))},[D,M]);function k(){return vg(this,null,function*(){yield fi().catch(te=>t.error(te))})}function F(){return vg(this,null,function*(){try{yield y(),t.success({content:a.formatMessage({id:"toast.updated_entity"},{entity:a.formatMessage({id:"configuration"}).toLocaleLowerCase()})})}catch(te){t.error(te)}})}function I(te){const oe=te.filter(Q=>Q!==Rt.Fragment).map(Q=>{switch(Q){case Rt.Name:return a.formatMessage({id:"config.scraping.search_by_name"});default:return Q}});return e.a.createElement("ul",null,oe.map(Q=>e.a.createElement("li",{key:Q},Q)))}function j(te){const oe=te.map(Q=>{switch(Q){case Rt.Fragment:return a.formatMessage({id:"config.scraping.entity_metadata"},{entityType:a.formatMessage({id:"scene"})});default:return Q}});return e.a.createElement("ul",null,oe.map(Q=>e.a.createElement("li",{key:Q},Q)))}function R(te){const oe=te.map(Q=>{switch(Q){case Rt.Fragment:return a.formatMessage({id:"config.scraping.entity_metadata"},{entityType:a.formatMessage({id:"gallery"})});default:return Q}});return e.a.createElement("ul",null,oe.map(Q=>e.a.createElement("li",{key:Q},Q)))}function P(te){const oe=te.map(Q=>{switch(Q){case Rt.Fragment:return a.formatMessage({id:"config.scraping.entity_metadata"},{entityType:a.formatMessage({id:"movie"})});default:return Q}});return e.a.createElement("ul",null,oe.map(Q=>e.a.createElement("li",{key:Q},Q)))}function z(te){return e.a.createElement(JO,{urls:te})}function L(){var te;const oe=((te=s==null?void 0:s.listSceneScrapers)!=null?te:[]).map(Q=>{var J,re,Z,W;return e.a.createElement("tr",{key:Q.id},e.a.createElement("td",null,Q.name),e.a.createElement("td",null,j((re=(J=Q.scene)==null?void 0:J.supported_scrapes)!=null?re:[])),e.a.createElement("td",null,z((W=(Z=Q.scene)==null?void 0:Z.urls)!=null?W:[])))});return U(a.formatMessage({id:"config.scraping.entity_scrapers"},{entityType:a.formatMessage({id:"scene"})}),oe)}function G(){var te;const oe=((te=u==null?void 0:u.listGalleryScrapers)!=null?te:[]).map(Q=>{var J,re,Z,W;return e.a.createElement("tr",{key:Q.id},e.a.createElement("td",null,Q.name),e.a.createElement("td",null,R((re=(J=Q.gallery)==null?void 0:J.supported_scrapes)!=null?re:[])),e.a.createElement("td",null,z((W=(Z=Q.gallery)==null?void 0:Z.urls)!=null?W:[])))});return U(a.formatMessage({id:"config.scraping.entity_scrapers"},{entityType:a.formatMessage({id:"gallery"})}),oe)}function Y(){var te;const oe=((te=n==null?void 0:n.listPerformerScrapers)!=null?te:[]).map(Q=>{var J,re,Z,W;return e.a.createElement("tr",{key:Q.id},e.a.createElement("td",null,Q.name),e.a.createElement("td",null,I((re=(J=Q.performer)==null?void 0:J.supported_scrapes)!=null?re:[])),e.a.createElement("td",null,z((W=(Z=Q.performer)==null?void 0:Z.urls)!=null?W:[])))});return U(a.formatMessage({id:"config.scraping.entity_scrapers"},{entityType:a.formatMessage({id:"performer"})}),oe)}function V(){var te;const oe=((te=i==null?void 0:i.listMovieScrapers)!=null?te:[]).map(Q=>{var J,re,Z,W;return e.a.createElement("tr",{key:Q.id},e.a.createElement("td",null,Q.name),e.a.createElement("td",null,P((re=(J=Q.movie)==null?void 0:J.supported_scrapes)!=null?re:[])),e.a.createElement("td",null,z((W=(Z=Q.movie)==null?void 0:Z.urls)!=null?W:[])))});return U(a.formatMessage({id:"config.scraping.entity_scrapers"},{entityType:a.formatMessage({id:"movie"})}),oe)}function U(te,oe){if(oe.length>0)return e.a.createElement(Pi,{text:te},e.a.createElement("table",{className:"scraper-table"},e.a.createElement("thead",null,e.a.createElement("tr",null,e.a.createElement("th",null,a.formatMessage({id:"name"})),e.a.createElement("th",null,a.formatMessage({id:"config.scraping.supported_types"})),e.a.createElement("th",null,a.formatMessage({id:"config.scraping.supported_urls"})))),e.a.createElement("tbody",null,oe)))}return l||o||r||c?e.a.createElement($e,null):e.a.createElement(e.a.Fragment,null,e.a.createElement(m.a.Group,null,e.a.createElement("h4",null,a.formatMessage({id:"config.general.scraping"})),e.a.createElement(m.a.Group,{id:"scraperUserAgent"},e.a.createElement("h6",null,a.formatMessage({id:"config.general.scraper_user_agent"})),e.a.createElement(m.a.Control,{className:"col col-sm-6 text-input",defaultValue:g,onChange:te=>f(te.currentTarget.value)}),e.a.createElement(m.a.Text,{className:"text-muted"},a.formatMessage({id:"config.general.scraper_user_agent_desc"}))),e.a.createElement(m.a.Group,{id:"scraperCDPPath"},e.a.createElement("h6",null,a.formatMessage({id:"config.general.chrome_cdp_path"})),e.a.createElement(m.a.Control,{className:"col col-sm-6 text-input",defaultValue:p,onChange:te=>_(te.currentTarget.value)}),e.a.createElement(m.a.Text,{className:"text-muted"},a.formatMessage({id:"config.general.chrome_cdp_path_desc"}))),e.a.createElement(m.a.Group,null,e.a.createElement(m.a.Check,{id:"scaper-cert-check",checked:S,label:a.formatMessage({id:"config.general.check_for_insecure_certificates"}),onChange:()=>v(!S)}),e.a.createElement(m.a.Text,{className:"text-muted"},a.formatMessage({id:"config.general.check_for_insecure_certificates_desc"})))),e.a.createElement(m.a.Group,null,e.a.createElement("h6",null,a.formatMessage({id:"config.scraping.excluded_tag_patterns_head"})),e.a.createElement(tn,{className:"w-50",value:x,setValue:w,defaultNewValue:"4K"}),e.a.createElement(m.a.Text,{className:"text-muted"},a.formatMessage({id:"config.scraping.excluded_tag_patterns_desc"}))),e.a.createElement("hr",null),e.a.createElement("h4",null,a.formatMessage({id:"config.scraping.scrapers"})),e.a.createElement("div",{className:"mb-3"},e.a.createElement(q.a,{onClick:()=>k()},e.a.createElement("span",{className:"fa-icon"},e.a.createElement(le,{icon:"sync-alt"})),e.a.createElement("span",null,e.a.createElement(b.a,{id:"actions.reload_scrapers"})))),e.a.createElement("div",null,L(),G(),Y(),V()),e.a.createElement("hr",null),e.a.createElement(q.a,{variant:"primary",onClick:()=>F()},e.a.createElement(b.a,{id:"actions.save"})))},ZO=()=>e.a.createElement(e.a.Fragment,null,e.a.createElement("h4",null,e.a.createElement(b.a,{id:"config.tools.scene_tools"})),e.a.createElement(m.a.Group,null,e.a.createElement(Le.Link,{to:"/sceneFilenameParser"},e.a.createElement(b.a,{id:"config.tools.scene_filename_parser.title"}))),e.a.createElement(m.a.Group,null,e.a.createElement(Le.Link,{to:"/sceneDuplicateChecker"},e.a.createElement(b.a,{id:"config.tools.scene_duplicate_checker"}))));var Dr=(t,a,n)=>new Promise((r,s)=>{var l=i=>{try{o(n.next(i))}catch(c){s(c)}},u=i=>{try{o(n.throw(i))}catch(c){s(c)}},o=i=>i.done?r(i.value):Promise.resolve(i.value).then(l,u);o((n=n.apply(t,a)).next())});const eN=()=>{var t,a,n,r;const s=Object(ge.a)(),l=He(),[u,o]=Object(d.useState)(void 0),[i,c]=Object(d.useState)(!1),[g,f]=Object(d.useState)(void 0),[p,_]=Object(d.useState)(""),[S,v]=Object(d.useState)(),{data:x,refetch:w}=Vn(),{data:D,loading:M,refetch:y}=ly(),[k]=JE(),[F]=XE(),[I]=ZE(),[j]=ey(),[R]=ty();if(M)return e.a.createElement($e,null);const P=Ee.e({serverName:Ee.f(),enabled:Ee.b().required(),whitelistedIPs:Ee.a(Ee.f().required()).required(),interfaces:Ee.a(Ee.f().required()).required()}),z={serverName:(t=x==null?void 0:x.configuration.dlna.serverName)!=null?t:"",enabled:(a=x==null?void 0:x.configuration.dlna.enabled)!=null?a:!1,whitelistedIPs:(n=x==null?void 0:x.configuration.dlna.whitelistedIPs)!=null?n:[],interfaces:(r=x==null?void 0:x.configuration.dlna.interfaces)!=null?r:[]};function L(T){return Dr(this,null,function*(){try{yield k({variables:{input:T}}),w(),l.success({content:s.formatMessage({id:"toast.updated_entity"},{entity:s.formatMessage({id:"configuration"}).toLocaleLowerCase()})})}catch(N){l.error(N)}finally{y()}})}function G(){return Dr(this,null,function*(){const T={variables:{input:{duration:i?void 0:g}}};try{u?(yield F(T),l.success({content:"Enabled DLNA temporarily"})):(yield I(T),l.success({content:"Disabled DLNA temporarily"}))}catch(N){l.error(N)}finally{o(void 0),y()}})}function Y(){return Dr(this,null,function*(){if(!S)return;const T={variables:{input:{duration:i?void 0:g,address:S}}};try{yield j(T),l.success({content:"Allowed IP temporarily"})}catch(N){l.error(N)}finally{v(void 0),y()}})}function V(T){return Dr(this,null,function*(){const N={variables:{input:{address:T}}};try{yield R(N),l.success({content:"Disallowed IP"})}catch(C){l.error(C)}finally{y()}})}function U(T){return T?`until ${new Date(T).toLocaleString()}`:""}function te(){if(!D)return"";const{dlnaStatus:T}=D;return`${s.formatMessage({id:T.running?"actions.running":"actions.not_running"})} ${U(T.until)}`}function oe(){if(!!(x==null?void 0:x.configuration.dlna))return(x==null?void 0:x.configuration.dlna.enabled)?e.a.createElement(q.a,{onClick:()=>o(!1),className:"mr-1"},e.a.createElement(b.a,{id:"actions.temp_disable"})):e.a.createElement(q.a,{onClick:()=>o(!0),className:"mr-1"},e.a.createElement(b.a,{id:"actions.temp_enable"}))}function Q(){if(!D||!x)return!1;const{dlnaStatus:T}=D,{enabled:N}=x.configuration.dlna;return T.until||T.running!==N}function J(){return Dr(this,null,function*(){if(!Q())return;const T=D==null?void 0:D.dlnaStatus.running,N={variables:{input:{}}};try{T?yield I(N):yield F(N),l.success({content:"Successfully cancelled temporary behaviour"})}catch(C){l.error(C)}finally{o(void 0),y()}})}function re(){if(!!Q())return e.a.createElement(q.a,{onClick:()=>J(),variant:"danger"},"Cancel temporary behaviour")}function Z(){const T=u?"enable":"disable",N=`${T[0].toUpperCase()}${T.slice(1)}`;return e.a.createElement(it,{show:u!==void 0,header:N,icon:"clock",accept:{text:N,variant:"primary",onClick:G},cancel:{onClick:()=>o(void 0),variant:"secondary"}},e.a.createElement("h4",null,N," temporarily"),e.a.createElement(m.a.Group,null,e.a.createElement(m.a.Check,{checked:i,label:s.formatMessage({id:"config.dlna.until_restart"}),onChange:()=>c(!i)})),e.a.createElement(m.a.Group,{id:"temp-enable-duration"},e.a.createElement(La,{numericValue:g!=null?g:0,onValueChange:C=>f(C!=null?C:0),disabled:i}),e.a.createElement(m.a.Text,{className:"text-muted"},"Duration to ",T," for - in minutes.")))}function W(){return e.a.createElement(it,{show:S!==void 0,header:s.formatMessage({id:"config.dlna.allow_temp_ip"},{tempIP:S}),icon:"clock",accept:{text:s.formatMessage({id:"actions.allow"}),variant:"primary",onClick:Y},cancel:{onClick:()=>v(void 0),variant:"secondary"}},e.a.createElement("h4",null,`Allow ${S} temporarily`),e.a.createElement(m.a.Group,null,e.a.createElement(m.a.Check,{checked:i,label:s.formatMessage({id:"config.dlna.until_restart"}),onChange:()=>c(!i)})),e.a.createElement(m.a.Group,{id:"temp-enable-duration"},e.a.createElement(La,{numericValue:g!=null?g:0,onValueChange:T=>f(T!=null?T:0),disabled:i}),e.a.createElement(m.a.Text,{className:"text-muted"},"Duration to allow for - in minutes.")))}function H(){if(!D||D.dlnaStatus.allowedIPAddresses.length===0)return;const{allowedIPAddresses:T}=D.dlnaStatus;return e.a.createElement(m.a.Group,null,e.a.createElement("h6",null,s.formatMessage({id:"config.dlna.allowed_ip_addresses"})),e.a.createElement("ul",{className:"addresses"},T.map(N=>e.a.createElement("li",{key:N.ipAddress},e.a.createElement("div",{className:"address"},e.a.createElement("code",null,N.ipAddress),e.a.createElement("br",null),e.a.createElement("span",{className:"deadline"},U(N.until))),e.a.createElement("div",{className:"buttons"},e.a.createElement(q.a,{size:"sm",title:s.formatMessage({id:"actions.disallow"}),variant:"danger",onClick:()=>V(N.ipAddress)},e.a.createElement(le,{icon:"times"})))))))}function de(){if(!D)return;const{recentIPAddresses:T}=D.dlnaStatus;return e.a.createElement("ul",{className:"addresses"},T.map(N=>e.a.createElement("li",{key:N},e.a.createElement("div",{className:"address"},e.a.createElement("code",null,N)),e.a.createElement("div",null,e.a.createElement(q.a,{size:"sm",title:s.formatMessage({id:"actions.allow_temporarily"}),onClick:()=>v(N)},e.a.createElement(le,{icon:"user-clock"}))))),e.a.createElement("li",null,e.a.createElement("div",{className:"address"},e.a.createElement(m.a.Control,{className:"text-input",value:p,onChange:N=>_(N.currentTarget.value)})),e.a.createElement("div",{className:"buttons"},e.a.createElement(q.a,{size:"sm",title:s.formatMessage({id:"actions.allow_temporarily"}),onClick:()=>v(p),disabled:!p},e.a.createElement(le,{icon:"user-clock"})))))}const A=()=>{const{handleSubmit:T,values:N,setFieldValue:C,dirty:O}=Object(Wt.e)();return e.a.createElement(m.a,{noValidate:!0,onSubmit:T},e.a.createElement(ke.b,{when:O,message:s.formatMessage({id:"dialogs.unsaved_changes"})}),e.a.createElement(m.a.Group,null,e.a.createElement("h5",null,s.formatMessage({id:"settings"})),e.a.createElement(m.a.Group,null,e.a.createElement(m.a.Label,null,s.formatMessage({id:"config.dlna.server_display_name"})),e.a.createElement(m.a.Control,{className:"text-input server-name",value:N.serverName,onChange:$=>C("serverName",$.currentTarget.value)}),e.a.createElement(m.a.Text,{className:"text-muted"},s.formatMessage({id:"config.dlna.server_display_name_desc"},{server_name:e.a.createElement("code",null,"stash")}))),e.a.createElement(m.a.Group,null,e.a.createElement(m.a.Check,{id:"dlna-enabled-by-default",checked:N.enabled,label:s.formatMessage({id:"config.dlna.enabled_by_default"}),onChange:()=>C("enabled",!N.enabled)})),e.a.createElement(m.a.Group,null,e.a.createElement("h6",null,s.formatMessage({id:"config.dlna.network_interfaces"})),e.a.createElement(tn,{value:N.interfaces,setValue:$=>C("interfaces",$),defaultNewValue:"",className:"interfaces-input"}),e.a.createElement(m.a.Text,{className:"text-muted"},s.formatMessage({id:"config.dlna.network_interfaces_desc"}))),e.a.createElement(m.a.Group,null,e.a.createElement("h6",null,s.formatMessage({id:"config.dlna.default_ip_whitelist"})),e.a.createElement(tn,{value:N.whitelistedIPs,setValue:$=>C("whitelistedIPs",$),defaultNewValue:"*",className:"ip-whitelist-input"}),e.a.createElement(m.a.Text,{className:"text-muted"},s.formatMessage({id:"config.dlna.default_ip_whitelist_desc"},{wildcard:e.a.createElement("code",null,"*")})))),e.a.createElement("hr",null),e.a.createElement(q.a,{variant:"primary",type:"submit",disabled:!O},e.a.createElement(b.a,{id:"actions.save"})))};return e.a.createElement("div",{id:"settings-dlna"},Z(),W(),e.a.createElement("h4",null,"DLNA"),e.a.createElement(m.a.Group,null,e.a.createElement("h5",null,s.formatMessage({id:"status"},{statusText:te()}))),e.a.createElement(m.a.Group,null,e.a.createElement("h5",null,s.formatMessage({id:"actions_name"})),e.a.createElement(m.a.Group,null,oe(),re()),H(),e.a.createElement(m.a.Group,null,e.a.createElement("h6",null,s.formatMessage({id:"config.dlna.recent_ip_addresses"})),e.a.createElement(m.a.Group,null,de()),e.a.createElement(m.a.Group,null,e.a.createElement(q.a,{onClick:()=>y()},e.a.createElement(b.a,{id:"actions.refresh"}))))),e.a.createElement("hr",null),e.a.createElement(Wt.c,{initialValues:z,validationSchema:P,onSubmit:T=>L(T),enableReinitialize:!0},e.a.createElement(A,null)))},tN=()=>{var t;const a=Object(ge.a)(),n=Object(ke.l)(),r=Object(ke.k)(),s=(t=Qt.a.parse(n.search).tab)!=null?t:"tasks",l=o=>r.push(`?tab=${o}`),u=`${a.formatMessage({id:"settings"})} ${Pa}`;return e.a.createElement(It.a,{className:"col col-lg-9 mx-auto"},e.a.createElement(Tt.a,{defaultTitle:u,titleTemplate:`%s | ${u}`}),e.a.createElement(qe.a.Container,{activeKey:s,id:"configuration-tabs",onSelect:o=>o&&l(o)},e.a.createElement(xe.a,null,e.a.createElement(Se.a,{sm:3,md:2},e.a.createElement(De.a,{variant:"pills",className:"flex-column"},e.a.createElement(De.a.Item,null,e.a.createElement(De.a.Link,{eventKey:"configuration"},e.a.createElement(b.a,{id:"configuration"}))),e.a.createElement(De.a.Item,null,e.a.createElement(De.a.Link,{eventKey:"interface"},e.a.createElement(b.a,{id:"config.categories.interface"}))),e.a.createElement(De.a.Item,null,e.a.createElement(De.a.Link,{eventKey:"tasks"},e.a.createElement(b.a,{id:"config.categories.tasks"}))),e.a.createElement(De.a.Item,null,e.a.createElement(De.a.Link,{eventKey:"dlna"},"DLNA")),e.a.createElement(De.a.Item,null,e.a.createElement(De.a.Link,{eventKey:"tools"},e.a.createElement(b.a,{id:"config.categories.tools"}))),e.a.createElement(De.a.Item,null,e.a.createElement(De.a.Link,{eventKey:"scraping"},e.a.createElement(b.a,{id:"config.categories.scraping"}))),e.a.createElement(De.a.Item,null,e.a.createElement(De.a.Link,{eventKey:"plugins"},e.a.createElement(b.a,{id:"config.categories.plugins"}))),e.a.createElement(De.a.Item,null,e.a.createElement(De.a.Link,{eventKey:"logs"},e.a.createElement(b.a,{id:"config.categories.logs"}))),e.a.createElement(De.a.Item,null,e.a.createElement(De.a.Link,{eventKey:"about"},e.a.createElement(b.a,{id:"config.categories.about"}))),e.a.createElement("hr",{className:"d-sm-none"}))),e.a.createElement(Se.a,{sm:9,md:10},e.a.createElement(qe.a.Content,null,e.a.createElement(qe.a.Pane,{eventKey:"configuration"},e.a.createElement(wO,null)),e.a.createElement(qe.a.Pane,{eventKey:"interface"},e.a.createElement(IO,null)),e.a.createElement(qe.a.Pane,{eventKey:"tasks"},e.a.createElement(WO,null)),e.a.createElement(qe.a.Pane,{eventKey:"dlna",unmountOnExit:!0},e.a.createElement(eN,null)),e.a.createElement(qe.a.Pane,{eventKey:"tools",unmountOnExit:!0},e.a.createElement(ZO,null)),e.a.createElement(qe.a.Pane,{eventKey:"scraping",unmountOnExit:!0},e.a.createElement(XO,null)),e.a.createElement(qe.a.Pane,{eventKey:"plugins",unmountOnExit:!0},e.a.createElement(YO,null)),e.a.createElement(qe.a.Pane,{eventKey:"logs",unmountOnExit:!0},e.a.createElement(AO,null)),e.a.createElement(qe.a.Pane,{eventKey:"about",unmountOnExit:!0},e.a.createElement(iO,null)))))))};var aN=({version:t,date:a,defaultOpen:n,openState:r,setOpenState:s,children:l})=>{var u;const[o,i]=Object(d.useState)((u=n!=null?n:r[t+a])!=null?u:!1),c=()=>{s(t+a,!o),i(!o)};return e.a.createElement(It.a,{className:"changelog-version"},e.a.createElement(It.a.Header,null,e.a.createElement("h4",{className:"changelog-version-header d-flex align-items-center"},e.a.createElement(q.a,{onClick:c,variant:"link"},e.a.createElement(le,{icon:o?"angle-up":"angle-down",className:"mr-3"}),t," (",a?e.a.createElement(ct.a,{value:a,timeZone:"utc"}):e.a.createElement(b.a,{defaultMessage:"Development Version",id:"developmentVersion"}),")"))),e.a.createElement(It.a.Body,null,e.a.createElement(En.a,{in:o},e.a.createElement("div",{className:"changelog-version-body markdown"},l))))},nN=ne.p+"static/media/v010.be445be2.md",rN=ne.p+"static/media/v011.ce830394.md",iN=ne.p+"static/media/v020.26831b59.md",sN=ne.p+"static/media/v021.1fdb1dc8.md",lN=ne.p+"static/media/v030.31e9b6c9.md",oN=ne.p+"static/media/v040.bbafc0b9.md",cN=ne.p+"static/media/v050.cc1e738f.md",uN=ne.p+"static/media/v060.764754ba.md",dN=ne.p+"static/media/v070.21015980.md",mN=ne.p+"static/media/v080.947720b8.md",gN=ne.p+"static/media/v090.009cfc7f.md",fN=ne.p+"static/media/v0100.eedd3116.md",pN=ne.p+"static/media/v0110.32ce61bb.md",_N=Object.defineProperty,hN=Object.defineProperties,vN=Object.getOwnPropertyDescriptors,Eg=Object.getOwnPropertySymbols,EN=Object.prototype.hasOwnProperty,yN=Object.prototype.propertyIsEnumerable,yg=(t,a,n)=>a in t?_N(t,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[a]=n,bN=(t,a)=>{for(var n in a||(a={}))EN.call(a,n)&&yg(t,n,a[n]);if(Eg)for(var n of Eg(a))yN.call(a,n)&&yg(t,n,a[n]);return t},SN=(t,a)=>hN(t,vN(a)),wN=()=>{var t;const[{data:a,loading:n},r]=Ay(),s="v0.11.0",l="2021-11-15 22:47:45";let u;if(l&&(u=l.substring(0,l.indexOf(" "))),n)return e.a.createElement(e.a.Fragment,null);const o=(t=a==null?void 0:a.versions)!=null?t:{},i=(_,S)=>r({versions:SN(bN({},o),{[_]:S})}),p=[{version:s||"v0.11.0",date:u,page:pN,defaultOpen:!0},{version:"v0.10.0",date:"2021-10-11",page:fN},{version:"v0.9.0",date:"2021-09-06",page:gN},{version:"v0.8.0",date:"2021-07-02",page:mN},{version:"v0.7.0",date:"2021-05-15",page:dN},{version:"v0.6.0",date:"2021-03-29",page:uN},{version:"v0.5.0",date:"2021-02-23",page:cN},{version:"v0.4.0",date:"2020-11-24",page:oN},{version:"v0.3.0",date:"2020-09-02",page:lN},{version:"v0.2.1",date:"2020-06-10",page:sN},{version:"v0.2.0",date:"2020-06-06",page:iN},{version:"v0.1.1",date:"2020-02-25",page:rN},{version:"v0.1.0",date:"2020-02-24",page:nN}];return e.a.createElement(e.a.Fragment,null,e.a.createElement("h1",{className:"mb-4"},"Changelog:"),p.map(_=>e.a.createElement(aN,{key:_.version,version:_.version,date:_.date,openState:o,setOpenState:i,defaultOpen:_.defaultOpen},e.a.createElement(vd,{page:_.page}))))};const kN=()=>{const{data:t,error:a,loading:n}=dE();if(a)return e.a.createElement("span",null,a.message);if(n||!t)return e.a.createElement($e,null);const r=Me.fileSize(t.stats.scenes_size),s=Me.fileSize(t.stats.images_size),l=Me.secondsAsTimeString(t.stats.scenes_duration,3);return e.a.createElement("div",{className:"mt-5"},e.a.createElement("div",{className:"col col-sm-8 m-sm-auto row stats"},e.a.createElement("div",{className:"stats-element"},e.a.createElement("p",{className:"title"},e.a.createElement(ct.b,{value:r.size,maximumFractionDigits:Me.fileSizeFractionalDigits(r.unit)}),` ${Me.formatFileSizeUnit(r.unit)}`),e.a.createElement("p",{className:"heading"},e.a.createElement(b.a,{id:"stats.scenes_size"}))),e.a.createElement("div",{className:"stats-element"},e.a.createElement("p",{className:"title"},e.a.createElement(ct.b,{value:t.stats.scene_count})),e.a.createElement("p",{className:"heading"},e.a.createElement(b.a,{id:"scenes"}))),e.a.createElement("div",{className:"stats-element"},e.a.createElement("p",{className:"title"},e.a.createElement(ct.b,{value:t.stats.movie_count})),e.a.createElement("p",{className:"heading"},e.a.createElement(b.a,{id:"movies"}))),e.a.createElement("div",{className:"stats-element"},e.a.createElement("p",{className:"title"},l||"-"),e.a.createElement("p",{className:"heading"},e.a.createElement(b.a,{id:"stats.scenes_duration"}))),e.a.createElement("div",{className:"stats-element"},e.a.createElement("p",{className:"title"},e.a.createElement(ct.b,{value:t.stats.performer_count})),e.a.createElement("p",{className:"heading"},e.a.createElement(b.a,{id:"performers"})))),e.a.createElement("div",{className:"col col-sm-8 m-sm-auto row stats"},e.a.createElement("div",{className:"stats-element"},e.a.createElement("p",{className:"title"},e.a.createElement(ct.b,{value:s.size,maximumFractionDigits:Me.fileSizeFractionalDigits(s.unit)}),` ${Me.formatFileSizeUnit(s.unit)}`),e.a.createElement("p",{className:"heading"},e.a.createElement(b.a,{id:"stats.image_size"}))),e.a.createElement("div",{className:"stats-element"},e.a.createElement("p",{className:"title"},e.a.createElement(ct.b,{value:t.stats.gallery_count})),e.a.createElement("p",{className:"heading"},e.a.createElement(b.a,{id:"galleries"}))),e.a.createElement("div",{className:"stats-element"},e.a.createElement("p",{className:"title"},e.a.createElement(ct.b,{value:t.stats.image_count})),e.a.createElement("p",{className:"heading"},e.a.createElement(b.a,{id:"images"}))),e.a.createElement("div",{className:"stats-element"},e.a.createElement("p",{className:"title"},e.a.createElement(ct.b,{value:t.stats.studio_count})),e.a.createElement("p",{className:"heading"},e.a.createElement(b.a,{id:"studios"}))),e.a.createElement("div",{className:"stats-element"},e.a.createElement("p",{className:"title"},e.a.createElement(ct.b,{value:t.stats.tag_count})),e.a.createElement("p",{className:"heading"},e.a.createElement(b.a,{id:"tags"})))),e.a.createElement("div",{className:"changelog col col-sm-8 mx-sm-auto"},e.a.createElement(wN,null)))},tr=t=>{var a;const n=Object(ge.a)(),[r,s]=Object(d.useState)(!1);function l(){if(!t.isNew)return e.a.createElement(q.a,{variant:"primary",className:"edit",onClick:()=>t.onToggleEdit()},t.isEditing?n.formatMessage({id:"actions.cancel"}):n.formatMessage({id:"actions.edit"}))}function u(){if(!!t.isEditing)return e.a.createElement(q.a,{variant:"success",className:"save",disabled:t.saveDisabled,onClick:()=>t.onSave()},e.a.createElement(b.a,{id:"actions.save"}))}function o(){if(!(t.isNew||t.isEditing))return e.a.createElement(q.a,{variant:"danger",className:"delete",onClick:()=>s(!0)},e.a.createElement(b.a,{id:"actions.delete"}))}function i(){if(!(!t.isEditing||!t.onBackImageChange))return e.a.createElement(Ki,{isEditing:t.isEditing,text:n.formatMessage({id:"actions.set_back_image"}),onImageChange:t.onBackImageChange,onImageURL:t.onBackImageChangeURL})}function c(){if(!(t.isNew||t.isEditing)&&t.onAutoTag)return e.a.createElement(q.a,{variant:"secondary",onClick:()=>{t.onAutoTag&&t.onAutoTag()}},e.a.createElement(b.a,{id:"actions.auto_tag"}))}function g(){return e.a.createElement(mt.a,{show:r},e.a.createElement(mt.a.Body,null,e.a.createElement(b.a,{id:"dialogs.delete_confirm",values:{entityName:t.objectName}})),e.a.createElement(mt.a.Footer,null,e.a.createElement(q.a,{variant:"danger",onClick:t.onDelete},e.a.createElement(b.a,{id:"actions.delete"})),e.a.createElement(q.a,{variant:"secondary",onClick:()=>s(!1)},e.a.createElement(b.a,{id:"actions.cancel"}))))}return e.a.createElement("div",{className:"details-edit"},l(),e.a.createElement(Ki,{isEditing:t.isEditing,text:t.onBackImageChange?n.formatMessage({id:"actions.set_front_image"}):void 0,onImageChange:t.onImageChange,onImageURL:t.onImageChangeURL,acceptSVG:(a=t.acceptSVG)!=null?a:!1}),t.isEditing&&t.onClearImage?e.a.createElement(q.a,{className:"mr-2",variant:"danger",onClick:()=>t.onClearImage()},t.onClearBackImage?n.formatMessage({id:"actions.clear_front_image"}):n.formatMessage({id:"actions.clear_image"})):"",i(),t.isEditing&&t.onClearBackImage?e.a.createElement(q.a,{className:"mr-2",variant:"danger",onClick:()=>t.onClearBackImage()},n.formatMessage({id:"actions.clear_back_image"})):"",c(),t.customButtons,u(),o(),g())},Tr=t=>a=>{const n={id:t.id,label:t.name};let r=a.criteria.find(s=>s.criterionOption.type==="studios");return r&&(r.modifier===ue.IncludesAll||r.modifier===ue.Includes)?(r.value.items=r.value.items.filter(s=>s.id===t.id),r.value.items.length===0&&r.value.items.push(n)):(r=new pn,r.value={items:[n],depth:0},a.criteria.push(r)),a},xN=({studio:t})=>e.a.createElement(Nr,{filterHook:Tr(t)}),PN=({studio:t})=>e.a.createElement(Ai,{filterHook:Tr(t)}),CN=({studio:t})=>e.a.createElement(Xn,{filterHook:Tr(t)});function MN(t,a){if(!a&&t.parent_studio)return e.a.createElement("div",null,e.a.createElement(b.a,{id:"part_of",values:{parent:e.a.createElement(Le.Link,{to:`/studios/${t.parent_studio.id}`},t.parent_studio.name)}}))}function ON(t){if(t.child_studios.length>0)return e.a.createElement("div",null,e.a.createElement(b.a,{id:"parent_of",values:{children:e.a.createElement(Le.Link,{to:rt.makeChildStudiosUrl(t)},t.child_studios.length," studios")}}))}const NN=({studio:t,hideParent:a,selecting:n,selected:r,onSelectedChanged:s})=>{var l;function u(){if(!!t.scene_count)return e.a.createElement(pa,{className:"scene-count",type:"scene",count:t.scene_count,url:rt.makeStudioScenesUrl(t)})}function o(){if(!!t.image_count)return e.a.createElement(pa,{className:"image-count",type:"image",count:t.image_count,url:rt.makeStudioImagesUrl(t)})}function i(){if(!!t.gallery_count)return e.a.createElement(pa,{className:"gallery-count",type:"gallery",count:t.gallery_count,url:rt.makeStudioGalleriesUrl(t)})}function c(){if(!!t.movie_count)return e.a.createElement(pa,{className:"movie-count",type:"movie",count:t.movie_count,url:rt.makeStudioMoviesUrl(t)})}function g(){if(t.scene_count||t.image_count||t.gallery_count||t.movie_count)return e.a.createElement(e.a.Fragment,null,e.a.createElement("hr",null),e.a.createElement(yt.a,{className:"card-popovers"},u(),c(),o(),i()))}return e.a.createElement(bn,{className:"studio-card",url:`/studios/${t.id}`,title:t.name,linkClassName:"studio-card-header",image:e.a.createElement("img",{className:"studio-card-image",alt:t.name,src:(l=t.image_path)!=null?l:""}),details:e.a.createElement(e.a.Fragment,null,MN(t,a),ON(t),e.a.createElement(Pr,{rating:t.rating}),g()),selected:r,selecting:n,onSelectedChanged:s})};var ro=(t,a,n)=>new Promise((r,s)=>{var l=i=>{try{o(n.next(i))}catch(c){s(c)}},u=i=>{try{o(n.throw(i))}catch(c){s(c)}},o=i=>i.done?r(i.value):Promise.resolve(i.value).then(l,u);o((n=n.apply(t,a)).next())});const bg=({fromParent:t,filterHook:a})=>{const n=Object(ge.a)(),r=Object(ke.k)(),[s,l]=Object(d.useState)(!1),[u,o]=Object(d.useState)(!1),i=[{text:n.formatMessage({id:"actions.view_random"}),onClick:g},{text:n.formatMessage({id:"actions.export"}),onClick:f,isDisplayed:fa},{text:n.formatMessage({id:"actions.export_all"}),onClick:p}],c=(D,M)=>(B.a.bind("p r",()=>{g(D,M)}),()=>{B.a.unbind("p r")});function g(D,M){return ro(this,null,function*(){if(D.data&&D.data.findStudios){const{count:y}=D.data.findStudios,k=Math.floor(Math.random()*y),F=Re.a.cloneDeep(M);F.itemsPerPage=1,F.currentPage=k+1;const I=yield $v(F);if(I&&I.data&&I.data.findStudios&&I.data.findStudios.studios.length===1){const{id:j}=I.data.findStudios.studios[0];r.push(`/studios/${j}`)}}})}function f(){return ro(this,null,function*(){o(!1),l(!0)})}function p(){return ro(this,null,function*(){o(!0),l(!0)})}function _(D){if(s)return e.a.createElement(e.a.Fragment,null,e.a.createElement(Sn,{exportInput:{studios:{ids:Array.from(D.values()),all:u}},onClose:()=>{l(!1)}}))}const S=(D,M)=>e.a.createElement(Wi,{selected:D,onClose:M,singularEntity:n.formatMessage({id:"studio"}),pluralEntity:n.formatMessage({id:"studios"}),destroyMutation:AE}),v=VS({renderContent:w,filterHook:a,addKeybinds:c,otherOperations:i,selectable:!0,persistState:t?ca.NONE:ca.ALL,renderDeleteDialog:S});function x(D,M,y){var k;if(!!((k=D.data)==null?void 0:k.findStudios)){if(M.displayMode===Ge.Grid)return e.a.createElement("div",{className:"row px-xl-5 justify-content-center"},D.data.findStudios.studios.map(F=>e.a.createElement(NN,{key:F.id,studio:F,hideParent:t,selecting:y.size>0,selected:y.has(F.id),onSelectedChanged:(I,j)=>v.onSelectChange(F.id,I,j)})));if(M.displayMode===Ge.List||M.displayMode===Ge.Wall)return e.a.createElement("h1",null,"TODO")}}function w(D,M,y){return e.a.createElement(e.a.Fragment,null,_(y),x(D,M,y))}return v.template},IN=({studio:t})=>{function a(n){const r={id:t.id,label:t.name};let s=n.criteria.find(l=>l.criterionOption.type==="parent_studios");return s&&(s.modifier===ue.IncludesAll||s.modifier===ue.Includes)?(s.value.find(l=>l.id===t.id)||s.value.push(r),s.modifier=ue.IncludesAll):(s=new pl,s.value=[r],n.criteria.push(s)),n}return e.a.createElement(bg,{fromParent:!0,filterHook:a})},DN=({studio:t})=>{const a=new pn;a.value={items:[{id:t.id,label:t.name||`Studio ${t.id}`}],depth:0};const n={scenes:[a],images:[a],galleries:[a],movies:[a]};return e.a.createElement(Yl,{filterHook:Tr(t),extraCriteria:n})};var TN=Object.defineProperty,FN=Object.defineProperties,jN=Object.getOwnPropertyDescriptors,Sg=Object.getOwnPropertySymbols,LN=Object.prototype.hasOwnProperty,AN=Object.prototype.propertyIsEnumerable,wg=(t,a,n)=>a in t?TN(t,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[a]=n,ss=(t,a)=>{for(var n in a||(a={}))LN.call(a,n)&&wg(t,n,a[n]);if(Sg)for(var n of Sg(a))AN.call(a,n)&&wg(t,n,a[n]);return t},ls=(t,a)=>FN(t,jN(a));const kg=({studio:t,onSubmit:a,onCancel:n,onDelete:r,onImageChange:s,onImageEncoding:l})=>{var u,o,i,c,g,f,p,_,S;const v=Object(ge.a)(),x=!t||!t.id,w=na.usePasteImage(F,!0),D=Ee.e({name:Ee.f().required(),url:Ee.f().optional().nullable(),details:Ee.f().optional().nullable(),image:Ee.f().optional().nullable(),rating:Ee.d().optional().nullable(),parent_id:Ee.f().optional().nullable(),stash_ids:Ee.c().optional().nullable(),aliases:Ee.a(Ee.f().required()).optional().test({name:"unique",test:L=>(L!=null?L:[]).length===new Set(L).size,message:"aliases must be unique"})}),M={name:(u=t.name)!=null?u:"",url:(o=t.url)!=null?o:"",details:(i=t.details)!=null?i:"",image:void 0,rating:(c=t.rating)!=null?c:null,parent_id:(g=t.parent_studio)==null?void 0:g.id,stash_ids:(f=t.stash_ids)!=null?f:void 0,aliases:t.aliases},y=Object(Wt.d)({initialValues:M,validationSchema:D,onSubmit:L=>a(I(L))});function k(L){y.setFieldValue("rating",L)}function F(L){y.setFieldValue("image",L)}function I(L){const G=ls(ss({},L),{stash_ids:Wl(L.stash_ids)});return t&&t.id&&(G.id=t.id),G}Object(d.useEffect)(()=>(B.a.bind("s s",()=>y.handleSubmit()),B.a.bind("r",()=>{document.activeElement instanceof HTMLElement&&document.activeElement.blur(),B.a.bind("0",()=>k(NaN)),B.a.bind("1",()=>k(1)),B.a.bind("2",()=>k(2)),B.a.bind("3",()=>k(3)),B.a.bind("4",()=>k(4)),B.a.bind("5",()=>k(5)),setTimeout(()=>{B.a.unbind("0"),B.a.unbind("1"),B.a.unbind("2"),B.a.unbind("3"),B.a.unbind("4"),B.a.unbind("5")},1e3)}),()=>{B.a.unbind("s s"),B.a.unbind("e")})),Object(d.useEffect)(()=>(s&&s(y.values.image),()=>s==null?void 0:s()),[y.values.image,s]),Object(d.useEffect)(()=>l==null?void 0:l(w),[l,w]);function j(L){na.onImageChange(L,F)}function R(L){y.setFieldValue("image",L)}const P=L=>{var G;y.setFieldValue("stash_ids",((G=y.values.stash_ids)!=null?G:[]).filter(Y=>!(Y.endpoint===L.endpoint&&Y.stash_id===L.stash_id)))};function z(){var L;if(!!((L=y.values.stash_ids)==null?void 0:L.length))return e.a.createElement(xe.a,null,e.a.createElement(m.a.Label,{column:!0},"StashIDs"),e.a.createElement(Se.a,{xs:9},e.a.createElement("ul",{className:"pl-0"},y.values.stash_ids.map(G=>{var Y;const V=(Y=G.endpoint.match(/https?:\/\/.*?\//))==null?void 0:Y[0],U=V?e.a.createElement("a",{href:`${V}studios/${G.stash_id}`,target:"_blank",rel:"noopener noreferrer"},G.stash_id):G.stash_id;return e.a.createElement("li",{key:G.stash_id,className:"row no-gutters"},e.a.createElement(q.a,{variant:"danger",className:"mr-2 py-0",title:v.formatMessage({id:"actions.delete_entity"},{entityType:v.formatMessage({id:"stash_id"})}),onClick:()=>P(G)},e.a.createElement(le,{icon:"trash-alt"})),U)}))))}return e.a.createElement(e.a.Fragment,null,e.a.createElement(ke.b,{when:y.dirty,message:(L,G)=>G==="PUSH"&&L.pathname.startsWith("/studios/")?!0:v.formatMessage({id:"dialogs.unsaved_changes"})}),e.a.createElement(m.a,{noValidate:!0,onSubmit:y.handleSubmit,id:"studio-edit"},e.a.createElement(m.a.Group,{controlId:"name",as:xe.a},tt.renderLabel({title:v.formatMessage({id:"name"})}),e.a.createElement(Se.a,{xs:9},e.a.createElement(m.a.Control,ls(ss({className:"text-input"},y.getFieldProps("name")),{isInvalid:!!y.errors.name})),e.a.createElement(m.a.Control.Feedback,{type:"invalid"},y.errors.name))),e.a.createElement(m.a.Group,{controlId:"url",as:xe.a},tt.renderLabel({title:v.formatMessage({id:"url"})}),e.a.createElement(Se.a,{xs:9},e.a.createElement(m.a.Control,ls(ss({className:"text-input"},y.getFieldProps("url")),{isInvalid:!!y.errors.url})),e.a.createElement(m.a.Control.Feedback,{type:"invalid"},y.errors.url))),e.a.createElement(m.a.Group,{controlId:"details",as:xe.a},tt.renderLabel({title:v.formatMessage({id:"details"})}),e.a.createElement(Se.a,{xs:9},e.a.createElement(m.a.Control,ls(ss({as:"textarea",className:"text-input"},y.getFieldProps("details")),{isInvalid:!!y.errors.details})),e.a.createElement(m.a.Control.Feedback,{type:"invalid"},y.errors.details))),e.a.createElement(m.a.Group,{controlId:"parent_studio",as:xe.a},tt.renderLabel({title:v.formatMessage({id:"parent_studios"})}),e.a.createElement(Se.a,{xs:9},e.a.createElement(Ht,{onSelect:L=>{var G;return y.setFieldValue("parent_id",L.length>0?(G=L[0])==null?void 0:G.id:null)},ids:y.values.parent_id?[y.values.parent_id]:[],excludeIds:t.id?[t.id]:[]}))),e.a.createElement(m.a.Group,{controlId:"rating",as:xe.a},tt.renderLabel({title:v.formatMessage({id:"rating"})}),e.a.createElement(Se.a,{xs:9},e.a.createElement(Kt,{value:(p=y.values.rating)!=null?p:void 0,onSetRating:L=>y.setFieldValue("rating",L!=null?L:null)}))),z(),e.a.createElement(m.a.Group,{controlId:"aliases",as:xe.a},e.a.createElement(m.a.Label,{column:!0,xs:3},e.a.createElement(b.a,{id:"aliases"})),e.a.createElement(Se.a,{xs:9},e.a.createElement(tn,{value:(_=y.values.aliases)!=null?_:[],setValue:L=>y.setFieldValue("aliases",L),errors:y.errors.aliases})))),e.a.createElement(tr,{objectName:(S=t==null?void 0:t.name)!=null?S:"studio",isNew:x,isEditing:!0,onToggleEdit:n,onSave:()=>y.handleSubmit(),saveDisabled:!y.dirty,onImageChange:j,onImageChangeURL:R,onClearImage:()=>{y.setFieldValue("image",null)},onDelete:r,acceptSVG:!0}))},RN=({studio:t})=>{var a,n,r;const s=Object(ge.a)();function l(){if(!!t.rating)return e.a.createElement(e.a.Fragment,null,e.a.createElement("dt",null,s.formatMessage({id:"rating"})),e.a.createElement("dd",null,e.a.createElement(Kt,{value:t.rating,disabled:!0})))}function u(){var o;if(!!((o=t.aliases)==null?void 0:o.length))return e.a.createElement(e.a.Fragment,null,e.a.createElement("dt",null,e.a.createElement(b.a,{id:"aliases"})),e.a.createElement("dd",null,t.aliases.map(i=>e.a.createElement(Zt.a,{className:"tag-item",variant:"secondary",key:i},i))))}return e.a.createElement("div",{className:"studio-details"},e.a.createElement("div",null,e.a.createElement("h2",null,t.name)),e.a.createElement("dl",{className:"details-list"},e.a.createElement(aa,{id:"url",value:t.url,url:Me.sanitiseURL((a=t.url)!=null?a:"")}),e.a.createElement(st,{id:"details",value:t.details}),e.a.createElement(aa,{id:"parent_studios",value:(n=t.parent_studio)==null?void 0:n.name,url:`/studios/${(r=t.parent_studio)==null?void 0:r.id}`,trusted:!0,target:"_self"}),l(),u()))},zN=({studio:t})=>e.a.createElement(Hl,{filterHook:Tr(t)});var io=(t,a,n)=>new Promise((r,s)=>{var l=i=>{try{o(n.next(i))}catch(c){s(c)}},u=i=>{try{o(n.throw(i))}catch(c){s(c)}},o=i=>i.done?r(i.value):Promise.resolve(i.value).then(l,u);o((n=n.apply(t,a)).next())});const qN=({studio:t})=>{var a,n;const r=Object(ke.k)(),s=He(),l=Object(ge.a)(),{tab:u="details"}=Object(ke.m)(),[o,i]=Object(d.useState)(!1),[c,g]=Object(d.useState)(!1),[f,p]=Object(d.useState)(),[_]=qc(),[S]=LE({id:t.id});Object(d.useEffect)(()=>(B.a.bind("e",()=>i(!0)),B.a.bind("d d",()=>M()),()=>{B.a.unbind("e"),B.a.unbind("d d")}));function v(R){p(R)}const x=na.usePasteImage(v,o);function w(R){return io(this,null,function*(){var P;try{((P=(yield _({variables:{input:R}})).data)==null?void 0:P.studioUpdate)&&i(!1)}catch(z){s.error(z)}})}function D(){return io(this,null,function*(){if(!!t.id)try{yield Er({studios:[t.id]}),s.success({content:l.formatMessage({id:"toast.started_auto_tagging"})})}catch(R){s.error(R)}})}function M(){return io(this,null,function*(){try{yield S()}catch(R){s.error(R)}r.push("/studios")})}function y(){var R;return e.a.createElement(it,{show:c,icon:"trash-alt",accept:{text:l.formatMessage({id:"actions.delete"}),variant:"danger",onClick:M},cancel:{onClick:()=>g(!1)}},e.a.createElement("p",null,e.a.createElement(b.a,{id:"dialogs.delete_confirm",values:{entityName:(R=t.name)!=null?R:l.formatMessage({id:"studio"}).toLocaleLowerCase()}})))}function k(){i(!o)}function F(){let R=t.image_path;if(o&&(f===null?R=`${R}&default=true`:f&&(R=f)),R)return e.a.createElement("img",{className:"logo",alt:t.name,src:R})}const I=u==="childstudios"||u==="images"||u==="galleries"||u==="performers"||u==="movies"?u:"scenes",j=R=>{if(u!==R){const P=R==="scenes"?"":`/${R}`;r.replace(`/studios/${t.id}${P}`)}};return e.a.createElement("div",{className:"row"},e.a.createElement("div",{className:"studio-details col-md-4"},e.a.createElement("div",{className:"text-center"},x?e.a.createElement($e,{message:"Encoding image..."}):F()),o?e.a.createElement(kg,{studio:t,onSubmit:w,onCancel:k,onDelete:M,onImageChange:p}):e.a.createElement(e.a.Fragment,null,e.a.createElement(Tt.a,null,e.a.createElement("title",null,(a=t.name)!=null?a:l.formatMessage({id:"studio"}))),e.a.createElement(RN,{studio:t}),e.a.createElement(tr,{objectName:(n=t.name)!=null?n:l.formatMessage({id:"studio"}),isNew:!1,isEditing:o,onToggleEdit:k,onSave:()=>{},onImageChange:()=>{},onClearImage:()=>{},onAutoTag:D,onDelete:M}))),e.a.createElement("div",{className:"col col-md-8"},e.a.createElement(Fl.a,{id:"studio-tabs",mountOnEnter:!0,unmountOnExit:!0,activeKey:I,onSelect:j},e.a.createElement(qe.a,{eventKey:"scenes",title:l.formatMessage({id:"scenes"})},e.a.createElement(xN,{studio:t})),e.a.createElement(qe.a,{eventKey:"galleries",title:l.formatMessage({id:"galleries"})},e.a.createElement(PN,{studio:t})),e.a.createElement(qe.a,{eventKey:"images",title:l.formatMessage({id:"images"})},e.a.createElement(CN,{studio:t})),e.a.createElement(qe.a,{eventKey:"performers",title:l.formatMessage({id:"performers"})},e.a.createElement(DN,{studio:t})),e.a.createElement(qe.a,{eventKey:"movies",title:l.formatMessage({id:"movies"})},e.a.createElement(zN,{studio:t})),e.a.createElement(qe.a,{eventKey:"childstudios",title:l.formatMessage({id:"subsidiary_studios"})},e.a.createElement(IN,{studio:t})))),y())};var $N=()=>{const{id:t}=Object(ke.m)(),{data:a,loading:n,error:r}=Zv(t!=null?t:"");return n?e.a.createElement($e,null):r?e.a.createElement($t,{error:r.message}):(a==null?void 0:a.findStudio)?e.a.createElement(qN,{studio:a.findStudio}):e.a.createElement($t,{error:`No studio found with id ${t}.`})},GN=(t,a,n)=>new Promise((r,s)=>{var l=i=>{try{o(n.next(i))}catch(c){s(c)}},u=i=>{try{o(n.throw(i))}catch(c){s(c)}},o=i=>i.done?r(i.value):Promise.resolve(i.value).then(l,u);o((n=n.apply(t,a)).next())}),VN=()=>{const t=Object(ke.k)(),a=He(),n=Object(ge.a)(),[r,s]=Object(d.useState)(),[l]=Un();function u(g){s(g)}const o=na.usePasteImage(u,!0);function i(g){return GN(this,null,function*(){var f,p;try{const _=yield l({variables:{input:g}});((p=(f=_.data)==null?void 0:f.studioCreate)==null?void 0:p.id)&&t.push(`/studios/${_.data.studioCreate.id}`)}catch(_){a.error(_)}})}function c(){if(r)return e.a.createElement("img",{className:"logo",alt:"",src:r})}return e.a.createElement("div",{className:"row"},e.a.createElement("div",{className:"studio-details col-md-8"},e.a.createElement("h2",null,n.formatMessage({id:"actions.add_entity"},{entityType:n.formatMessage({id:"studio"})})),e.a.createElement("div",{className:"text-center"},o?e.a.createElement($e,{message:"Encoding image..."}):c()),e.a.createElement(kg,{studio:{},onSubmit:i,onImageChange:s,onCancel:()=>t.push("/studios"),onDelete:()=>{}})))},BN=()=>{const a=`${Object(ge.a)().formatMessage({id:"studios"})} ${Pa}`;return e.a.createElement(e.a.Fragment,null,e.a.createElement(Tt.a,{defaultTitle:a,titleTemplate:`%s | ${a}`}),e.a.createElement(ke.g,null,e.a.createElement(ke.d,{exact:!0,path:"/studios",component:bg}),e.a.createElement(ke.d,{exact:!0,path:"/studios/new",component:VN}),e.a.createElement(ke.d,{path:"/studios/:id/:tab?",component:$N})))};const Je=class{constructor(t,a){this.field=t,this.helperText=a}getFieldPattern(){return`{${this.field}}`}};let ht=Je;ht.Title=new Je("title"),ht.Ext=new Je("ext","File extension"),ht.Rating=new Je("rating"),ht.I=new Je("i","Matches any ignored word"),ht.D=new Je("d","Matches any delimiter (.-_)"),ht.Performer=new Je("performer"),ht.Studio=new Je("studio"),ht.Tag=new Je("tag"),ht.Date=new Je("date","YYYY-MM-DD"),ht.YYYY=new Je("yyyy","Year"),ht.YY=new Je("yy","Year (20YY)"),ht.MM=new Je("mm","Two digit month"),ht.MMM=new Je("mmm","Three letter month (eg Jan)"),ht.DD=new Je("dd","Two digit date"),ht.YYYYMMDD=new Je("yyyymmdd"),ht.YYMMDD=new Je("yymmdd"),ht.DDMMYYYY=new Je("ddmmyyyy"),ht.DDMMYY=new Je("ddmmyy"),ht.MMDDYYYY=new Je("mmddyyyy"),ht.MMDDYY=new Je("mmddyy"),ht.validFields=[Je.Title,Je.Ext,Je.D,Je.I,Je.Rating,Je.Performer,Je.Studio,Je.Tag,Je.Date,Je.YYYY,Je.YY,Je.MM,Je.MMM,Je.DD,Je.YYYYMMDD,Je.YYMMDD,Je.DDMMYYYY,Je.DDMMYY,Je.MMDDYYYY,Je.MMDDYY],ht.fullDateFields=[Je.YYYYMMDD,Je.YYMMDD,Je.DDMMYYYY,Je.DDMMYY,Je.MMDDYYYY,Je.MMDDYY];const UN=t=>{const a=Object(ge.a)(),[n,r]=Object(d.useState)(!1);function s(u){const o=new Map(t.fields);o.set(u,!t.fields.get(u)),t.onShowFieldsChanged(o)}const l=[...t.fields.entries()].map(([u,o])=>e.a.createElement(q.a,{className:"minimal d-block",key:u,onClick:()=>{s(u)}},e.a.createElement(le,{icon:o?"check":"times"}),e.a.createElement("span",null,u)));return e.a.createElement("div",null,e.a.createElement(q.a,{onClick:()=>r(!n),className:"minimal"},e.a.createElement(le,{icon:n?"chevron-down":"chevron-right"}),e.a.createElement("span",null,a.formatMessage({id:"config.tools.scene_filename_parser.display_fields"}))),e.a.createElement(En.a,{in:n},e.a.createElement("div",null,l)))},QN=[{pattern:"{title}",ignoreWords:[],whitespaceCharacters:"",capitalizeTitle:!1,description:"Filename"},{pattern:"{title}.{ext}",ignoreWords:[],whitespaceCharacters:"",capitalizeTitle:!1,description:"Without extension"},{pattern:"{}.{yy}.{mm}.{dd}.{title}.XXX.{}.{ext}",ignoreWords:[],whitespaceCharacters:".",capitalizeTitle:!0,description:""},{pattern:"{}.{yy}.{mm}.{dd}.{title}.{ext}",ignoreWords:[],whitespaceCharacters:".",capitalizeTitle:!0,description:""},{pattern:"{title}.XXX.{}.{ext}",ignoreWords:[],whitespaceCharacters:".",capitalizeTitle:!0,description:""},{pattern:"{}.{yy}.{mm}.{dd}.{title}.{i}.{ext}",ignoreWords:["cz","fr"],whitespaceCharacters:".",capitalizeTitle:!0,description:"Foreign language"}],HN=t=>{const a=Object(ge.a)(),[n,r]=Object(d.useState)(t.input.pattern),[s,l]=Object(d.useState)(t.input.ignoreWords.join(" ")),[u,o]=Object(d.useState)(t.input.whitespaceCharacters),[i,c]=Object(d.useState)(t.input.capitalizeTitle),[g,f]=Object(d.useState)(t.input.ignoreOrganized);function p(){t.onFind({pattern:n,ignoreWords:s.split(" "),whitespaceCharacters:u,capitalizeTitle:i,page:1,pageSize:t.input.pageSize,findClicked:t.input.findClicked,ignoreOrganized:g})}function _(w){r(w.pattern),l(w.ignoreWords.join(" ")),o(w.whitespaceCharacters),c(w.capitalizeTitle)}const S=[new ht("","Wildcard")].concat(ht.validFields);function v(w){r(n+w.getFieldPattern())}const x=["20","40","60","120","250","500","1000"];return e.a.createElement(m.a.Group,null,e.a.createElement(m.a.Group,{className:"row"},e.a.createElement(m.a.Label,{htmlFor:"filename-pattern",className:"col-2"},a.formatMessage({id:"config.tools.scene_filename_parser.filename_pattern"})),e.a.createElement(Ze.a,{className:"col-8"},e.a.createElement(m.a.Control,{className:"text-input",id:"filename-pattern",onChange:w=>r(w.currentTarget.value),value:n}),e.a.createElement(Ze.a.Append,null,e.a.createElement(wr.a,{id:"parser-field-select",title:a.formatMessage({id:"config.tools.scene_filename_parser.add_field"})},S.map(w=>e.a.createElement(ze.a.Item,{key:w.field,onSelect:()=>v(w)},e.a.createElement("span",{className:"mr-2"},w.field||"{}"),e.a.createElement("span",{className:"ml-auto text-muted"},w.helperText)))))),e.a.createElement(m.a.Text,{className:"text-muted row col-10 offset-2"},a.formatMessage({id:"config.tools.scene_filename_parser.escape_chars"}))),e.a.createElement(m.a.Group,{className:"row",controlId:"ignored-words"},e.a.createElement(m.a.Label,{className:"col-2"},a.formatMessage({id:"config.tools.scene_filename_parser.ignored_words"})),e.a.createElement(Ze.a,{className:"col-8"},e.a.createElement(m.a.Control,{className:"text-input",onChange:w=>l(w.currentTarget.value),value:s})),e.a.createElement(m.a.Text,{className:"text-muted col-10 offset-2"},a.formatMessage({id:"config.tools.scene_filename_parser.matches_with"}))),e.a.createElement("h5",null,a.formatMessage({id:"title"})),e.a.createElement(m.a.Group,{className:"row"},e.a.createElement(m.a.Label,{htmlFor:"whitespace-characters",className:"col-2"},a.formatMessage({id:"config.tools.scene_filename_parser.whitespace_chars"})),e.a.createElement(Ze.a,{className:"col-8"},e.a.createElement(m.a.Control,{className:"text-input",onChange:w=>o(w.currentTarget.value),value:u})),e.a.createElement(m.a.Text,{className:"text-muted col-10 offset-2"},a.formatMessage({id:"config.tools.scene_filename_parser.whitespace_chars_desc"}))),e.a.createElement(m.a.Group,null,e.a.createElement(m.a.Check,{inline:!0,className:"m-0",id:"capitalize-title",checked:i,onChange:()=>c(!i)}),e.a.createElement(m.a.Label,{htmlFor:"capitalize-title"},a.formatMessage({id:"config.tools.scene_filename_parser.capitalize_title"}))),e.a.createElement(m.a.Group,null,e.a.createElement(m.a.Check,{inline:!0,className:"m-0",id:"ignore-organized",checked:g,onChange:()=>f(!g)}),e.a.createElement(m.a.Label,{htmlFor:"ignore-organized"},a.formatMessage({id:"config.tools.scene_filename_parser.ignore_organized"}))),e.a.createElement(m.a.Group,null,e.a.createElement(wr.a,{variant:"secondary",id:"recipe-select",title:a.formatMessage({id:"config.tools.scene_filename_parser.select_parser_recipe"}),drop:"up"},QN.map(w=>e.a.createElement(ze.a.Item,{key:w.pattern,onSelect:()=>_(w)},e.a.createElement("span",null,w.pattern),e.a.createElement("span",{className:"ml-auto text-muted"},w.description))))),e.a.createElement(m.a.Group,null,e.a.createElement(UN,{fields:t.showFields,onShowFieldsChanged:w=>t.setShowFields(w)})),e.a.createElement(m.a.Group,{className:"row"},e.a.createElement(q.a,{variant:"secondary",className:"ml-3 col-1",onClick:p},a.formatMessage({id:"actions.find"})),e.a.createElement(m.a.Control,{as:"select",onChange:w=>t.onPageSizeChanged(parseInt(w.currentTarget.value,10)),defaultValue:t.input.pageSize,className:"col-1 input-control filter-item"},x.map(w=>e.a.createElement("option",{key:w,value:w},w)))))};class ar{constructor(){this.isSet=!1}setOriginalValue(a){this.originalValue=a,this.value=a}setValue(a){a&&(this.value=a,this.isSet=!Re.a.isEqual(this.value,this.originalValue))}}class WN{constructor(a){this.title=new ar,this.date=new ar,this.rating=new ar,this.studio=new ar,this.tags=new ar,this.performers=new ar;var n,r,s,l,u,o,i,c,g,f;this.scene=a.scene,this.id=this.scene.id,this.filename=Me.fileNameFromPath(this.scene.path),this.title.setOriginalValue((n=this.scene.title)!=null?n:void 0),this.date.setOriginalValue((r=this.scene.date)!=null?r:void 0),this.rating.setOriginalValue((s=this.scene.rating)!=null?s:void 0),this.performers.setOriginalValue(this.scene.performers.map(p=>p.id)),this.tags.setOriginalValue(this.scene.tags.map(p=>p.id)),this.studio.setOriginalValue((l=this.scene.studio)==null?void 0:l.id),this.title.setValue((u=a.title)!=null?u:void 0),this.date.setValue((o=a.date)!=null?o:void 0),this.rating.setValue((i=a.rating)!=null?i:void 0),this.performers.setValue((c=a.performer_ids)!=null?c:void 0),this.tags.setValue((g=a.tag_ids)!=null?g:void 0),this.studio.setValue((f=a.studio_id)!=null?f:void 0)}isChanged(){return this.title.isSet||this.date.isSet||this.rating.isSet||this.performers.isSet||this.studio.isSet||this.tags.isSet}toSceneUpdateInput(){return{id:this.id,rating:this.rating.isSet?this.rating.value:void 0,title:this.title.isSet?this.title.value:void 0,date:this.date.isSet?this.date.value:void 0,studio_id:this.studio.isSet?this.studio.value:void 0,performer_ids:this.performers.isSet?this.performers.value:void 0,tag_ids:this.tags.isSet?this.tags.value:void 0}}}function xg(t){function a(r){r!==t.parserResult.value&&t.onValueChanged(r)}const n=t.originalParserResult||t.parserResult;return e.a.createElement(e.a.Fragment,null,e.a.createElement("td",null,e.a.createElement(m.a.Check,{checked:t.parserResult.isSet,onChange:()=>{t.onSetChanged(!t.parserResult.isSet)}})),e.a.createElement("td",null,e.a.createElement(m.a.Group,null,e.a.createElement(m.a.Control,{disabled:!0,className:t.className,defaultValue:n.originalValue||""}),e.a.createElement(m.a.Control,{readOnly:!t.parserResult.isSet,className:t.className,value:t.parserResult.value||"",onChange:r=>a(r.currentTarget.value)}))))}function KN(t){var a;function n(l){l!==t.parserResult.value&&t.onValueChanged(l)}const r=t.originalParserResult||t.parserResult,s=["",1,2,3,4,5];return e.a.createElement(e.a.Fragment,null,e.a.createElement("td",null,e.a.createElement(m.a.Check,{checked:t.parserResult.isSet,onChange:()=>{t.onSetChanged(!t.parserResult.isSet)}})),e.a.createElement("td",null,e.a.createElement(m.a.Group,null,e.a.createElement(m.a.Control,{disabled:!0,className:St()("input-control text-input",t.className),defaultValue:r.originalValue||""}),e.a.createElement(m.a.Control,{as:"select",className:St()("input-control",t.className),disabled:!t.parserResult.isSet,value:(a=t.parserResult.value)==null?void 0:a.toString(),onChange:l=>n(l.currentTarget.value===""?void 0:Number.parseInt(l.currentTarget.value,10))},s.map(l=>e.a.createElement("option",{value:l,key:l},l))))))}function YN(t){var a,n,r;function s(o){o!==t.parserResult.value&&t.onValueChanged(o)}const l=(n=(a=t.originalParserResult)==null?void 0:a.originalValue)!=null?n:[],u=(r=t.parserResult.value)!=null?r:[];return e.a.createElement(e.a.Fragment,null,e.a.createElement("td",null,e.a.createElement(m.a.Check,{checked:t.parserResult.isSet,onChange:()=>{t.onSetChanged(!t.parserResult.isSet)}})),e.a.createElement("td",null,e.a.createElement(m.a.Group,{className:t.className},e.a.createElement(Aa,{isDisabled:!0,isMulti:!0,ids:l,className:"parser-field-performers-select"}),e.a.createElement(Aa,{className:"parser-field-performers-select",isMulti:!0,isDisabled:!t.parserResult.isSet,onSelect:o=>{s(o.map(i=>i.id))},ids:u}))))}function JN(t){var a,n,r;function s(o){o!==t.parserResult.value&&t.onValueChanged(o)}const l=(n=(a=t.originalParserResult)==null?void 0:a.originalValue)!=null?n:[],u=(r=t.parserResult.value)!=null?r:[];return e.a.createElement(e.a.Fragment,null,e.a.createElement("td",null,e.a.createElement(m.a.Check,{checked:t.parserResult.isSet,onChange:()=>{t.onSetChanged(!t.parserResult.isSet)}})),e.a.createElement("td",null,e.a.createElement(m.a.Group,{className:t.className},e.a.createElement(jt,{isDisabled:!0,isMulti:!0,ids:l,className:"parser-field-tags-select"}),e.a.createElement(jt,{className:"parser-field-tags-select",isMulti:!0,isDisabled:!t.parserResult.isSet,onSelect:o=>{s(o.map(i=>i.id))},ids:u}))))}function XN(t){var a,n;function r(u){u!==t.parserResult.value&&t.onValueChanged(u)}const s=((a=t.originalParserResult)==null?void 0:a.originalValue)?[(n=t.originalParserResult)==null?void 0:n.originalValue]:[],l=t.parserResult.value?[t.parserResult.value]:[];return e.a.createElement(e.a.Fragment,null,e.a.createElement("td",null,e.a.createElement(m.a.Check,{checked:t.parserResult.isSet,onChange:()=>{t.onSetChanged(!t.parserResult.isSet)}})),e.a.createElement("td",null,e.a.createElement(m.a.Group,{className:t.className},e.a.createElement(Ht,{isDisabled:!0,ids:s,className:"parser-field-studio-select"}),e.a.createElement(Ht,{className:"parser-field-studio-select",isDisabled:!t.parserResult.isSet,onSelect:u=>{r(u[0].id)},ids:l}))))}const ZN=t=>{function a(i,c,g){const f=Re.a.clone(i);return f.isSet=c,f.value=g,f}function n(i,c){const g=Re.a.clone(t.scene);g.title=a(g.title,i,c),t.onChange(g)}function r(i,c){const g=Re.a.clone(t.scene);g.date=a(g.date,i,c),t.onChange(g)}function s(i,c){const g=Re.a.clone(t.scene);g.rating=a(g.rating,i,c),t.onChange(g)}function l(i,c){const g=Re.a.clone(t.scene);g.performers=a(g.performers,i,c),t.onChange(g)}function u(i,c){const g=Re.a.clone(t.scene);g.tags=a(g.tags,i,c),t.onChange(g)}function o(i,c){const g=Re.a.clone(t.scene);g.studio=a(g.studio,i,c),t.onChange(g)}return e.a.createElement("tr",{className:"scene-parser-row"},e.a.createElement("td",{className:"text-left parser-field-filename"},t.scene.filename),t.showFields.get("Title")&&e.a.createElement(xg,{key:"title",className:"parser-field-title input-control text-input",parserResult:t.scene.title,onSetChanged:i=>{var c;return n(i,(c=t.scene.title.value)!=null?c:"")},onValueChanged:i=>n(t.scene.title.isSet,i)}),t.showFields.get("Date")&&e.a.createElement(xg,{key:"date",className:"parser-field-date input-control text-input",parserResult:t.scene.date,onSetChanged:i=>{var c;return r(i,(c=t.scene.date.value)!=null?c:"")},onValueChanged:i=>r(t.scene.date.isSet,i)}),t.showFields.get("Rating")&&e.a.createElement(KN,{key:"rating",className:"parser-field-rating",parserResult:t.scene.rating,onSetChanged:i=>{var c;return s(i,(c=t.scene.rating.value)!=null?c:void 0)},onValueChanged:i=>s(t.scene.rating.isSet,i)}),t.showFields.get("Performers")&&e.a.createElement(YN,{key:"performers",className:"parser-field-performers",parserResult:t.scene.performers,originalParserResult:t.scene.performers,onSetChanged:i=>{var c;return l(i,(c=t.scene.performers.value)!=null?c:[])},onValueChanged:i=>l(t.scene.performers.isSet,i)}),t.showFields.get("Tags")&&e.a.createElement(JN,{key:"tags",className:"parser-field-tags",parserResult:t.scene.tags,originalParserResult:t.scene.tags,onSetChanged:i=>{var c;return u(i,(c=t.scene.tags.value)!=null?c:[])},onValueChanged:i=>u(t.scene.tags.isSet,i)}),t.showFields.get("Studio")&&e.a.createElement(XN,{key:"studio",className:"parser-field-studio",parserResult:t.scene.studio,originalParserResult:t.scene.studio,onSetChanged:i=>{var c;return o(i,(c=t.scene.studio.value)!=null?c:"")},onValueChanged:i=>o(t.scene.studio.isSet,i)}))};var e0=(t,a,n)=>new Promise((r,s)=>{var l=i=>{try{o(n.next(i))}catch(c){s(c)}},u=i=>{try{o(n.throw(i))}catch(c){s(c)}},o=i=>i.done?r(i.value):Promise.resolve(i.value).then(l,u);o((n=n.apply(t,a)).next())});const t0={pattern:"{title}.{ext}",ignoreWords:[],whitespaceCharacters:"._",capitalizeTitle:!0,page:1,pageSize:20,findClicked:!1,ignoreOrganized:!0},a0=new Map([["Title",!0],["Date",!0],["Rating",!0],["Performers",!0],["Tags",!0],["Studio",!0]]),n0=()=>{const t=Object(ge.a)(),a=He(),[n,r]=Object(d.useState)([]),[s,l]=Object(d.useState)(t0),u=Object(d.useRef)(),o=u.current,[i,c]=Object(d.useState)(!1),[g,f]=Object(d.useState)(!1),[p,_]=Object(d.useState)(!1),[S,v]=Object(d.useState)(!1),[x,w]=Object(d.useState)(!1),[D,M]=Object(d.useState)(!1),[y,k]=Object(d.useState)(a0),[F,I]=Object(d.useState)(0),[j,R]=Object(d.useState)(!1),[P]=yE(te());Object(d.useEffect)(()=>{u.current=s},[s]);const z=Object(d.useCallback)(()=>{const{pattern:N}=s,C=N.includes("{title}"),O=N.includes("{date}")||N.includes("{dd}")||ht.fullDateFields.some(ye=>N.includes(`{${ye.field}}`)),$=N.includes("{rating}"),X=N.includes("{performer}"),ie=N.includes("{tag}"),ae=N.includes("{studio}"),se=new Map([["Title",C],["Date",O],["Rating",$],["Performers",X],["Tags",ie],["Studio",ae]]);k(se)},[s]),L=Object(d.useCallback)(N=>{if(N){const C=N.map(O=>new WN(O)).filter(O=>!!O);r(C),z()}},[z]),G=Object(d.useCallback)(()=>{r([]),R(!0);const N={q:s.pattern,page:s.page,per_page:s.pageSize,sort:"path",direction:Xt.Asc},C={ignoreWords:s.ignoreWords,whitespaceCharacters:s.whitespaceCharacters,capitalizeTitle:s.capitalizeTitle,ignoreOrganized:s.ignoreOrganized};ky(N,C).then(O=>{var $;const X=($=O==null?void 0:O.data)==null?void 0:$.parseSceneFilenames;X&&(L(X.results),I(X.count))}).catch(O=>a.error(O)).finally(()=>R(!1))},[s,L,a]);Object(d.useEffect)(()=>{o!==s&&s.findClicked&&G()},[s,G,o]);function Y(N){const C=Re.a.clone(s);C.page=1,C.pageSize=N,l(C)}function V(N){if(N!==s.page){const C=Re.a.clone(s);C.page=N,l(C)}}function U(N){const C=Re.a.clone(N);C.page=1,C.findClicked=!0,l(C),I(0)}function te(){return n.filter(N=>N.isChanged()).map(N=>N.toSceneUpdateInput())}function oe(){return e0(this,null,function*(){R(!0);try{yield P(),a.success({content:t.formatMessage({id:"toast.updated_entity"},{entity:t.formatMessage({id:"scenes"}).toLocaleLowerCase()})})}catch(N){a.error(N)}R(!1),U(s)})}Object(d.useEffect)(()=>{const N=!n.some(ae=>!ae.title.isSet),C=!n.some(ae=>!ae.date.isSet),O=!n.some(ae=>!ae.rating.isSet),$=!n.some(ae=>!ae.performers.isSet),X=!n.some(ae=>!ae.tags.isSet),ie=!n.some(ae=>!ae.studio.isSet);c(N),f(C),_(O),w($),w(X),M(ie)},[n]);function Q(N){const C=[...n];C.forEach(O=>{O.title.isSet=N}),r(C),c(N)}function J(N){const C=[...n];C.forEach(O=>{O.date.isSet=N}),r(C),f(N)}function re(N){const C=[...n];C.forEach(O=>{O.rating.isSet=N}),r(C),_(N)}function Z(N){const C=[...n];C.forEach(O=>{O.performers.isSet=N}),r(C),v(N)}function W(N){const C=[...n];C.forEach(O=>{O.tags.isSet=N}),r(C),w(N)}function H(N){const C=[...n];C.forEach(O=>{O.studio.isSet=N}),r(C),M(N)}function de(N,C){const O=[...n],$=O.indexOf(N);O[$]=C,r(O)}function A(N,C,O){return y.get(N)?e.a.createElement(e.a.Fragment,null,e.a.createElement("th",{className:"w-15"},e.a.createElement(m.a.Check,{checked:C,onChange:()=>{O(!C)}})),e.a.createElement("th",null,N)):null}function T(){if(n.length!==0)return e.a.createElement(e.a.Fragment,null,e.a.createElement("div",{className:"scene-parser-results"},e.a.createElement(Ra.a,null,e.a.createElement("thead",null,e.a.createElement("tr",{className:"scene-parser-row"},e.a.createElement("th",{className:"parser-field-filename"},t.formatMessage({id:"config.tools.scene_filename_parser.filename"})),A(t.formatMessage({id:"title"}),i,Q),A(t.formatMessage({id:"date"}),g,J),A(t.formatMessage({id:"rating"}),p,re),A(t.formatMessage({id:"performers"}),S,Z),A(t.formatMessage({id:"tags"}),x,W),A(t.formatMessage({id:"studio"}),D,H))),e.a.createElement("tbody",null,n.map(N=>e.a.createElement(ZN,{scene:N,key:N.id,onChange:C=>de(N,C),showFields:y}))))),e.a.createElement(ll,{currentPage:s.page,itemsPerPage:s.pageSize,totalItems:F,metadataByline:[],onChangePage:N=>V(N)}),e.a.createElement(q.a,{variant:"primary",onClick:oe},e.a.createElement(b.a,{id:"actions.apply"})))}return e.a.createElement(It.a,{id:"parser-container",className:"col col-sm-9 mx-auto"},e.a.createElement("h4",null,t.formatMessage({id:"config.tools.scene_filename_parser.title"})),e.a.createElement(HN,{input:s,onFind:N=>U(N),onPageSizeChanged:Y,showFields:y,setShowFields:k}),j&&e.a.createElement($e,null),T())};var r0=Object.defineProperty,i0=Object.defineProperties,s0=Object.getOwnPropertyDescriptors,Pg=Object.getOwnPropertySymbols,l0=Object.prototype.hasOwnProperty,o0=Object.prototype.propertyIsEnumerable,Cg=(t,a,n)=>a in t?r0(t,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[a]=n,os=(t,a)=>{for(var n in a||(a={}))l0.call(a,n)&&Cg(t,n,a[n]);if(Pg)for(var n of Pg(a))o0.call(a,n)&&Cg(t,n,a[n]);return t},Mg=(t,a)=>i0(t,s0(a));const _a="duplicate-checker",c0=()=>{var t;const a=Object(ge.a)(),n=Object(ke.k)(),{page:r,size:s,distance:l}=Qt.a.parse(n.location.search),u=Number.parseInt(Array.isArray(r)?r[0]:r!=null?r:"1",10),o=Number.parseInt(Array.isArray(s)?s[0]:s!=null?s:"20",10),[i,c]=Object(d.useState)(o),g=Number.parseInt(Array.isArray(l)?l[0]:l!=null?l:"0",10),[f,p]=Object(d.useState)(!1),[_,S]=Object(d.useState)(!1),[v,x]=Object(d.useState)(!1),[w,D]=Object(d.useState)({}),{data:M,loading:y,refetch:k}=Uh({fetchPolicy:"no-cache",variables:{distance:g}}),{data:F}=Rs({variables:{filter:{per_page:0},scene_filter:{is_missing:"phash"}}}),[I,j]=Object(d.useState)(null);if(y)return e.a.createElement($e,null);if(!M)return e.a.createElement($t,{error:"Error searching for duplicates."});const R=(t=M==null?void 0:M.findDuplicateScenes)!=null?t:[],P=R.slice((u-1)*o,u*o),z=Object.keys(w).filter(O=>w[O]).length,L=O=>{n.push({search:Qt.a.stringify(os(os({},Qt.a.parse(n.location.search)),O))})};function G(O){S(!1),O&&(j(null),k(),f&&D({}))}const Y=(O,$)=>{D(Mg(os({},w),{[$]:O}))},V=()=>{j(R.flat().filter(O=>w[O.id])),S(!0),p(!0)},U=O=>{j([O]),S(!0),p(!1)};function te(){j(R.flat().filter(O=>w[O.id])),x(!0)}const oe=O=>{const{size:$,unit:X}=Me.fileSize(Number.parseInt(O!=null?O:"0",10));return e.a.createElement(ct.b,{value:$,style:"unit",unit:X,unitDisplay:"narrow",maximumFractionDigits:2})};function Q(){var O;const $=(O=F==null?void 0:F.findScenes.count)!=null?O:0;if($>0)return e.a.createElement("p",{className:"lead"},e.a.createElement(le,{icon:"exclamation-triangle",className:"text-warning"}),"Missing phashes for ",$," scenes. Please run the phash generation task.")}function J(){if(v&&I)return e.a.createElement(zd,{selected:I,onClose:()=>x(!1)})}function re(O){if(O.tags.length<=0)return;const $=O.tags.map(X=>e.a.createElement(xt,{key:X.id,tag:X}));return e.a.createElement(Gt,{placement:"bottom",content:$},e.a.createElement(q.a,{className:"minimal"},e.a.createElement(le,{icon:"tag"}),e.a.createElement("span",null,O.tags.length)))}function Z(O){if(!(O.performers.length<=0))return e.a.createElement(Fi,{performers:O.performers})}function W(O){if(O.movies.length<=0)return;const $=O.movies.map(X=>{var ie,ae;return e.a.createElement("div",{className:"movie-tag-container row",key:"movie"},e.a.createElement(Le.Link,{to:`/movies/${X.movie.id}`,className:"movie-tag col m-auto zoom-2"},e.a.createElement("img",{className:"image-thumbnail",alt:(ie=X.movie.name)!=null?ie:"",src:(ae=X.movie.front_image_path)!=null?ae:""})),e.a.createElement(xt,{key:X.movie.id,movie:X.movie,className:"d-block"}))});return e.a.createElement(Gt,{placement:"bottom",content:$,className:"tag-tooltip"},e.a.createElement(q.a,{className:"minimal"},e.a.createElement(le,{icon:"film"}),e.a.createElement("span",null,O.movies.length)))}function H(O){if(O.scene_markers.length<=0)return;const $=O.scene_markers.map(X=>{const ie=Mg(os({},X),{scene:{id:O.id}});return e.a.createElement(xt,{key:X.id,marker:ie})});return e.a.createElement(Gt,{placement:"bottom",content:$},e.a.createElement(q.a,{className:"minimal"},e.a.createElement(le,{icon:"map-marker-alt"}),e.a.createElement("span",null,O.scene_markers.length)))}function de(O){if(O.o_counter)return e.a.createElement("div",null,e.a.createElement(q.a,{className:"minimal"},e.a.createElement("span",{className:"fa-icon"},e.a.createElement(Ti,null)),e.a.createElement("span",null,O.o_counter)))}function A(O){if(O.galleries.length<=0)return;const $=O.galleries.map(X=>e.a.createElement(xt,{key:X.id,gallery:X}));return e.a.createElement(Gt,{placement:"bottom",content:$},e.a.createElement(q.a,{className:"minimal"},e.a.createElement(le,{icon:"images"}),e.a.createElement("span",null,O.galleries.length)))}function T(O){if(O.organized)return e.a.createElement("div",null,e.a.createElement(q.a,{className:"minimal"},e.a.createElement(le,{icon:"box"})))}function N(O){if(O.tags.length>0||O.performers.length>0||O.movies.length>0||O.scene_markers.length>0||(O==null?void 0:O.o_counter)||O.galleries.length>0||O.organized)return e.a.createElement(e.a.Fragment,null,e.a.createElement(yt.a,{className:"flex-wrap"},re(O),Z(O),W(O),H(O),de(O),A(O),T(O)))}function C(){return e.a.createElement("div",{className:"d-flex mt-2 mb-2"},e.a.createElement("h6",{className:"mr-auto align-self-center"},e.a.createElement(b.a,{id:"dupe_check.found_sets",values:{setCount:R.length}})),z>0&&e.a.createElement(yt.a,null,e.a.createElement(Ca.a,{overlay:e.a.createElement(Ma.a,{id:"edit"},a.formatMessage({id:"actions.edit"}))},e.a.createElement(q.a,{variant:"secondary",onClick:te},e.a.createElement(le,{icon:"pencil-alt"}))),e.a.createElement(Ca.a,{overlay:e.a.createElement(Ma.a,{id:"delete"},a.formatMessage({id:"actions.delete"}))},e.a.createElement(q.a,{variant:"danger",onClick:V},e.a.createElement(le,{icon:"trash"})))),e.a.createElement(ll,{itemsPerPage:o,currentPage:u,totalItems:R.length,metadataByline:[],onChangePage:O=>L({page:O===1?void 0:O})}),e.a.createElement(m.a.Control,{as:"select",className:"w-auto ml-2 btn-secondary",defaultValue:o,value:i,onChange:O=>{c(parseInt(O.currentTarget.value,10)),L({size:O.currentTarget.value==="20"?void 0:O.currentTarget.value})}},e.a.createElement("option",{value:10},"10"),e.a.createElement("option",{value:20},"20"),e.a.createElement("option",{value:40},"40"),e.a.createElement("option",{value:60},"60"),e.a.createElement("option",{value:80},"80")))}return e.a.createElement(It.a,{id:"scene-duplicate-checker",className:"col col-xl-10 mx-auto"},e.a.createElement("div",{className:_a},_&&I&&e.a.createElement(Bl,{selected:I,onClose:G}),J(),e.a.createElement("h4",null,e.a.createElement(b.a,{id:"dupe_check.title"})),e.a.createElement(m.a.Group,null,e.a.createElement(xe.a,{noGutters:!0},e.a.createElement(m.a.Label,null,e.a.createElement(b.a,{id:"dupe_check.search_accuracy_label"})),e.a.createElement(Se.a,{xs:2},e.a.createElement(m.a.Control,{as:"select",onChange:O=>L({distance:O.currentTarget.value==="0"?void 0:O.currentTarget.value,page:void 0}),defaultValue:l!=null?l:0,className:"input-control ml-4"},e.a.createElement("option",{value:0},a.formatMessage({id:"dupe_check.options.exact"})),e.a.createElement("option",{value:4},a.formatMessage({id:"dupe_check.options.high"})),e.a.createElement("option",{value:8},a.formatMessage({id:"dupe_check.options.medium"})),e.a.createElement("option",{value:10},a.formatMessage({id:"dupe_check.options.low"}))))),e.a.createElement(m.a.Text,null,e.a.createElement(b.a,{id:"dupe_check.description"}))),Q(),C(),e.a.createElement(Ra.a,{responsive:!0,striped:!0,className:`${_a}-table`},e.a.createElement("colgroup",null,e.a.createElement("col",{className:`${_a}-checkbox`}),e.a.createElement("col",{className:`${_a}-sprite`}),e.a.createElement("col",{className:`${_a}-title`}),e.a.createElement("col",{className:`${_a}-details`}),e.a.createElement("col",{className:`${_a}-duration`}),e.a.createElement("col",{className:`${_a}-filesize`}),e.a.createElement("col",{className:`${_a}-resolution`}),e.a.createElement("col",{className:`${_a}-bitrate`}),e.a.createElement("col",{className:`${_a}-codec`}),e.a.createElement("col",{className:`${_a}-operations`})),e.a.createElement("thead",null,e.a.createElement("tr",null,e.a.createElement("th",null," "),e.a.createElement("th",null," "),e.a.createElement("th",null,a.formatMessage({id:"details"})),e.a.createElement("th",null," "),e.a.createElement("th",null,a.formatMessage({id:"duration"})),e.a.createElement("th",null,a.formatMessage({id:"filesize"})),e.a.createElement("th",null,a.formatMessage({id:"resolution"})),e.a.createElement("th",null,a.formatMessage({id:"bitrate"})),e.a.createElement("th",null,a.formatMessage({id:"media_info.video_codec"})),e.a.createElement("th",null,a.formatMessage({id:"actions.delete"})))),e.a.createElement("tbody",null,P.map((O,$)=>O.map((X,ie)=>{var ae,se,ye,Pe;return e.a.createElement(e.a.Fragment,null,ie===0&&$!==0?e.a.createElement("tr",{className:"separator"}):void 0,e.a.createElement("tr",{className:ie===0?"duplicate-group":"",key:X.id},e.a.createElement("td",null,e.a.createElement(m.a.Check,{onChange:Fe=>Y(Fe.currentTarget.checked,X.id)})),e.a.createElement("td",null,e.a.createElement(Gt,{content:e.a.createElement("img",{src:(ae=X.paths.sprite)!=null?ae:"",alt:"",width:600}),placement:"right"},e.a.createElement("img",{src:(se=X.paths.sprite)!=null?se:"",alt:"",width:100}))),e.a.createElement("td",{className:"text-left"},e.a.createElement("p",null,e.a.createElement(Le.Link,{to:`/scenes/${X.id}`},(ye=X.title)!=null?ye:Me.fileNameFromPath(X.path))),e.a.createElement("p",{className:"scene-path"},X.path)),e.a.createElement("td",{className:"scene-details"},N(X)),e.a.createElement("td",null,X.file.duration&&Me.secondsToTimestamp(X.file.duration)),e.a.createElement("td",null,oe(X.file.size)),e.a.createElement("td",null,`${X.file.width}x${X.file.height}`),e.a.createElement("td",null,e.a.createElement(ct.b,{value:((Pe=X.file.bitrate)!=null?Pe:0)/1e6,maximumFractionDigits:2}),"\xA0mbps"),e.a.createElement("td",null,X.file.video_codec),e.a.createElement("td",null,e.a.createElement(q.a,{className:"edit-button",variant:"danger",onClick:()=>U(X)},e.a.createElement(b.a,{id:"actions.delete"})))))})))),R.length===0&&e.a.createElement("h4",{className:"text-center mt-4"},"No duplicates found."),C()))},u0=({movie:t})=>{function a(n){const r={id:t.id,label:t.name};let s=n.criteria.find(l=>l.criterionOption.type==="movies");return s&&(s.modifier===ue.IncludesAll||s.modifier===ue.Includes)?(s.value.find(l=>l.id===t.id)||s.value.push(r),s.modifier=ue.IncludesAll):(s=new Ou,s.value=[r],n.criteria.push(s)),n}return t&&t.id?e.a.createElement(Nr,{filterHook:a,defaultSort:"movie_scene_number"}):e.a.createElement(e.a.Fragment,null)},d0=({movie:t})=>{var a,n,r;const s=Object(ge.a)();function l(){if(t.aliases)return e.a.createElement("div",null,e.a.createElement("span",{className:"alias-head"},s.formatMessage({id:"also_known_as"})," "),e.a.createElement("span",{className:"alias"},t.aliases))}function u(){if(!!t.rating)return e.a.createElement(e.a.Fragment,null,e.a.createElement("dt",null,s.formatMessage({id:"rating"})),e.a.createElement("dd",null,e.a.createElement(Kt,{value:t.rating,disabled:!0})))}return e.a.createElement("div",{className:"movie-details"},e.a.createElement("div",null,e.a.createElement("h2",null,t.name)),l(),e.a.createElement("dl",{className:"details-list"},e.a.createElement(st,{id:"duration",value:t.duration?zt.secondsToString(t.duration):""}),e.a.createElement(st,{id:"date",value:t.date?Me.formatDate(s,t.date):""}),e.a.createElement(aa,{id:"studio",value:(a=t.studio)==null?void 0:a.name,url:`/studios/${(n=t.studio)==null?void 0:n.id}`}),e.a.createElement(st,{id:"director",value:t.director}),u(),e.a.createElement(aa,{id:"url",value:t.url,url:Me.sanitiseURL((r=t.url)!=null?r:"")}),e.a.createElement(st,{id:"synopsis",value:t.synopsis})))};var m0=(t,a,n)=>new Promise((r,s)=>{var l=i=>{try{o(n.next(i))}catch(c){s(c)}},u=i=>{try{o(n.throw(i))}catch(c){s(c)}},o=i=>i.done?r(i.value):Promise.resolve(i.value).then(l,u);o((n=n.apply(t,a)).next())});function Og(t,a,n){const r=a?t.newValue:t.originalValue,s=r?[r]:[];return e.a.createElement(Ht,{className:"form-control react-select",isDisabled:!a,onSelect:l=>{var u;n&&n((u=l[0])==null?void 0:u.id)},ids:s})}function g0(t,a,n,r){return e.a.createElement(ua,{title:"Studio",result:t,renderOriginalField:()=>Og(t),renderNewField:()=>Og(t,!0,s=>a(t.cloneWithValue(s))),onChange:a,newValues:n?[n]:void 0,onCreateNew:()=>{r&&n&&r(n)}})}const f0=t=>{var a;const n=Object(ge.a)(),[r,s]=Object(d.useState)(new Ue(t.movie.name,t.scraped.name)),[l,u]=Object(d.useState)(new Ue(t.movie.aliases,t.scraped.aliases)),[o,i]=Object(d.useState)(new Ue(zt.secondsToString(t.movie.duration||0),t.scraped.duration)),[c,g]=Object(d.useState)(new Ue(t.movie.date,t.scraped.date)),[f,p]=Object(d.useState)(new Ue(t.movie.director,t.scraped.director)),[_,S]=Object(d.useState)(new Ue(t.movie.synopsis,t.scraped.synopsis)),[v,x]=Object(d.useState)(new Ue(t.movie.studio_id,(a=t.scraped.studio)==null?void 0:a.stored_id)),[w,D]=Object(d.useState)(new Ue(t.movie.url,t.scraped.url)),[M,y]=Object(d.useState)(new Ue(t.movie.front_image,t.scraped.front_image)),[k,F]=Object(d.useState)(new Ue(t.movie.back_image,t.scraped.back_image)),[I,j]=Object(d.useState)(t.scraped.studio&&!t.scraped.studio.stored_id?t.scraped.studio:void 0),[R]=Un(),P=He();function z(V){return m0(this,null,function*(){try{const U=yield R({variables:{input:{name:V.name,url:V.url}}});x(v.cloneWithValue(U.data.studioCreate.id)),j(void 0),P.success({content:e.a.createElement("span",null,"Created studio: ",e.a.createElement("b",null,V.name))})}catch(U){P.error(U)}})}if([r,l,o,c,f,_,v,w,M,k].every(V=>!V.scraped))return t.onClose(),e.a.createElement(e.a.Fragment,null);function G(){var V;const U=v.getNewValue(),te=o.getNewValue();return{name:(V=r.getNewValue())!=null?V:"",aliases:l.getNewValue(),duration:te,date:c.getNewValue(),director:f.getNewValue(),synopsis:_.getNewValue(),studio:U?{stored_id:U,name:""}:void 0,url:w.getNewValue(),front_image:M.getNewValue(),back_image:k.getNewValue()}}function Y(){return e.a.createElement(e.a.Fragment,null,e.a.createElement(ut,{title:"Name",result:r,onChange:V=>s(V)}),e.a.createElement(ut,{title:"Aliases",result:l,onChange:V=>u(V)}),e.a.createElement(ut,{title:"Duration",result:o,onChange:V=>i(V)}),e.a.createElement(ut,{title:"Date",placeholder:"YYYY-MM-DD",result:c,onChange:V=>g(V)}),e.a.createElement(ut,{title:"Director",result:f,onChange:V=>p(V)}),e.a.createElement(yn,{title:"Synopsis",result:_,onChange:V=>S(V)}),g0(v,V=>x(V),I,z),e.a.createElement(ut,{title:"URL",result:w,onChange:V=>D(V)}),e.a.createElement(Ci,{title:"Front Image",className:"movie-image",result:M,onChange:V=>y(V)}),e.a.createElement(Ci,{title:"Back Image",className:"movie-image",result:k,onChange:V=>F(V)}))}return e.a.createElement(Mi,{title:n.formatMessage({id:"dialogs.scrape_entity_title"},{entity_type:n.formatMessage({id:"movie"})}),renderScrapeRows:Y,onClose:V=>{t.onClose(V?G():void 0)}})};var p0=Object.defineProperty,_0=Object.defineProperties,h0=Object.getOwnPropertyDescriptors,Ng=Object.getOwnPropertySymbols,v0=Object.prototype.hasOwnProperty,E0=Object.prototype.propertyIsEnumerable,Ig=(t,a,n)=>a in t?p0(t,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[a]=n,Fr=(t,a)=>{for(var n in a||(a={}))v0.call(a,n)&&Ig(t,n,a[n]);if(Ng)for(var n of Ng(a))E0.call(a,n)&&Ig(t,n,a[n]);return t},cs=(t,a)=>_0(t,h0(a)),y0=(t,a,n)=>new Promise((r,s)=>{var l=i=>{try{o(n.next(i))}catch(c){s(c)}},u=i=>{try{o(n.throw(i))}catch(c){s(c)}},o=i=>i.done?r(i.value):Promise.resolve(i.value).then(l,u);o((n=n.apply(t,a)).next())});const Dg=({movie:t,onSubmit:a,onCancel:n,onDelete:r,setFrontImage:s,setBackImage:l,onImageEncoding:u})=>{var o,i,c,g,f;const p=Object(ge.a)(),_=He(),S=t===void 0,[v,x]=Object(d.useState)(!1),[w,D]=Object(d.useState)(!1),[M,y]=Object(d.useState)(void 0),k=jc(),[F,I]=Object(d.useState)(),j=Ee.e({name:Ee.f().required(),aliases:Ee.f().optional().nullable(),duration:Ee.f().optional().nullable(),date:Ee.f().optional().nullable().matches(/^\d{4}-\d{2}-\d{2}$/),rating:Ee.d().optional().nullable(),studio_id:Ee.f().optional().nullable(),director:Ee.f().optional().nullable(),synopsis:Ee.f().optional().nullable(),url:Ee.f().optional().nullable(),front_image:Ee.f().optional().nullable(),back_image:Ee.f().optional().nullable()}),R={name:t==null?void 0:t.name,aliases:t==null?void 0:t.aliases,duration:t==null?void 0:t.duration,date:t==null?void 0:t.date,rating:(o=t==null?void 0:t.rating)!=null?o:null,studio_id:(i=t==null?void 0:t.studio)==null?void 0:i.id,director:t==null?void 0:t.director,synopsis:t==null?void 0:t.synopsis,url:t==null?void 0:t.url,front_image:void 0,back_image:void 0},P=Object(Wt.d)({initialValues:R,validationSchema:j,onSubmit:A=>a(V(A))}),z=na.usePasteImage(G);Object(d.useEffect)(()=>{s(P.values.front_image)},[P.values.front_image,s]),Object(d.useEffect)(()=>{l(P.values.back_image)},[P.values.back_image,l]),Object(d.useEffect)(()=>u(z),[u,z]);function L(A){P.setFieldValue("rating",A)}Object(d.useEffect)(()=>(B.a.bind("r 0",()=>L(NaN)),B.a.bind("r 1",()=>L(1)),B.a.bind("r 2",()=>L(2)),B.a.bind("r 3",()=>L(3)),B.a.bind("r 4",()=>L(4)),B.a.bind("r 5",()=>L(5)),B.a.bind("s s",()=>P.handleSubmit()),()=>{B.a.unbind("r 0"),B.a.unbind("r 1"),B.a.unbind("r 2"),B.a.unbind("r 3"),B.a.unbind("r 4"),B.a.unbind("r 5"),B.a.unbind("s s")}));function G(A){y(A),D(!0)}function Y(A){A?P.setFieldValue("front_image",M):P.setFieldValue("back_image",M),y(void 0),D(!1)}function V(A){var T,N;const C=cs(Fr({},A),{rating:(T=A.rating)!=null?T:null,studio_id:(N=A.studio_id)!=null?N:null});return t&&t.id&&(C.id=t.id),C}function U(A){var T,N,C,O,$,X,ie;A.name&&P.setFieldValue("name",A.name),A.aliases&&P.setFieldValue("aliases",(T=A.aliases)!=null?T:void 0),A.duration&&P.setFieldValue("duration",(N=zt.stringToSeconds(A.duration))!=null?N:void 0),A.date&&P.setFieldValue("date",(C=A.date)!=null?C:void 0),A.studio&&A.studio.stored_id&&P.setFieldValue("studio_id",(O=A.studio.stored_id)!=null?O:void 0),A.director&&P.setFieldValue("director",($=A.director)!=null?$:void 0),A.synopsis&&P.setFieldValue("synopsis",(X=A.synopsis)!=null?X:void 0),A.url&&P.setFieldValue("url",(ie=A.url)!=null?ie:void 0);const ae=A.front_image;P.setFieldValue("front_image",ae!=null?ae:void 0);const se=A.back_image;P.setFieldValue("back_image",se!=null?se:void 0)}function te(){return y0(this,null,function*(){const{url:A}=P.values;if(!!A){x(!0);try{const T=yield my(A);if(!T.data||!T.data.scrapeMovieURL)return;S?U(T.data.scrapeMovieURL):I(T.data.scrapeMovieURL)}catch(T){_.error(T)}finally{x(!1)}}})}function oe(A){var T,N;return!!A&&((N=(T=k==null?void 0:k.data)==null?void 0:T.listMovieScrapers)!=null?N:[]).some(C=>{var O,$;return(($=(O=C==null?void 0:C.movie)==null?void 0:O.urls)!=null?$:[]).some(X=>A.includes(X))})}function Q(){if(!F)return;const A=V(P.values);return A.front_image=t==null?void 0:t.front_image_path,A.back_image=t==null?void 0:t.back_image_path,e.a.createElement(f0,{movie:A,scraped:F,onClose:T=>{J(T)}})}function J(A){A&&U(A),I(void 0)}function re(A){na.onImageChange(A,T=>P.setFieldValue("front_image",T))}function Z(A){na.onImageChange(A,T=>P.setFieldValue("back_image",T))}function W(){return e.a.createElement(mt.a,{show:w,onHide:()=>D(!1)},e.a.createElement(mt.a.Body,null,e.a.createElement("p",null,"Select image to set")),e.a.createElement(mt.a.Footer,null,e.a.createElement("div",null,e.a.createElement(q.a,{className:"mr-2",variant:"secondary",onClick:()=>D(!1)},e.a.createElement(b.a,{id:"actions.cancel"})),e.a.createElement(q.a,{className:"mr-2",onClick:()=>Y(!1)},"Back Image"),e.a.createElement(q.a,{className:"mr-2",onClick:()=>Y(!0)},"Front Image"))))}if(v)return e.a.createElement($e,null);const H=!0;function de(A,T){return e.a.createElement(m.a.Group,{controlId:A,as:xe.a},tt.renderLabel({title:T}),e.a.createElement(Se.a,{xs:9},e.a.createElement(m.a.Control,cs(Fr({className:"text-input",placeholder:T},P.getFieldProps(A)),{isInvalid:!!P.getFieldMeta(A).error}))))}return e.a.createElement("div",null,S&&e.a.createElement("h2",null,p.formatMessage({id:"actions.add_entity"},{entityType:p.formatMessage({id:"movie"})})),e.a.createElement(ke.b,{when:P.dirty,message:(A,T)=>T==="PUSH"&&A.pathname.startsWith("/movies/")?!0:p.formatMessage({id:"dialogs.unsaved_changes"})}),e.a.createElement(m.a,{noValidate:!0,onSubmit:P.handleSubmit,id:"movie-edit"},e.a.createElement(m.a.Group,{controlId:"name",as:xe.a},tt.renderLabel({title:p.formatMessage({id:"name"})}),e.a.createElement(Se.a,{xs:9},e.a.createElement(m.a.Control,cs(Fr({className:"text-input",placeholder:p.formatMessage({id:"name"})},P.getFieldProps("name")),{isInvalid:!!P.errors.name})),e.a.createElement(m.a.Control.Feedback,{type:"invalid"},P.errors.name))),de("aliases",p.formatMessage({id:"aliases"})),e.a.createElement(m.a.Group,{controlId:"duration",as:xe.a},tt.renderLabel({title:p.formatMessage({id:"duration"})}),e.a.createElement(Se.a,{xs:9},e.a.createElement(La,{numericValue:(c=P.values.duration)!=null?c:void 0,onValueChange:A=>{P.setFieldValue("duration",A)}}))),de("date",p.formatMessage({id:"date"})),e.a.createElement(m.a.Group,{controlId:"studio",as:xe.a},tt.renderLabel({title:p.formatMessage({id:"studio"})}),e.a.createElement(Se.a,{xs:9},e.a.createElement(Ht,{onSelect:A=>{var T;return P.setFieldValue("studio_id",A.length>0?(T=A[0])==null?void 0:T.id:void 0)},ids:P.values.studio_id?[P.values.studio_id]:[]}))),de("director",p.formatMessage({id:"director"})),e.a.createElement(m.a.Group,{controlId:"rating",as:xe.a},tt.renderLabel({title:p.formatMessage({id:"rating"})}),e.a.createElement(Se.a,{xs:9},e.a.createElement(Kt,{value:(g=P.values.rating)!=null?g:void 0,onSetRating:A=>P.setFieldValue("rating",A!=null?A:null)}))),e.a.createElement(m.a.Group,{controlId:"url",as:xe.a},tt.renderLabel({title:p.formatMessage({id:"url"})}),e.a.createElement(Se.a,{xs:9},e.a.createElement(xi,cs(Fr({},P.getFieldProps("url")),{onScrapeClick:te,urlScrapable:oe})))),e.a.createElement(m.a.Group,{controlId:"synopsis",as:xe.a},tt.renderLabel({title:p.formatMessage({id:"synopsis"})}),e.a.createElement(Se.a,{xs:9},e.a.createElement(m.a.Control,Fr({as:"textarea",className:"text-input",placeholder:p.formatMessage({id:"synopsis"})},P.getFieldProps("synopsis")))))),e.a.createElement(tr,{objectName:(f=t==null?void 0:t.name)!=null?f:"movie",isNew:S,isEditing:H,onToggleEdit:n,onSave:()=>P.handleSubmit(),saveDisabled:!P.dirty,onImageChange:re,onImageChangeURL:A=>P.setFieldValue("front_image",A),onClearImage:()=>{P.setFieldValue("front_image",null)},onBackImageChange:Z,onBackImageChangeURL:A=>P.setFieldValue("back_image",A),onClearBackImage:()=>{P.setFieldValue("back_image",null)},onDelete:r}),Q(),W())};var b0=Object.defineProperty,S0=Object.defineProperties,w0=Object.getOwnPropertyDescriptors,Tg=Object.getOwnPropertySymbols,k0=Object.prototype.hasOwnProperty,x0=Object.prototype.propertyIsEnumerable,Fg=(t,a,n)=>a in t?b0(t,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[a]=n,P0=(t,a)=>{for(var n in a||(a={}))k0.call(a,n)&&Fg(t,n,a[n]);if(Tg)for(var n of Tg(a))x0.call(a,n)&&Fg(t,n,a[n]);return t},C0=(t,a)=>S0(t,w0(a)),jg=(t,a,n)=>new Promise((r,s)=>{var l=i=>{try{o(n.next(i))}catch(c){s(c)}},u=i=>{try{o(n.throw(i))}catch(c){s(c)}},o=i=>i.done?r(i.value):Promise.resolve(i.value).then(l,u);o((n=n.apply(t,a)).next())});const M0=({movie:t})=>{const a=Object(ge.a)(),n=Object(ke.k)(),r=He(),[s,l]=Object(d.useState)(!1),[u,o]=Object(d.useState)(!1),[i,c]=Object(d.useState)(void 0),[g,f]=Object(d.useState)(void 0),[p,_]=Object(d.useState)(!1),[S,{loading:v}]=RE(),[x,{loading:w}]=zE({id:t.id});Object(d.useEffect)(()=>(B.a.bind("e",()=>l(!0)),B.a.bind("d d",()=>k()),()=>{B.a.unbind("e"),B.a.unbind("d d")}));const D=(P=!1)=>_(P);function M(P){return C0(P0({},P),{id:t.id})}function y(P){return jg(this,null,function*(){var z;try{const L=yield S({variables:{input:M(P)}});((z=L.data)==null?void 0:z.movieUpdate)&&(l(!1),n.push(`/movies/${L.data.movieUpdate.id}`))}catch(L){r.error(L)}})}function k(){return jg(this,null,function*(){try{yield x()}catch(P){r.error(P)}n.push("/movies")})}function F(){l(!s),c(void 0),f(void 0)}function I(){var P;return e.a.createElement(it,{show:u,icon:"trash-alt",accept:{text:a.formatMessage({id:"actions.delete"}),variant:"danger",onClick:k},cancel:{onClick:()=>o(!1)}},e.a.createElement("p",null,e.a.createElement(b.a,{id:"dialogs.delete_confirm",values:{entityName:(P=t.name)!=null?P:a.formatMessage({id:"movie"}).toLocaleLowerCase()}})))}function j(){let P=t.front_image_path;if(s&&(i===null?P=`${P}&default=true`:i&&(P=i)),P)return e.a.createElement("div",{className:"movie-image-container"},e.a.createElement("img",{alt:"Front Cover",src:P}))}function R(){let P=t.back_image_path;if(s&&(g===null?P=void 0:g&&(P=g)),P)return e.a.createElement("div",{className:"movie-image-container"},e.a.createElement("img",{alt:"Back Cover",src:P}))}return v||w?e.a.createElement($e,null):e.a.createElement("div",{className:"row"},e.a.createElement(Tt.a,null,e.a.createElement("title",null,t==null?void 0:t.name)),e.a.createElement("div",{className:"movie-details mb-3 col col-xl-4 col-lg-6"},e.a.createElement("div",{className:"logo w-100"},p?e.a.createElement($e,{message:"Encoding image..."}):e.a.createElement("div",{className:"movie-images"},j(),R())),s?e.a.createElement(Dg,{movie:t,onSubmit:y,onCancel:F,onDelete:k,setFrontImage:c,setBackImage:f,onImageEncoding:D}):e.a.createElement(e.a.Fragment,null,e.a.createElement(d0,{movie:t}),e.a.createElement(tr,{objectName:t.name,isNew:!1,isEditing:s,onToggleEdit:F,onSave:()=>{},onImageChange:()=>{},onDelete:k}))),e.a.createElement("div",{className:"col-xl-8 col-lg-6"},e.a.createElement(u0,{movie:t})),I())};var O0=()=>{const{id:t}=Object(ke.m)(),{data:a,loading:n,error:r}=tE(t!=null?t:"");return n?e.a.createElement($e,null):r?e.a.createElement($t,{error:r.message}):(a==null?void 0:a.findMovie)?e.a.createElement(M0,{movie:a.findMovie}):e.a.createElement($t,{error:`No movie found with id ${t}.`})},N0=Object.defineProperty,Lg=Object.getOwnPropertySymbols,I0=Object.prototype.hasOwnProperty,D0=Object.prototype.propertyIsEnumerable,Ag=(t,a,n)=>a in t?N0(t,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[a]=n,T0=(t,a)=>{for(var n in a||(a={}))I0.call(a,n)&&Ag(t,n,a[n]);if(Lg)for(var n of Lg(a))D0.call(a,n)&&Ag(t,n,a[n]);return t},F0=(t,a,n)=>new Promise((r,s)=>{var l=i=>{try{o(n.next(i))}catch(c){s(c)}},u=i=>{try{o(n.throw(i))}catch(c){s(c)}},o=i=>i.done?r(i.value):Promise.resolve(i.value).then(l,u);o((n=n.apply(t,a)).next())}),j0=()=>{const t=Object(ke.k)(),a=He(),[n,r]=Object(d.useState)(void 0),[s,l]=Object(d.useState)(void 0),[u,o]=Object(d.useState)(!1),[i]=$c(),c=(S=!1)=>o(S);function g(S){return T0({},S)}function f(S){return F0(this,null,function*(){var v,x;try{const w=yield i({variables:g(S)});((x=(v=w.data)==null?void 0:v.movieCreate)==null?void 0:x.id)&&t.push(`/movies/${w.data.movieCreate.id}`)}catch(w){a.error(w)}})}function p(){if(n)return e.a.createElement("div",{className:"movie-image-container"},e.a.createElement("img",{alt:"Front Cover",src:n}))}function _(){if(s)return e.a.createElement("div",{className:"movie-image-container"},e.a.createElement("img",{alt:"Back Cover",src:s}))}return e.a.createElement("div",{className:"row"},e.a.createElement("div",{className:"movie-details mb-3 col"},e.a.createElement("div",{className:"logo w-100"},u?e.a.createElement($e,{message:"Encoding image..."}):e.a.createElement("div",{className:"movie-images"},p(),_())),e.a.createElement(Dg,{onSubmit:f,onCancel:()=>t.push("/movies"),onDelete:()=>{},setFrontImage:r,setBackImage:l,onImageEncoding:c})))},L0=()=>{const a=`${Object(ge.a)().formatMessage({id:"movies"})} ${Pa}`;return e.a.createElement(e.a.Fragment,null,e.a.createElement(Tt.a,{defaultTitle:a,titleTemplate:`%s | ${a}`}),e.a.createElement(ke.g,null,e.a.createElement(ke.d,{exact:!0,path:"/movies",component:Hl}),e.a.createElement(ke.d,{exact:!0,path:"/movies/new",component:j0}),e.a.createElement(ke.d,{path:"/movies/:id/:tab?",component:O0})))};const us=t=>a=>{const n={id:t.id,label:t.name};let r=a.criteria.find(s=>s.criterionOption.type==="tags");return r&&(r.modifier===ue.IncludesAll||r.modifier===ue.Includes)?(r.value.items.find(s=>s.id===t.id)||r.value.items.push(n),r.modifier=ue.IncludesAll):(r=new ta(oa),r.value={items:[n],depth:0},a.criteria.push(r)),a},jr=(t,a,n)=>{const{cache:r}=Ic(),s=r.writeFragment({data:t,fragment:E.gql`
      fragment Tag on Tag {
        id
      }
    `});function l(u,o,i){o.forEach(c=>{i.some(g=>g.id===c.id)||r.modify({id:r.identify(c),fields:{[u](g,{readField:f}){return g.filter(p=>f("id",p)!==t.id)}}})}),i.forEach(c=>{o.some(g=>g.id===c.id)||r.modify({id:r.identify(c),fields:{[u](g){return[...g,s]}}})})}l("children",a.parents,n.parents),l("parents",a.children,n.children)},A0=({tag:t})=>e.a.createElement(Nr,{filterHook:us(t)}),R0=({tag:t})=>{function a(n){const r={id:t.id,label:t.name};let s=n.criteria.find(l=>l.criterionOption.type==="tags");return s&&(s.modifier===ue.IncludesAll||s.modifier===ue.Includes)?(s.value.items.find(l=>l.id===t.id)||s.value.items.push(r),s.modifier=ue.IncludesAll):(s=new ta(oa),s.value={items:[r],depth:0},n.criteria.push(s)),n}return e.a.createElement(ag,{filterHook:a})},z0=({tag:t})=>e.a.createElement(Xn,{filterHook:us(t)}),q0=({tag:t})=>e.a.createElement(Yl,{filterHook:us(t)}),$0=({tag:t})=>e.a.createElement(Ai,{filterHook:us(t)}),G0=({tag:t})=>{function a(){if(!!t.aliases.length)return e.a.createElement("dl",{className:"row"},e.a.createElement("dt",{className:"col-3 col-xl-2"},e.a.createElement(b.a,{id:"aliases"})),e.a.createElement("dd",{className:"col-9 col-xl-10"},t.aliases.map(s=>e.a.createElement(Zt.a,{className:"tag-item",variant:"secondary",key:s},s))))}function n(){var s;if(!!((s=t.parents)==null?void 0:s.length))return e.a.createElement("dl",{className:"row"},e.a.createElement("dt",{className:"col-3 col-xl-2"},e.a.createElement(b.a,{id:"parent_tags"})),e.a.createElement("dd",{className:"col-9 col-xl-10"},t.parents.map(l=>e.a.createElement(Zt.a,{key:l.id,className:"tag-item",variant:"secondary"},e.a.createElement(Le.Link,{to:`/tags/${l.id}`},l.name)))))}function r(){var s;if(!!((s=t.children)==null?void 0:s.length))return e.a.createElement("dl",{className:"row"},e.a.createElement("dt",{className:"col-3 col-xl-2"},e.a.createElement(b.a,{id:"sub_tags"})),e.a.createElement("dd",{className:"col-9 col-xl-10"},t.children.map(l=>e.a.createElement(Zt.a,{key:l.id,className:"tag-item",variant:"secondary"},e.a.createElement(Le.Link,{to:`/tags/${l.id}`},l.name)))))}return e.a.createElement(e.a.Fragment,null,a(),n(),r())};var V0=Object.defineProperty,B0=Object.defineProperties,U0=Object.getOwnPropertyDescriptors,Rg=Object.getOwnPropertySymbols,Q0=Object.prototype.hasOwnProperty,H0=Object.prototype.propertyIsEnumerable,zg=(t,a,n)=>a in t?V0(t,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[a]=n,qg=(t,a)=>{for(var n in a||(a={}))Q0.call(a,n)&&zg(t,n,a[n]);if(Rg)for(var n of Rg(a))H0.call(a,n)&&zg(t,n,a[n]);return t},W0=(t,a)=>B0(t,U0(a)),K0=(t,a,n)=>new Promise((r,s)=>{var l=i=>{try{o(n.next(i))}catch(c){s(c)}},u=i=>{try{o(n.throw(i))}catch(c){s(c)}},o=i=>i.done?r(i.value):Promise.resolve(i.value).then(l,u);o((n=n.apply(t,a)).next())});const $g=({tag:t,onSubmit:a,onCancel:n,onDelete:r,setImage:s})=>{var l,u,o,i;const c=Object(ge.a)(),g=Object(ke.k)(),f=t===void 0,p=3,_=3,S=9,v=9,x=Ee.e({name:Ee.f().required(),aliases:Ee.a(Ee.f().required()).optional().test({name:"unique",test:I=>(I!=null?I:[]).length===new Set(I).size,message:c.formatMessage({id:"dialogs.aliases_must_be_unique"})}),parent_ids:Ee.a(Ee.f().required()).optional().nullable(),child_ids:Ee.a(Ee.f().required()).optional().nullable()}),w={name:t==null?void 0:t.name,aliases:t==null?void 0:t.aliases,parent_ids:((l=t==null?void 0:t.parents)!=null?l:[]).map(I=>I.id),child_ids:((u=t==null?void 0:t.children)!=null?u:[]).map(I=>I.id)},D=Object(Wt.d)({initialValues:w,validationSchema:x,enableReinitialize:!0,onSubmit:M});function M(I){return K0(this,null,function*(){const j=yield a(y(I));j&&(D.resetForm({values:I}),g.push(`/tags/${j}`))})}Object(d.useEffect)(()=>(B.a.bind("s s",()=>D.handleSubmit()),()=>{B.a.unbind("s s")}));function y(I){const j=qg({},I);return t&&t.id&&(j.id=t.id),j}function k(I){na.onImageChange(I,s)}const F=!0;return e.a.createElement("div",null,f&&e.a.createElement("h2",null,e.a.createElement(b.a,{id:"actions.add_entity",values:{entityType:c.formatMessage({id:"tag"})}})),e.a.createElement(ke.b,{when:D.dirty,message:I=>!f&&I.pathname.startsWith(`/tags/${t==null?void 0:t.id}`)?!0:c.formatMessage({id:"dialogs.unsaved_changes"})}),e.a.createElement(m.a,{noValidate:!0,onSubmit:D.handleSubmit,id:"tag-edit"},e.a.createElement(m.a.Group,{controlId:"name",as:xe.a},e.a.createElement(m.a.Label,{column:!0,xs:p,xl:_},e.a.createElement(b.a,{id:"name"})),e.a.createElement(Se.a,{xs:S,xl:v},e.a.createElement(m.a.Control,W0(qg({className:"text-input",placeholder:"Name"},D.getFieldProps("name")),{isInvalid:!!D.errors.name})),e.a.createElement(m.a.Control.Feedback,{type:"invalid"},D.errors.name))),e.a.createElement(m.a.Group,{controlId:"aliases",as:xe.a},e.a.createElement(m.a.Label,{column:!0,xs:p,xl:_},e.a.createElement(b.a,{id:"aliases"})),e.a.createElement(Se.a,{xs:S,xl:v},e.a.createElement(tn,{value:(o=D.values.aliases)!=null?o:[],setValue:I=>D.setFieldValue("aliases",I),errors:D.errors.aliases}))),e.a.createElement(m.a.Group,{controlId:"parent_tags",as:xe.a},tt.renderLabel({title:c.formatMessage({id:"parent_tags"}),labelProps:{column:!0,sm:3,xl:12}}),e.a.createElement(Se.a,{sm:9,xl:12},e.a.createElement(jt,{isMulti:!0,onSelect:I=>D.setFieldValue("parent_ids",I.map(j=>j.id)),ids:D.values.parent_ids,excludeIds:((t==null?void 0:t.id)?[t.id]:[]).concat(...D.values.child_ids),creatable:!1}))),e.a.createElement(m.a.Group,{controlId:"sub_tags",as:xe.a},tt.renderLabel({title:c.formatMessage({id:"sub_tags"}),labelProps:{column:!0,sm:3,xl:12}}),e.a.createElement(Se.a,{sm:9,xl:12},e.a.createElement(jt,{isMulti:!0,onSelect:I=>D.setFieldValue("child_ids",I.map(j=>j.id)),ids:D.values.child_ids,excludeIds:((t==null?void 0:t.id)?[t.id]:[]).concat(...D.values.parent_ids),creatable:!1})))),e.a.createElement(tr,{objectName:(i=t==null?void 0:t.name)!=null?i:"tag",isNew:f,isEditing:F,onToggleEdit:n,onSave:()=>D.handleSubmit(),onImageChange:k,onImageChangeURL:s,onClearImage:()=>{s(null)},onDelete:r,acceptSVG:!0}))};var Y0=(t,a,n)=>new Promise((r,s)=>{var l=i=>{try{o(n.next(i))}catch(c){s(c)}},u=i=>{try{o(n.throw(i))}catch(c){s(c)}},o=i=>i.done?r(i.value):Promise.resolve(i.value).then(l,u);o((n=n.apply(t,a)).next())});const J0=({show:t,onClose:a,tag:n,mergeType:r})=>{const[s,l]=Object(d.useState)([]),[u,o]=Object(d.useState)(null),[i,c]=Object(d.useState)(!1),[g]=HE(),f=Object(ge.a)(),p=He(),_=Object(ke.k)(),S=f.formatMessage({id:r==="from"?"actions.merge_from":"actions.merge_into"});function v(){return Y0(this,null,function*(){var w;const D=r==="from"?s:[n.id],M=r==="from"?n.id:u;if(!!M)try{c(!0),((w=(yield g({variables:{source:D,destination:M}})).data)==null?void 0:w.tagsMerge)&&(p.success({content:f.formatMessage({id:"toast.merged_tags"})}),a(),_.push(`/tags/${M}`))}catch(y){p.error(y)}finally{c(!1)}})}function x(){return r==="from"&&s.length>0||r==="into"&&u}return e.a.createElement(it,{show:t,header:S,icon:r==="from"?"sign-in-alt":"sign-out-alt",accept:{text:f.formatMessage({id:"actions.merge"}),onClick:()=>v()},disabled:!x(),cancel:{variant:"secondary",onClick:()=>a()},isRunning:i},e.a.createElement("div",{className:"form-container row px-3"},e.a.createElement("div",{className:"col-12 col-lg-6 col-xl-12"},r==="from"&&e.a.createElement(m.a.Group,{controlId:"source",as:xe.a},tt.renderLabel({title:f.formatMessage({id:"dialogs.merge_tags.source"}),labelProps:{column:!0,sm:3,xl:12}}),e.a.createElement(Se.a,{sm:9,xl:12},e.a.createElement(jt,{isMulti:!0,creatable:!1,onSelect:w=>l(w.map(D=>D.id)),ids:s,excludeIds:(n==null?void 0:n.id)?[n.id]:[]}))),r==="into"&&e.a.createElement(m.a.Group,{controlId:"destination",as:xe.a},tt.renderLabel({title:f.formatMessage({id:"dialogs.merge_tags.destination"}),labelProps:{column:!0,sm:3,xl:12}}),e.a.createElement(Se.a,{sm:9,xl:12},e.a.createElement(jt,{isMulti:!1,creatable:!1,onSelect:w=>{var D;return o((D=w[0])==null?void 0:D.id)},ids:u?[u]:void 0,excludeIds:(n==null?void 0:n.id)?[n.id]:[]}))))))};var X0=Object.defineProperty,Z0=Object.defineProperties,eI=Object.getOwnPropertyDescriptors,Gg=Object.getOwnPropertySymbols,tI=Object.prototype.hasOwnProperty,aI=Object.prototype.propertyIsEnumerable,Vg=(t,a,n)=>a in t?X0(t,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[a]=n,nI=(t,a)=>{for(var n in a||(a={}))tI.call(a,n)&&Vg(t,n,a[n]);if(Gg)for(var n of Gg(a))aI.call(a,n)&&Vg(t,n,a[n]);return t},rI=(t,a)=>Z0(t,eI(a)),so=(t,a,n)=>new Promise((r,s)=>{var l=i=>{try{o(n.next(i))}catch(c){s(c)}},u=i=>{try{o(n.throw(i))}catch(c){s(c)}},o=i=>i.done?r(i.value):Promise.resolve(i.value).then(l,u);o((n=n.apply(t,a)).next())});const iI=({tag:t})=>{const a=Object(ke.k)(),n=He(),r=Object(ge.a)(),{tab:s="scenes"}=Object(ke.m)(),[l,u]=Object(d.useState)(!1),[o,i]=Object(d.useState)(!1),[c,g]=Object(d.useState)(),[f,p]=Object(d.useState)(),[_]=$E(),[S]=Gc({id:t.id}),v=s==="markers"||s==="images"||s==="performers"||s==="galleries"?s:"scenes",x=L=>{if(s!==L){const G=L==="scenes"?"":`/${L}`;a.replace(`/tags/${t.id}${G}`)}};Object(d.useEffect)(()=>(B.a.bind("e",()=>u(!0)),B.a.bind("d d",()=>F()),()=>{l&&B.a.unbind("s s"),B.a.unbind("e"),B.a.unbind("d d")}));function w(L){p(L)}const D=na.usePasteImage(w,l);function M(L){return rI(nI({},L),{image:f,id:t.id})}function y(L){return so(this,null,function*(){var G,Y,V;try{const U={parents:(G=t.parents)!=null?G:[],children:(Y=t.children)!=null?Y:[]},te=yield _({variables:{input:M(L)}});if((V=te.data)==null?void 0:V.tagUpdate){u(!1);const oe=te.data.tagUpdate;return jr(oe,U,{parents:oe.parents,children:oe.children}),oe.id}}catch(U){n.error(U)}})}function k(){return so(this,null,function*(){if(!!t.id)try{yield Er({tags:[t.id]}),n.success({content:r.formatMessage({id:"toast.started_auto_tagging"})})}catch(L){n.error(L)}})}function F(){return so(this,null,function*(){var L,G;try{const Y={parents:(L=t.parents)!=null?L:[],children:(G=t.children)!=null?G:[]};yield S(),jr(t,Y,{parents:[],children:[]})}catch(Y){n.error(Y)}a.push("/tags")})}function I(){var L;return e.a.createElement(it,{show:o,icon:"trash-alt",accept:{text:r.formatMessage({id:"actions.delete"}),variant:"danger",onClick:F},cancel:{onClick:()=>i(!1)}},e.a.createElement("p",null,e.a.createElement(b.a,{id:"dialogs.delete_confirm",values:{entityName:(L=t.name)!=null?L:r.formatMessage({id:"tag"}).toLocaleLowerCase()}})))}function j(){u(!l),p(void 0)}function R(){let L=t.image_path;if(l&&(f===null?L=`${L}&default=true`:f&&(L=f)),L)return e.a.createElement("img",{className:"logo",alt:t.name,src:L})}function P(){return e.a.createElement(ze.a,{drop:"up"},e.a.createElement(ze.a.Toggle,{variant:"secondary"},e.a.createElement(b.a,{id:"actions.merge"}),"..."),e.a.createElement(ze.a.Menu,{className:"bg-secondary text-white",id:"tag-merge-menu"},e.a.createElement(ze.a.Item,{className:"bg-secondary text-white",onClick:()=>g("from")},e.a.createElement(le,{icon:"sign-in-alt"}),e.a.createElement(b.a,{id:"actions.merge_from"}),"..."),e.a.createElement(ze.a.Item,{className:"bg-secondary text-white",onClick:()=>g("into")},e.a.createElement(le,{icon:"sign-out-alt"}),e.a.createElement(b.a,{id:"actions.merge_into"}),"...")))}function z(){if(!(!t||!c))return e.a.createElement(J0,{tag:t,onClose:()=>g(void 0),show:!!c,mergeType:c})}return e.a.createElement(e.a.Fragment,null,e.a.createElement(Tt.a,null,e.a.createElement("title",null,t.name)),e.a.createElement("div",{className:"row"},e.a.createElement("div",{className:"tag-details col-md-4"},e.a.createElement("div",{className:"text-center logo-container"},D?e.a.createElement($e,{message:"Encoding image..."}):R(),e.a.createElement("h2",null,t.name)),l?e.a.createElement($g,{tag:t,onSubmit:y,onCancel:j,onDelete:F,setImage:p}):e.a.createElement(e.a.Fragment,null,e.a.createElement(G0,{tag:t}),e.a.createElement(tr,{objectName:t.name,isNew:!1,isEditing:l,onToggleEdit:j,onSave:()=>{},onImageChange:()=>{},onClearImage:()=>{},onAutoTag:k,onDelete:F,customButtons:P()}))),e.a.createElement("div",{className:"col col-md-8"},e.a.createElement(Fl.a,{id:"tag-tabs",mountOnEnter:!0,activeKey:v,onSelect:x},e.a.createElement(qe.a,{eventKey:"scenes",title:r.formatMessage({id:"scenes"})},e.a.createElement(A0,{tag:t})),e.a.createElement(qe.a,{eventKey:"images",title:r.formatMessage({id:"images"})},e.a.createElement(z0,{tag:t})),e.a.createElement(qe.a,{eventKey:"galleries",title:r.formatMessage({id:"galleries"})},e.a.createElement($0,{tag:t})),e.a.createElement(qe.a,{eventKey:"markers",title:r.formatMessage({id:"markers"})},e.a.createElement(R0,{tag:t})),e.a.createElement(qe.a,{eventKey:"performers",title:r.formatMessage({id:"performers"})},e.a.createElement(q0,{tag:t})))),I(),z()))};var sI=()=>{const{id:t}=Object(ke.m)(),{data:a,loading:n,error:r}=aE(t!=null?t:"");return n?e.a.createElement($e,null):r?e.a.createElement($t,{error:r.message}):(a==null?void 0:a.findTag)?e.a.createElement(iI,{tag:a.findTag}):e.a.createElement($t,{error:`No tag found with id ${t}.`})},lI=Object.defineProperty,oI=Object.defineProperties,cI=Object.getOwnPropertyDescriptors,Bg=Object.getOwnPropertySymbols,uI=Object.prototype.hasOwnProperty,dI=Object.prototype.propertyIsEnumerable,Ug=(t,a,n)=>a in t?lI(t,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[a]=n,mI=(t,a)=>{for(var n in a||(a={}))uI.call(a,n)&&Ug(t,n,a[n]);if(Bg)for(var n of Bg(a))dI.call(a,n)&&Ug(t,n,a[n]);return t},gI=(t,a)=>oI(t,cI(a)),fI=(t,a,n)=>new Promise((r,s)=>{var l=i=>{try{o(n.next(i))}catch(c){s(c)}},u=i=>{try{o(n.throw(i))}catch(c){s(c)}},o=i=>i.done?r(i.value):Promise.resolve(i.value).then(l,u);o((n=n.apply(t,a)).next())}),pI=()=>{const t=Object(ke.k)(),a=He(),[n,r]=Object(d.useState)(),[s]=un();function l(g){r(g)}const u=na.usePasteImage(l,!0);function o(g){return gI(mI({},g),{image:n})}function i(g){return fI(this,null,function*(){var f,p;try{const _={parents:[],children:[]},S=yield s({variables:{input:o(g)}});if((p=(f=S.data)==null?void 0:f.tagCreate)==null?void 0:p.id){const v=S.data.tagCreate;return jr(v,_,{parents:v.parents,children:v.children}),v.id}}catch(_){a.error(_)}})}function c(){if(n)return e.a.createElement("img",{className:"logo",alt:"",src:n})}return e.a.createElement("div",{className:"row"},e.a.createElement("div",{className:"tag-details col-md-8"},e.a.createElement("div",{className:"text-center logo-container"},u?e.a.createElement($e,{message:"Encoding image..."}):c()),e.a.createElement($g,{onSubmit:i,onCancel:()=>t.push("/tags"),onDelete:()=>{},setImage:r})))};const _I=({tag:t,zoomIndex:a,selecting:n,selected:r,onSelectedChanged:s})=>{var l,u;function o(){if(t.parents.length===1){const v=t.parents[0];return e.a.createElement("div",{className:"tag-parent-tags"},e.a.createElement(b.a,{id:"sub_tag_of",values:{parent:e.a.createElement(Le.Link,{to:`/tags/${v.id}`},v.name)}}))}if(t.parents.length>1)return e.a.createElement("div",{className:"tag-parent-tags"},e.a.createElement(b.a,{id:"sub_tag_of",values:{parent:e.a.createElement(Le.Link,{to:rt.makeParentTagsUrl(t)},t.parents.length,"\xA0",e.a.createElement(b.a,{id:"countables.tags",values:{count:t.parents.length}}))}}))}function i(){if(t.children.length>0)return e.a.createElement("div",{className:"tag-sub-tags"},e.a.createElement(b.a,{id:"parent_of",values:{children:e.a.createElement(Le.Link,{to:rt.makeChildTagsUrl(t)},t.children.length,"\xA0",e.a.createElement(b.a,{id:"countables.tags",values:{count:t.children.length}}))}}))}function c(){if(!!t.scene_count)return e.a.createElement(pa,{className:"scene-count",type:"scene",count:t.scene_count,url:rt.makeTagScenesUrl(t)})}function g(){if(!!t.scene_marker_count)return e.a.createElement(Le.Link,{className:"marker-count",to:rt.makeTagSceneMarkersUrl(t)},e.a.createElement(q.a,{className:"minimal"},e.a.createElement(le,{icon:"map-marker-alt"}),e.a.createElement("span",null,t.scene_marker_count)))}function f(){if(!!t.image_count)return e.a.createElement(pa,{className:"image-count",type:"image",count:t.image_count,url:rt.makeTagImagesUrl(t)})}function p(){if(!!t.gallery_count)return e.a.createElement(pa,{className:"gallery-count",type:"gallery",count:t.gallery_count,url:rt.makeTagGalleriesUrl(t)})}function _(){if(!!t.performer_count)return e.a.createElement(Le.Link,{className:"performer-count",to:rt.makeTagPerformersUrl(t)},e.a.createElement(q.a,{className:"minimal"},e.a.createElement(le,{icon:"user"}),e.a.createElement("span",null,t.performer_count)))}function S(){if(t)return e.a.createElement(e.a.Fragment,null,e.a.createElement("hr",null),e.a.createElement(yt.a,{className:"card-popovers"},c(),f(),p(),g(),_()))}return e.a.createElement(bn,{className:`tag-card zoom-${a}`,url:`/tags/${t.id}`,title:(l=t.name)!=null?l:"",linkClassName:"tag-card-header",image:e.a.createElement("img",{className:"tag-card-image",alt:t.name,src:(u=t.image_path)!=null?u:""}),details:e.a.createElement(e.a.Fragment,null,o(),i(),S()),selected:r,selecting:n,onSelectedChanged:s})};var Lr=(t,a,n)=>new Promise((r,s)=>{var l=i=>{try{o(n.next(i))}catch(c){s(c)}},u=i=>{try{o(n.throw(i))}catch(c){s(c)}},o=i=>i.done?r(i.value):Promise.resolve(i.value).then(l,u);o((n=n.apply(t,a)).next())});const hI=({filterHook:t})=>{const a=He(),[n,r]=Object(d.useState)(null),[s]=Gc(M()),l=Object(ge.a)(),u=Object(ke.k)(),[o,i]=Object(d.useState)(!1),[c,g]=Object(d.useState)(!1),f=[{text:l.formatMessage({id:"actions.view_random"}),onClick:_},{text:l.formatMessage({id:"actions.export"}),onClick:S,isDisplayed:fa},{text:l.formatMessage({id:"actions.export_all"}),onClick:v}],p=(j,R)=>(B.a.bind("p r",()=>{_(j,R)}),()=>{B.a.unbind("p r")});function _(j,R){return Lr(this,null,function*(){if(j.data&&j.data.findTags){const{count:P}=j.data.findTags,z=Math.floor(Math.random()*P),L=Re.a.cloneDeep(R);L.itemsPerPage=1,L.currentPage=z+1;const G=yield Qv(L);if(G&&G.data&&G.data.findTags&&G.data.findTags.tags.length===1){const{id:Y}=G.data.findTags.tags[0];u.push(`/tags/${Y}`)}}})}function S(){return Lr(this,null,function*(){g(!1),i(!0)})}function v(){return Lr(this,null,function*(){g(!0),i(!0)})}function x(j){if(o)return e.a.createElement(e.a.Fragment,null,e.a.createElement(Sn,{exportInput:{tags:{ids:Array.from(j.values()),all:c}},onClose:()=>{i(!1)}}))}const w=(j,R)=>e.a.createElement(Wi,{selected:j,onClose:R,singularEntity:l.formatMessage({id:"tag"}),pluralEntity:l.formatMessage({id:"tags"}),destroyMutation:GE,onDeleted:()=>{j.forEach(P=>{var z,L;return jr(P,{parents:(z=P.parents)!=null?z:[],children:(L=P.children)!=null?L:[]},{parents:[],children:[]})})}}),D=QS({renderContent:I,filterHook:t,addKeybinds:p,otherOperations:f,selectable:!0,zoomable:!0,defaultZoomIndex:0,persistState:ca.ALL,renderDeleteDialog:w});function M(){const j={};return n&&(j.id=n.id),j}function y(j){return Lr(this,null,function*(){if(!!j)try{yield Er({tags:[j.id]}),a.success({content:l.formatMessage({id:"toast.started_auto_tagging"})})}catch(R){a.error(R)}})}function k(){return Lr(this,null,function*(){var j,R;try{const P={parents:(j=n==null?void 0:n.parents)!=null?j:[],children:(R=n==null?void 0:n.children)!=null?R:[]};yield s(),jr(n,P,{parents:[],children:[]}),a.success({content:l.formatMessage({id:"toast.delete_past_tense"},{count:1,singularEntity:l.formatMessage({id:"tag"}),pluralEntity:l.formatMessage({id:"tags"})})}),r(null)}catch(P){a.error(P)}})}function F(j,R,P){var z;if(!!((z=j.data)==null?void 0:z.findTags)){if(R.displayMode===Ge.Grid)return e.a.createElement("div",{className:"row px-xl-5 justify-content-center"},j.data.findTags.tags.map(L=>e.a.createElement(_I,{key:L.id,tag:L,zoomIndex:R.zoomIndex,selecting:P.size>0,selected:P.has(L.id),onSelectedChanged:(G,Y)=>D.onSelectChange(L.id,G,Y)})));if(R.displayMode===Ge.List){const L=e.a.createElement(it,{onHide:()=>{},show:!!n,icon:"trash-alt",accept:{onClick:k,variant:"danger",text:l.formatMessage({id:"actions.delete"})},cancel:{onClick:()=>r(null)}},e.a.createElement("span",null,e.a.createElement(b.a,{id:"dialogs.delete_confirm",values:{entityName:n&&n.name}}))),G=j.data.findTags.tags.map(Y=>{var V,U,te,oe,Q,J,re,Z;return e.a.createElement("div",{key:Y.id,className:"tag-list-row row"},e.a.createElement(Le.Link,{to:`/tags/${Y.id}`},Y.name),e.a.createElement("div",{className:"ml-auto"},e.a.createElement(q.a,{variant:"secondary",className:"tag-list-button",onClick:()=>y(Y)},e.a.createElement(b.a,{id:"actions.auto_tag"})),e.a.createElement(q.a,{variant:"secondary",className:"tag-list-button"},e.a.createElement(Le.Link,{to:rt.makeTagScenesUrl(Y),className:"tag-list-anchor"},e.a.createElement(b.a,{id:"countables.scenes",values:{count:(V=Y.scene_count)!=null?V:0}}),": ",e.a.createElement(ct.b,{value:(U=Y.scene_count)!=null?U:0}))),e.a.createElement(q.a,{variant:"secondary",className:"tag-list-button"},e.a.createElement(Le.Link,{to:rt.makeTagImagesUrl(Y),className:"tag-list-anchor"},e.a.createElement(b.a,{id:"countables.images",values:{count:(te=Y.image_count)!=null?te:0}}),": ",e.a.createElement(ct.b,{value:(oe=Y.image_count)!=null?oe:0}))),e.a.createElement(q.a,{variant:"secondary",className:"tag-list-button"},e.a.createElement(Le.Link,{to:rt.makeTagGalleriesUrl(Y),className:"tag-list-anchor"},e.a.createElement(b.a,{id:"countables.galleries",values:{count:(Q=Y.gallery_count)!=null?Q:0}}),": ",e.a.createElement(ct.b,{value:(J=Y.gallery_count)!=null?J:0}))),e.a.createElement(q.a,{variant:"secondary",className:"tag-list-button"},e.a.createElement(Le.Link,{to:rt.makeTagSceneMarkersUrl(Y),className:"tag-list-anchor"},e.a.createElement(b.a,{id:"countables.markers",values:{count:(re=Y.scene_marker_count)!=null?re:0}}),": ",e.a.createElement(ct.b,{value:(Z=Y.scene_marker_count)!=null?Z:0}))),e.a.createElement("span",{className:"tag-list-count"},e.a.createElement(b.a,{id:"total"}),":"," ",e.a.createElement(ct.b,{value:(Y.scene_count||0)+(Y.scene_marker_count||0)+(Y.image_count||0)+(Y.gallery_count||0)})),e.a.createElement(q.a,{variant:"danger",onClick:()=>r(Y)},e.a.createElement(le,{icon:"trash-alt",color:"danger"}))))});return e.a.createElement("div",{className:"col col-sm-8 m-auto"},G,L)}if(R.displayMode===Ge.Wall)return e.a.createElement("h1",null,"TODO")}}function I(j,R,P){return e.a.createElement(e.a.Fragment,null,x(P),F(j,R,P))}return D.template};var vI=()=>{const a=`${Object(ge.a)().formatMessage({id:"tags"})} ${Pa}`;return e.a.createElement(e.a.Fragment,null,e.a.createElement(Tt.a,{defaultTitle:a,titleTemplate:`%s | ${a}`}),e.a.createElement(ke.g,null,e.a.createElement(ke.d,{exact:!0,path:"/tags",component:hI}),e.a.createElement(ke.d,{exact:!0,path:"/tags/new",component:pI}),e.a.createElement(ke.d,{path:"/tags/:id/:tab?",component:sI})))};const EI=t=>{function a(){var n;if(t.image.file.size===void 0)return;const{size:r,unit:s}=Me.fileSize((n=t.image.file.size)!=null?n:0);return e.a.createElement(st,{id:"filesize"},e.a.createElement("span",{className:"text-truncate"},e.a.createElement(ct.b,{value:r,style:"unit",unit:s,unitDisplay:"narrow",maximumFractionDigits:2})))}return e.a.createElement("dl",{className:"container image-file-info details-list"},e.a.createElement(st,{id:"media_info.checksum",value:t.image.checksum,truncate:!0}),e.a.createElement(aa,{id:"path",url:`file://${t.image.path}`,value:`file://${t.image.path}`,truncate:!0}),a(),e.a.createElement(st,{id:"dimensions",value:`${t.image.file.width} x ${t.image.file.height}`,truncate:!0}))};var yI=Object.defineProperty,bI=Object.defineProperties,SI=Object.getOwnPropertyDescriptors,Qg=Object.getOwnPropertySymbols,wI=Object.prototype.hasOwnProperty,kI=Object.prototype.propertyIsEnumerable,Hg=(t,a,n)=>a in t?yI(t,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[a]=n,Wg=(t,a)=>{for(var n in a||(a={}))wI.call(a,n)&&Hg(t,n,a[n]);if(Qg)for(var n of Qg(a))kI.call(a,n)&&Hg(t,n,a[n]);return t},xI=(t,a)=>bI(t,SI(a)),PI=(t,a,n)=>new Promise((r,s)=>{var l=i=>{try{o(n.next(i))}catch(c){s(c)}},u=i=>{try{o(n.throw(i))}catch(c){s(c)}},o=i=>i.done?r(i.value):Promise.resolve(i.value).then(l,u);o((n=n.apply(t,a)).next())});const CI=({image:t,isVisible:a,onDelete:n})=>{var r,s,l,u,o,i;const c=Object(ge.a)(),g=He(),[f,p]=Object(d.useState)(!1),[_]=Rc(),S=Ee.e({title:Ee.f().optional().nullable(),rating:Ee.d().optional().nullable(),studio_id:Ee.f().optional().nullable(),performer_ids:Ee.a(Ee.f().required()).optional().nullable(),tag_ids:Ee.a(Ee.f().required()).optional().nullable()}),v={title:(r=t.title)!=null?r:"",rating:(s=t.rating)!=null?s:null,studio_id:(l=t.studio)==null?void 0:l.id,performer_ids:((u=t.performers)!=null?u:[]).map(k=>k.id),tag_ids:((o=t.tags)!=null?o:[]).map(k=>k.id)},x=Object(Wt.d)({initialValues:v,validationSchema:S,onSubmit:k=>M(D(k))});function w(k){x.setFieldValue("rating",k)}Object(d.useEffect)(()=>{if(a)return B.a.bind("s s",()=>{x.handleSubmit()}),B.a.bind("d d",()=>{n()}),B.a.bind("r",()=>{document.activeElement instanceof HTMLElement&&document.activeElement.blur(),B.a.bind("0",()=>w(NaN)),B.a.bind("1",()=>w(1)),B.a.bind("2",()=>w(2)),B.a.bind("3",()=>w(3)),B.a.bind("4",()=>w(4)),B.a.bind("5",()=>w(5)),setTimeout(()=>{B.a.unbind("0"),B.a.unbind("1"),B.a.unbind("2"),B.a.unbind("3"),B.a.unbind("4"),B.a.unbind("5")},1e3)}),()=>{B.a.unbind("s s"),B.a.unbind("d d"),B.a.unbind("r")}});function D(k){return Wg({id:t.id},k)}function M(k){return PI(this,null,function*(){var F;p(!0);try{((F=(yield _({variables:{input:k}})).data)==null?void 0:F.imageUpdate)&&(g.success({content:c.formatMessage({id:"toast.updated_entity"},{entity:c.formatMessage({id:"image"}).toLocaleLowerCase()})}),x.resetForm({values:x.values}))}catch(I){g.error(I)}p(!1)})}function y(k,F,I){return e.a.createElement(m.a.Group,{controlId:F,as:xe.a},tt.renderLabel({title:F}),e.a.createElement(Se.a,{xs:9},e.a.createElement(m.a.Control,xI(Wg({className:"text-input",placeholder:I!=null?I:F},x.getFieldProps(k)),{isInvalid:!!x.getFieldMeta(k).error})),e.a.createElement(m.a.Control.Feedback,{type:"invalid"},x.getFieldMeta(k).error)))}return f?e.a.createElement($e,null):e.a.createElement("div",{id:"image-edit-details"},e.a.createElement(ke.b,{when:x.dirty,message:c.formatMessage({id:"dialogs.unsaved_changes"})}),e.a.createElement(m.a,{noValidate:!0,onSubmit:x.handleSubmit},e.a.createElement("div",{className:"form-container row px-3 pt-3"},e.a.createElement("div",{className:"col edit-buttons mb-3 pl-0"},e.a.createElement(q.a,{className:"edit-button",variant:"primary",disabled:!x.dirty,onClick:()=>x.submitForm()},e.a.createElement(b.a,{id:"actions.save"})),e.a.createElement(q.a,{className:"edit-button",variant:"danger",onClick:()=>n()},e.a.createElement(b.a,{id:"actions.delete"})))),e.a.createElement("div",{className:"form-container row px-3"},e.a.createElement("div",{className:"col-12 col-lg-6 col-xl-12"},y("title",c.formatMessage({id:"title"})),e.a.createElement(m.a.Group,{controlId:"rating",as:xe.a},tt.renderLabel({title:c.formatMessage({id:"rating"})}),e.a.createElement(Se.a,{xs:9},e.a.createElement(Kt,{value:(i=x.values.rating)!=null?i:void 0,onSetRating:k=>x.setFieldValue("rating",k!=null?k:null)}))),e.a.createElement(m.a.Group,{controlId:"studio",as:xe.a},tt.renderLabel({title:c.formatMessage({id:"studio"})}),e.a.createElement(Se.a,{xs:9},e.a.createElement(Ht,{onSelect:k=>{var F;return x.setFieldValue("studio_id",k.length>0?(F=k[0])==null?void 0:F.id:null)},ids:x.values.studio_id?[x.values.studio_id]:[]}))),e.a.createElement(m.a.Group,{controlId:"performers",as:xe.a},tt.renderLabel({title:c.formatMessage({id:"performers"}),labelProps:{column:!0,sm:3,xl:12}}),e.a.createElement(Se.a,{sm:9,xl:12},e.a.createElement(Aa,{isMulti:!0,onSelect:k=>x.setFieldValue("performer_ids",k.map(F=>F.id)),ids:x.values.performer_ids}))),e.a.createElement(m.a.Group,{controlId:"tags",as:xe.a},tt.renderLabel({title:c.formatMessage({id:"tags"}),labelProps:{column:!0,sm:3,xl:12}}),e.a.createElement(Se.a,{sm:9,xl:12},e.a.createElement(jt,{isMulti:!0,onSelect:k=>x.setFieldValue("tag_ids",k.map(F=>F.id)),ids:x.values.tag_ids})))))))},MI=t=>{var a,n;function r(){if(t.image.tags.length===0)return;const o=t.image.tags.map(i=>e.a.createElement(xt,{key:i.id,tag:i,tagType:"image"}));return e.a.createElement(e.a.Fragment,null,e.a.createElement("h6",null,"Tags"),o)}function s(){if(t.image.performers.length===0)return;const i=xr(t.image.performers).map(c=>e.a.createElement(Ii,{key:c.id,performer:c}));return e.a.createElement(e.a.Fragment,null,e.a.createElement("h6",null,"Performers"),e.a.createElement("div",{className:"row justify-content-center image-performers"},i))}function l(){if(t.image.galleries.length===0)return;const o=t.image.galleries.map(i=>e.a.createElement(xt,{key:i.id,gallery:i}));return e.a.createElement(e.a.Fragment,null,e.a.createElement("h6",null,"Galleries"),o)}const u=t.image.studio?"col-9":"col-12";return e.a.createElement(e.a.Fragment,null,e.a.createElement("div",{className:"row"},e.a.createElement("div",{className:`${u} col-xl-12 image-details`},e.a.createElement("div",{className:"image-header d-xl-none"},e.a.createElement("h3",null,e.a.createElement(Mt,{text:(a=t.image.title)!=null?a:Me.fileNameFromPath(t.image.path)}))),t.image.rating?e.a.createElement("h6",null,"Rating: ",e.a.createElement(Kt,{value:t.image.rating})):"",l(),t.image.file.width&&t.image.file.height?e.a.createElement("h6",null,"Resolution:"," ",Me.resolution(t.image.file.width,t.image.file.height)):""),t.image.studio&&e.a.createElement("div",{className:"col-3 d-xl-none"},e.a.createElement(Le.Link,{to:`/studios/${t.image.studio.id}`},e.a.createElement("img",{src:(n=t.image.studio.image_path)!=null?n:"",alt:`${t.image.studio.name} logo`,className:"studio-logo float-right"})))),e.a.createElement("div",{className:"row"},e.a.createElement("div",{className:"col-12"},r(),s())))};var Ar=(t,a,n)=>new Promise((r,s)=>{var l=i=>{try{o(n.next(i))}catch(c){s(c)}},u=i=>{try{o(n.throw(i))}catch(c){s(c)}},o=i=>i.done?r(i.value):Promise.resolve(i.value).then(l,u);o((n=n.apply(t,a)).next())});const OI=()=>{var t,a,n,r,s,l,u,o;const{id:i="new"}=Object(ke.m)(),c=Object(ke.k)(),g=He(),f=Object(ge.a)(),{data:p,error:_,loading:S}=Yv(i),v=p==null?void 0:p.findImage,[x,w]=Object(d.useState)(!1),[D]=ME((t=v==null?void 0:v.id)!=null?t:"0"),[M]=OE((a=v==null?void 0:v.id)!=null?a:"0"),[y]=NE((n=v==null?void 0:v.id)!=null?n:"0"),[k]=Rc(),[F,I]=Object(d.useState)(!1),[j,R]=Object(d.useState)("image-details-panel"),[P,z]=Object(d.useState)(!1);function L(){return Ar(this,null,function*(){!v||(yield pi({paths:[v.path]}),g.success({content:f.formatMessage({id:"toast.rescanning_entity"},{count:1,singularEntity:f.formatMessage({id:"image"})})}))})}const G=()=>Ar(void 0,null,function*(){var re;try{I(!0),yield k({variables:{input:{id:(re=v==null?void 0:v.id)!=null?re:"",organized:!(v==null?void 0:v.organized)}}})}catch(Z){g.error(Z)}finally{I(!1)}}),Y=()=>Ar(void 0,null,function*(){try{w(!0),yield D()}catch(re){g.error(re)}finally{w(!1)}}),V=()=>Ar(void 0,null,function*(){try{w(!0),yield M()}catch(re){g.error(re)}finally{w(!1)}}),U=()=>Ar(void 0,null,function*(){try{w(!0),yield y()}catch(re){g.error(re)}finally{w(!1)}});function te(re){z(!1),re&&c.push("/images")}function oe(){if(P&&v)return e.a.createElement(rd,{selected:[v],onClose:te})}function Q(){return e.a.createElement(ze.a,null,e.a.createElement(ze.a.Toggle,{variant:"secondary",id:"operation-menu",className:"minimal",title:"Operations"},e.a.createElement(le,{icon:"ellipsis-v"})),e.a.createElement(ze.a.Menu,{className:"bg-secondary text-white"},e.a.createElement(ze.a.Item,{key:"rescan",className:"bg-secondary text-white",onClick:()=>L()},e.a.createElement(b.a,{id:"actions.rescan"})),e.a.createElement(ze.a.Item,{key:"delete-image",className:"bg-secondary text-white",onClick:()=>z(!0)},e.a.createElement(b.a,{id:"actions.delete_entity",values:{entityType:f.formatMessage({id:"image"})}}))))}function J(){if(!!v)return e.a.createElement(qe.a.Container,{activeKey:j,onSelect:re=>re&&R(re)},e.a.createElement("div",null,e.a.createElement(De.a,{variant:"tabs",className:"mr-auto"},e.a.createElement(De.a.Item,null,e.a.createElement(De.a.Link,{eventKey:"image-details-panel"},e.a.createElement(b.a,{id:"details"}))),e.a.createElement(De.a.Item,null,e.a.createElement(De.a.Link,{eventKey:"image-file-info-panel"},e.a.createElement(b.a,{id:"file_info"}))),e.a.createElement(De.a.Item,null,e.a.createElement(De.a.Link,{eventKey:"image-edit-panel"},e.a.createElement(b.a,{id:"actions.edit"}))),e.a.createElement(De.a.Item,{className:"ml-auto"},e.a.createElement(tg,{loading:x,value:v.o_counter||0,onIncrement:Y,onDecrement:V,onReset:U})),e.a.createElement(De.a.Item,null,e.a.createElement(wl,{loading:F,organized:v.organized,onClick:G})),e.a.createElement(De.a.Item,null,Q()))),e.a.createElement(qe.a.Content,null,e.a.createElement(qe.a.Pane,{eventKey:"image-details-panel"},e.a.createElement(MI,{image:v})),e.a.createElement(qe.a.Pane,{className:"file-info-panel",eventKey:"image-file-info-panel"},e.a.createElement(EI,{image:v})),e.a.createElement(qe.a.Pane,{eventKey:"image-edit-panel"},e.a.createElement(CI,{isVisible:j==="image-edit-panel",image:v,onDelete:()=>z(!0)}))))}return Object(d.useEffect)(()=>(Ia.bind("a",()=>R("image-details-panel")),Ia.bind("e",()=>R("image-edit-panel")),Ia.bind("f",()=>R("image-file-info-panel")),Ia.bind("o",()=>Y()),()=>{Ia.unbind("a"),Ia.unbind("e"),Ia.unbind("f"),Ia.unbind("o")})),S?e.a.createElement($e,null):_?e.a.createElement($t,{error:_.message}):v?e.a.createElement("div",{className:"row"},e.a.createElement(Tt.a,null,e.a.createElement("title",null,(r=v.title)!=null?r:Me.fileNameFromPath(v.path))),oe(),e.a.createElement("div",{className:"image-tabs order-xl-first order-last"},e.a.createElement("div",{className:"d-none d-xl-block"},v.studio&&e.a.createElement("h1",{className:"text-center"},e.a.createElement(Le.Link,{to:`/studios/${v.studio.id}`},e.a.createElement("img",{src:(s=v.studio.image_path)!=null?s:"",alt:`${v.studio.name} logo`,className:"studio-logo"}))),e.a.createElement("h3",{className:"image-header"},(l=v.title)!=null?l:Me.fileNameFromPath(v.path))),J()),e.a.createElement("div",{className:"image-container"},e.a.createElement("img",{className:"m-sm-auto no-gutter image-image",alt:(u=v.title)!=null?u:"",src:(o=v.paths.image)!=null?o:""}))):e.a.createElement($t,{error:`No image found with id ${i}.`})};var NI=Object.defineProperty,Kg=Object.getOwnPropertySymbols,II=Object.prototype.hasOwnProperty,DI=Object.prototype.propertyIsEnumerable,Yg=(t,a,n)=>a in t?NI(t,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[a]=n,TI=(t,a)=>{for(var n in a||(a={}))II.call(a,n)&&Yg(t,n,a[n]);if(Kg)for(var n of Kg(a))DI.call(a,n)&&Yg(t,n,a[n]);return t},FI=()=>{const a=`${Object(ge.a)().formatMessage({id:"images"})} ${Pa}`;return e.a.createElement(e.a.Fragment,null,e.a.createElement(Tt.a,{defaultTitle:a,titleTemplate:`%s | ${a}`}),e.a.createElement(ke.g,null,e.a.createElement(ke.d,{exact:!0,path:"/images",render:n=>e.a.createElement(Xn,TI({persistState:ca.ALL},n))}),e.a.createElement(ke.d,{path:"/images/:id",component:OI})))},Jg=ne(882),Xg=Object.getOwnPropertySymbols,jI=Object.prototype.hasOwnProperty,LI=Object.prototype.propertyIsEnumerable,AI=(t,a)=>{var n={};for(var r in t)jI.call(t,r)&&a.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Xg)for(var r of Xg(t))a.indexOf(r)<0&&LI.call(t,r)&&(n[r]=t[r]);return n},RI=(t,a,n)=>new Promise((r,s)=>{var l=i=>{try{o(n.next(i))}catch(c){s(c)}},u=i=>{try{o(n.throw(i))}catch(c){s(c)}},o=i=>i.done?r(i.value):Promise.resolve(i.value).then(l,u);o((n=n.apply(t,a)).next())});const zI=()=>{const{configuration:t,loading:a}=Object(d.useContext)(Et),[n,r]=Object(d.useState)(0),[s,l]=Object(d.useState)(""),[u,o]=Object(d.useState)([]),[i,c]=Object(d.useState)(!1),[g,f]=Object(d.useState)(""),[p,_]=Object(d.useState)(""),[S,v]=Object(d.useState)(!1),[x,w]=Object(d.useState)(""),D=Object(ge.a)(),[M,y]=Object(d.useState)(!1),{data:k,loading:F}=nl();Object(d.useEffect)(()=>{(k==null?void 0:k.systemStatus.configPath)&&l(k.systemStatus.configPath)},[k]),Object(d.useEffect)(()=>{if(t){const{stashes:$,generatedPath:X}=t.general;$.length>0&&o($.map(ie=>{const ae=ie,{__typename:se}=ae;return AI(ae,["__typename"])})),X&&f(X)}},[t]);const I=e.a.createElement("a",{href:"https://discord.gg/2TsNFKt",target:"_blank",rel:"noreferrer"},"Discord"),j=e.a.createElement("a",{href:"https://github.com/stashapp/stash/issues",target:"_blank",rel:"noreferrer"},e.a.createElement(b.a,{id:"setup.github_repository"}));function R($){l($),z()}function P($){let X=$;X||(X=1),r(Math.max(0,n-X))}function z(){r(n+1)}function L(){if(u.length>0){z();return}c(!0)}function G(){if(!!i)return e.a.createElement(it,{show:!0,icon:"exclamation-triangle",accept:{text:D.formatMessage({id:"actions.confirm"}),variant:"danger",onClick:()=>{c(!1),z()}},cancel:{onClick:()=>c(!1)}},e.a.createElement("p",null,e.a.createElement(b.a,{id:"setup.paths.stash_alert"})))}function Y(){return e.a.createElement(e.a.Fragment,null,e.a.createElement("section",null,e.a.createElement("h2",{className:"mb-5"},e.a.createElement(b.a,{id:"setup.welcome_to_stash"})),e.a.createElement("p",{className:"lead text-center"},e.a.createElement(b.a,{id:"setup.welcome_specific_config.unable_to_locate_specified_config"})),e.a.createElement("p",null,e.a.createElement(b.a,{id:"setup.welcome_specific_config.config_path",values:{path:s,code:$=>e.a.createElement("code",null,$)}})),e.a.createElement("p",null,e.a.createElement(b.a,{id:"setup.welcome_specific_config.next_step"}))),e.a.createElement("section",{className:"mt-5"},e.a.createElement("div",{className:"d-flex justify-content-center"},e.a.createElement(q.a,{variant:"primary mx-2 p-5",onClick:()=>z()},e.a.createElement(b.a,{id:"actions.next_action"})))))}function V(){return e.a.createElement(e.a.Fragment,null,e.a.createElement("section",null,e.a.createElement("h2",{className:"mb-5"},e.a.createElement(b.a,{id:"setup.welcome_to_stash"})),e.a.createElement("p",{className:"lead text-center"},e.a.createElement(b.a,{id:"setup.welcome.unable_to_locate_config"})),e.a.createElement("p",null,e.a.createElement(b.a,{id:"setup.welcome.config_path_logic_explained",values:{code:$=>e.a.createElement("code",null,$)}})),e.a.createElement(Jg.a,{variant:"info text-center"},e.a.createElement(b.a,{id:"setup.welcome.unexpected_explained",values:{code:$=>e.a.createElement("code",null,$)}})),e.a.createElement("p",null,e.a.createElement(b.a,{id:"setup.welcome.next_step"}))),e.a.createElement("section",{className:"mt-5"},e.a.createElement("h3",{className:"text-center mb-5"},e.a.createElement(b.a,{id:"setup.welcome.store_stash_config"})),e.a.createElement("div",{className:"d-flex justify-content-center"},e.a.createElement(q.a,{variant:"secondary mx-2 p-5",onClick:()=>R("")},e.a.createElement(b.a,{id:"setup.welcome.in_current_stash_directory",values:{code:$=>e.a.createElement("code",null,$)}})),e.a.createElement(q.a,{variant:"secondary mx-2 p-5",onClick:()=>R("config.yml")},e.a.createElement(b.a,{id:"setup.welcome.in_the_current_working_directory"})))))}function U($){$&&f($),y(!1)}function te(){if(!!M)return e.a.createElement(lg,{onClose:U})}function oe(){if(!(t==null?void 0:t.general.generatedPath))return e.a.createElement(m.a.Group,{id:"generated"},e.a.createElement("h3",null,e.a.createElement(b.a,{id:"setup.paths.where_can_stash_store_its_generated_content"})),e.a.createElement("p",null,e.a.createElement(b.a,{id:"setup.paths.where_can_stash_store_its_generated_content_description",values:{code:$=>e.a.createElement("code",null,$)}})),e.a.createElement(Ze.a,null,e.a.createElement(m.a.Control,{className:"text-input",value:g,placeholder:D.formatMessage({id:"setup.paths.path_to_generated_directory_empty_for_default"}),onChange:$=>f($.currentTarget.value)}),e.a.createElement(Ze.a.Append,null,e.a.createElement(q.a,{variant:"secondary",className:"text-input",onClick:()=>y(!0)},e.a.createElement(le,{icon:"ellipsis-h"})))))}function Q(){return e.a.createElement(e.a.Fragment,null,G(),e.a.createElement("section",null,e.a.createElement("h2",{className:"mb-3"},e.a.createElement(b.a,{id:"setup.paths.set_up_your_paths"})),e.a.createElement("p",null,e.a.createElement(b.a,{id:"setup.paths.description"}))),e.a.createElement("section",null,e.a.createElement(m.a.Group,{id:"stashes"},e.a.createElement("h3",null,e.a.createElement(b.a,{id:"setup.paths.where_is_your_porn_located"})),e.a.createElement("p",null,e.a.createElement(b.a,{id:"setup.paths.where_is_your_porn_located_description"})),e.a.createElement(It.a,null,e.a.createElement(ug,{stashes:u,setStashes:$=>o($)}))),e.a.createElement(m.a.Group,{id:"database"},e.a.createElement("h3",null,e.a.createElement(b.a,{id:"setup.paths.where_can_stash_store_its_database"})),e.a.createElement("p",null,e.a.createElement(b.a,{id:"setup.paths.where_can_stash_store_its_database_description",values:{code:$=>e.a.createElement("code",null,$)}})),e.a.createElement(m.a.Control,{className:"text-input",defaultValue:p,placeholder:D.formatMessage({id:"setup.paths.database_filename_empty_for_default"}),onChange:$=>_($.currentTarget.value)})),oe()),e.a.createElement("section",{className:"mt-5"},e.a.createElement("div",{className:"d-flex justify-content-center"},e.a.createElement(q.a,{variant:"secondary mx-2 p-5",onClick:()=>P()},e.a.createElement(b.a,{id:"actions.previous_action"})),e.a.createElement(q.a,{variant:"primary mx-2 p-5",onClick:()=>L()},e.a.createElement(b.a,{id:"actions.next_action"})))))}function J(){return s==="config.yml"?e.a.createElement("code",null,"<current working directory>/config.yml"):s===""?e.a.createElement("code",null,"$HOME/.stash/config.yml"):e.a.createElement("code",null,s)}function re($){if(!$.excludeImage&&!$.excludeVideo)return;const X=[];return $.excludeVideo&&X.push("videos"),$.excludeImage&&X.push("images"),`(excludes ${X.join(" and ")})`}function Z(){return e.a.createElement("ul",null,u.map($=>e.a.createElement("li",{key:$.path},e.a.createElement("code",null,$.path," "),re($))))}function W(){return RI(this,null,function*(){var $;try{v(!0),yield gE({configLocation:s,databaseFile:p,generatedLocation:g,stashes:u})}catch(X){X instanceof Error&&w(($=X.message)!=null?$:X.toString())}finally{v(!1),z()}})}function H(){return e.a.createElement(e.a.Fragment,null,e.a.createElement("section",null,e.a.createElement("h2",{className:"mb-3"},e.a.createElement(b.a,{id:"setup.confirm.nearly_there"})),e.a.createElement("p",null,e.a.createElement(b.a,{id:"setup.confirm.almost_ready"})),e.a.createElement("dl",null,e.a.createElement("dt",null,e.a.createElement(b.a,{id:"setup.confirm.configuration_file_location"})),e.a.createElement("dd",null,J())),e.a.createElement("dl",null,e.a.createElement("dt",null,e.a.createElement(b.a,{id:"setup.confirm.stash_library_directories"})),e.a.createElement("dd",null,Z())),e.a.createElement("dl",null,e.a.createElement("dt",null,e.a.createElement(b.a,{id:"setup.confirm.database_file_path"})),e.a.createElement("dd",null,e.a.createElement("code",null,p!==""?p:D.formatMessage({id:"setup.confirm.default_db_location"})))),e.a.createElement("dl",null,e.a.createElement("dt",null,e.a.createElement(b.a,{id:"setup.confirm.generated_directory"})),e.a.createElement("dd",null,e.a.createElement("code",null,g!==""?g:D.formatMessage({id:"setup.confirm.default_generated_content_location"}))))),e.a.createElement("section",{className:"mt-5"},e.a.createElement("div",{className:"d-flex justify-content-center"},e.a.createElement(q.a,{variant:"secondary mx-2 p-5",onClick:()=>P()},e.a.createElement(b.a,{id:"actions.previous_action"})),e.a.createElement(q.a,{variant:"success mx-2 p-5",onClick:()=>W()},e.a.createElement(b.a,{id:"actions.confirm"})))))}function de(){return e.a.createElement(e.a.Fragment,null,e.a.createElement("section",null,e.a.createElement("h2",null,e.a.createElement(b.a,{id:"setup.errors.something_went_wrong"})),e.a.createElement("p",null,e.a.createElement(b.a,{id:"setup.errors.something_went_wrong_while_setting_up_your_system",values:{error:e.a.createElement("pre",null,x)}})),e.a.createElement("p",null,e.a.createElement(b.a,{id:"setup.errors.something_went_wrong_description",values:{githubLink:j,discordLink:I}}))),e.a.createElement("section",{className:"mt-5"},e.a.createElement("div",{className:"d-flex justify-content-center"},e.a.createElement(q.a,{variant:"secondary mx-2 p-5",onClick:()=>P(2)},e.a.createElement(b.a,{id:"actions.previous_action"})))))}function A(){return e.a.createElement(e.a.Fragment,null,e.a.createElement("section",null,e.a.createElement("h2",null,e.a.createElement(b.a,{id:"setup.success.your_system_has_been_created"})),e.a.createElement("p",null,e.a.createElement(b.a,{id:"setup.success.next_config_step_one"})),e.a.createElement("p",null,e.a.createElement(b.a,{id:"setup.success.next_config_step_two",values:{code:$=>e.a.createElement("code",null,$),localized_task:D.formatMessage({id:"config.categories.tasks"}),localized_scan:D.formatMessage({id:"actions.scan"})}}))),e.a.createElement("section",null,e.a.createElement("h3",null,e.a.createElement(b.a,{id:"setup.success.getting_help"})),e.a.createElement("p",null,e.a.createElement(b.a,{id:"setup.success.in_app_manual_explained",values:{icon:e.a.createElement(le,{icon:"question-circle"})}})),e.a.createElement("p",null,e.a.createElement(b.a,{id:"setup.success.help_links",values:{discordLink:I,githubLink:j}}))),e.a.createElement("section",null,e.a.createElement("h3",null,e.a.createElement(b.a,{id:"setup.success.support_us"})),e.a.createElement("p",null,e.a.createElement(b.a,{id:"setup.success.open_collective",values:{open_collective_link:e.a.createElement("a",{href:"https://opencollective.com/stashapp",target:"_blank",rel:"noreferrer"}," ","OpenCollective"," ")}})),e.a.createElement("p",null,e.a.createElement(b.a,{id:"setup.success.welcome_contrib"}))),e.a.createElement("section",null,e.a.createElement("p",{className:"lead text-center"},e.a.createElement(b.a,{id:"setup.success.thanks_for_trying_stash"}))),e.a.createElement("section",{className:"mt-5"},e.a.createElement("div",{className:"d-flex justify-content-center"},e.a.createElement(Le.Link,{to:"/settings?tab=configuration"},e.a.createElement(q.a,{variant:"success mx-2 p-5",onClick:()=>P(2)},e.a.createElement(b.a,{id:"actions.finish"}))))))}function T(){return x?de():A()}if(F||a)return e.a.createElement($e,null);if(k&&k.systemStatus.status!==Ln.Setup){const $=new URL("/",window.location.toString());return window.location.href=$.toString(),e.a.createElement($e,null)}const C=[k&&k.systemStatus.configPath!==""?Y:V,Q,H,T];function O(){return e.a.createElement(It.a,null,e.a.createElement($e,{message:D.formatMessage({id:"setup.creating.creating_your_system"})}),e.a.createElement(Jg.a,{variant:"info text-center"},e.a.createElement(b.a,{id:"setup.creating.ffmpeg_notice",values:{code:$=>e.a.createElement("code",null,$)}})))}return e.a.createElement(Il.a,null,te(),e.a.createElement("h1",{className:"text-center"},e.a.createElement(b.a,{id:"setup.stash_setup_wizard"})),S?O():e.a.createElement(It.a,null,C[n]()))};var qI=(t,a,n)=>new Promise((r,s)=>{var l=i=>{try{o(n.next(i))}catch(c){s(c)}},u=i=>{try{o(n.throw(i))}catch(c){s(c)}},o=i=>i.done?r(i.value):Promise.resolve(i.value).then(l,u);o((n=n.apply(t,a)).next())});const $I=()=>{const{data:t,loading:a}=nl(),[n,r]=Object(d.useState)(),[s,l]=Object(d.useState)(!1),[u,o]=Object(d.useState)(""),i=Object(ge.a)(),c=new Date().toISOString().replace(/T/g,"_").replace(/-/g,"").replace(/:/g,"").replace(/\..*/,""),g=t?`${t.systemStatus.databasePath}.${t.systemStatus.databaseSchema}.${c}`:"",f=e.a.createElement("a",{href:"https://discord.gg/2TsNFKt",target:"_blank",rel:"noreferrer"},"Discord"),p=e.a.createElement("a",{href:"https://github.com/stashapp/stash/issues",target:"_blank",rel:"noreferrer"},e.a.createElement(b.a,{id:"setup.github_repository"}));if(Object(d.useEffect)(()=>{n===void 0&&g&&r(g)},[g,n]),a||!t)return e.a.createElement($e,null);if(s)return e.a.createElement($e,{message:i.formatMessage({id:"setup.migrate.migrating_database"})});if(t.systemStatus.status!==Ln.NeedsMigration){const x=new URL("/",window.location.toString());return window.location.href=x.toString(),e.a.createElement($e,null)}const _=t.systemStatus;function S(){return qI(this,null,function*(){var x;try{l(!0),o(""),yield fE({backupPath:n!=null?n:""});const w=new URL("/",window.location.toString());window.location.href=w.toString()}catch(w){w instanceof Error&&o((x=w.message)!=null?x:w.toString()),l(!1)}})}function v(){if(!!u)return e.a.createElement("section",null,e.a.createElement("h2",{className:"text-danger"},e.a.createElement(b.a,{id:"setup.migrate.migration_failed"})),e.a.createElement("p",null,e.a.createElement(b.a,{id:"setup.migrate.migration_failed_error"})),e.a.createElement(It.a,null,e.a.createElement("pre",null,u)),e.a.createElement("p",null,e.a.createElement(b.a,{id:"setup.migrate.migration_failed_help",values:{discordLink:f,githubLink:p}})))}return e.a.createElement(Il.a,null,e.a.createElement("h1",{className:"text-center mb-3"},e.a.createElement(b.a,{id:"setup.migrate.migration_required"})),e.a.createElement(It.a,null,e.a.createElement("section",null,e.a.createElement("p",null,e.a.createElement(b.a,{id:"setup.migrate.schema_too_old",values:{databaseSchema:e.a.createElement("strong",null,_.databaseSchema),appSchema:e.a.createElement("strong",null,_.appSchema),strong:x=>e.a.createElement("strong",null,x),code:x=>e.a.createElement("code",null,x)}})),e.a.createElement("p",{className:"lead text-center my-5"},e.a.createElement(b.a,{id:"setup.migrate.migration_irreversible_warning"})),e.a.createElement("p",null,e.a.createElement(b.a,{id:"setup.migrate.backup_recommended",values:{defaultBackupPath:g,code:x=>e.a.createElement("code",null,x)}}))),e.a.createElement("section",null,e.a.createElement(m.a.Group,{id:"migrate"},e.a.createElement(m.a.Label,null,e.a.createElement(b.a,{id:"setup.migrate.backup_database_path_leave_empty_to_disable_backup"})),e.a.createElement(m.a.Control,{className:"text-input",name:"backupPath",defaultValue:n,placeholder:i.formatMessage({id:"setup.paths.database_filename_empty_for_default"}),onChange:x=>r(x.currentTarget.value)}))),e.a.createElement("section",null,e.a.createElement("div",{className:"d-flex justify-content-center"},e.a.createElement(q.a,{variant:"primary mx-2 p-5",onClick:()=>S()},e.a.createElement(b.a,{id:"setup.migrate.perform_schema_migration"})))),v()))};Xf(),My()(B.a),po.b.add(_o.b);const GI={date:{long:{year:"numeric",month:"long",day:"numeric"}}};function Zg(t){return t.replace(/-/,"")}const VI=()=>{var t,a,n,r,s;const l=Vn(),{data:u}=nl(),o="en-GB",i=(r=(n=(a=(t=l.data)==null?void 0:t.configuration)==null?void 0:a.interface)==null?void 0:n.language)!=null?r:o,c=Zg(o),g=Zg(i),f=Object(ia.mergeWith)(Fo[c],Fo[g],(x,w)=>{if(w==="")return x}),p=Py(f),_=Object(ke.n)(["/setup","/migrate"]);Object(d.useEffect)(()=>{if(!!u){if(window.location.pathname!=="/setup"&&u.systemStatus.status===Ln.Setup){const x=new URL("/setup",window.location.toString());window.location.href=x.toString()}if(window.location.pathname!=="/migrate"&&u.systemStatus.status===Ln.NeedsMigration){const x=new URL("/migrate",window.location.toString());window.location.href=x.toString()}}},[u]);function S(){if(!_)return e.a.createElement(cx,null)}function v(){return u?e.a.createElement(ke.g,null,e.a.createElement(ke.d,{exact:!0,path:"/",component:kN}),e.a.createElement(ke.d,{path:"/scenes",component:rO}),e.a.createElement(ke.d,{path:"/images",component:FI}),e.a.createElement(ke.d,{path:"/galleries",component:Pk}),e.a.createElement(ke.d,{path:"/performers",component:HC}),e.a.createElement(ke.d,{path:"/tags",component:vI}),e.a.createElement(ke.d,{path:"/studios",component:BN}),e.a.createElement(ke.d,{path:"/movies",component:L0}),e.a.createElement(ke.d,{path:"/settings",component:tN}),e.a.createElement(ke.d,{path:"/sceneFilenameParser",component:n0}),e.a.createElement(ke.d,{path:"/sceneDuplicateChecker",component:c0}),e.a.createElement(ke.d,{path:"/setup",component:zI}),e.a.createElement(ke.d,{path:"/migrate",component:$I}),e.a.createElement(ke.d,{component:ux})):e.a.createElement($e,null)}return e.a.createElement(Oy,null,e.a.createElement(nf.a,{locale:i,messages:p,formats:GI},e.a.createElement(kf,{configuration:(s=l.data)==null?void 0:s.configuration,loading:l.loading},e.a.createElement(gf,null,e.a.createElement(Bf,null,e.a.createElement(Tt.a,{titleTemplate:`%s ${Pa}`,defaultTitle:"Stash"}),S(),e.a.createElement("div",{className:"main container-fluid"},v()))))))};var GL=ne(438);const BI=Boolean(window.location.hostname==="localhost"||window.location.hostname==="[::1]"||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function ef(t,a){navigator.serviceWorker.register(t).then(n=>{n.onupdatefound=()=>{const r=n.installing;r!=null&&(r.onstatechange=()=>{r.state==="installed"&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),a&&a.onUpdate&&a.onUpdate(n)):(console.log("Content is cached for offline use."),a&&a.onSuccess&&a.onSuccess(n)))})}}).catch(n=>{console.error("Error during service worker registration:",n)})}function UI(t,a){fetch(t).then(n=>{const r=n.headers.get("content-type");n.status===404||r!=null&&r.indexOf("javascript")===-1?navigator.serviceWorker.ready.then(s=>{s.unregister().then(()=>{window.location.reload()})}):ef(t,a)}).catch(()=>{console.log("No internet connection found. App is running in offline mode.")})}function VL(t){if("serviceWorker"in navigator){if(new URL(".",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",()=>{const n="./service-worker.js";BI?(UI(n,t),navigator.serviceWorker.ready.then(()=>{console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")})):ef(n,t)})}}function QI(){"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(t=>{t.unregister()})}af.a.render(e.a.createElement(e.a.Fragment,null,e.a.createElement("link",{rel:"stylesheet",type:"text/css",href:`${Ws()}css`}),e.a.createElement(Le.BrowserRouter,{basename:Mc()},e.a.createElement(E.ApolloProvider,{client:Ic()},e.a.createElement(VI,null)))),document.getElementById("root")),QI()}},[[859,3,4]]]);

//# sourceMappingURL=main.d07ae869.chunk.js.map